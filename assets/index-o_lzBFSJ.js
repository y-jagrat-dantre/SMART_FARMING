var T_=t=>{throw TypeError(t)};var kp=(t,e,n)=>e.has(t)||T_("Cannot "+n);var A=(t,e,n)=>(kp(t,e,"read from private field"),n?n.call(t):e.get(t)),me=(t,e,n)=>e.has(t)?T_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),se=(t,e,n,r)=>(kp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yt=(t,e,n)=>(kp(t,e,"access private method"),n);var Vu=(t,e,n,r)=>({set _(s){se(t,e,s,n)},get _(){return A(t,e,r)}});function lL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var XC={exports:{}},yf={},ZC={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu=Symbol.for("react.element"),uL=Symbol.for("react.portal"),dL=Symbol.for("react.fragment"),hL=Symbol.for("react.strict_mode"),fL=Symbol.for("react.profiler"),pL=Symbol.for("react.provider"),mL=Symbol.for("react.context"),gL=Symbol.for("react.forward_ref"),yL=Symbol.for("react.suspense"),vL=Symbol.for("react.memo"),wL=Symbol.for("react.lazy"),P_=Symbol.iterator;function _L(t){return t===null||typeof t!="object"?null:(t=P_&&t[P_]||t["@@iterator"],typeof t=="function"?t:null)}var e1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t1=Object.assign,n1={};function Ba(t,e,n){this.props=t,this.context=e,this.refs=n1,this.updater=n||e1}Ba.prototype.isReactComponent={};Ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r1(){}r1.prototype=Ba.prototype;function _v(t,e,n){this.props=t,this.context=e,this.refs=n1,this.updater=n||e1}var bv=_v.prototype=new r1;bv.constructor=_v;t1(bv,Ba.prototype);bv.isPureReactComponent=!0;var k_=Array.isArray,s1=Object.prototype.hasOwnProperty,xv={current:null},i1={key:!0,ref:!0,__self:!0,__source:!0};function o1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)s1.call(e,r)&&!i1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:hu,type:t,key:i,ref:o,props:s,_owner:xv.current}}function bL(t,e){return{$$typeof:hu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sv(t){return typeof t=="object"&&t!==null&&t.$$typeof===hu}function xL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I_=/\/+/g;function Ip(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xL(""+t.key):e.toString(36)}function Td(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hu:case uL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ip(o,0):r,k_(s)?(n="",t!=null&&(n=t.replace(I_,"$&/")+"/"),Td(s,e,n,"",function(c){return c})):s!=null&&(Sv(s)&&(s=bL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(I_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",k_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ip(i,a);o+=Td(i,e,n,l,s)}else if(l=_L(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ip(i,a++),o+=Td(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bu(t,e,n){if(t==null)return t;var r=[],s=0;return Td(t,r,"","",function(i){return e.call(n,i,s++)}),r}function SL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},Pd={transition:null},EL={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Pd,ReactCurrentOwner:xv};function a1(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Bu,forEach:function(t,e,n){Bu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bu(t,function(){e++}),e},toArray:function(t){return Bu(t,function(e){return e})||[]},only:function(t){if(!Sv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Ba;ue.Fragment=dL;ue.Profiler=fL;ue.PureComponent=_v;ue.StrictMode=hL;ue.Suspense=yL;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EL;ue.act=a1;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=t1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=xv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)s1.call(e,l)&&!i1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hu,type:t.type,key:s,ref:i,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:mL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pL,_context:t},t.Consumer=t};ue.createElement=o1;ue.createFactory=function(t){var e=o1.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:gL,render:t}};ue.isValidElement=Sv;ue.lazy=function(t){return{$$typeof:wL,_payload:{_status:-1,_result:t},_init:SL}};ue.memo=function(t,e){return{$$typeof:vL,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Pd.transition;Pd.transition={};try{t()}finally{Pd.transition=e}};ue.unstable_act=a1;ue.useCallback=function(t,e){return Dt.current.useCallback(t,e)};ue.useContext=function(t){return Dt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Dt.current.useEffect(t,e)};ue.useId=function(){return Dt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Dt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};ue.useRef=function(t){return Dt.current.useRef(t)};ue.useState=function(t){return Dt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Dt.current.useTransition()};ue.version="18.3.1";ZC.exports=ue;var v=ZC.exports;const M=JC(v),Ev=lL({__proto__:null,default:M},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CL=v,TL=Symbol.for("react.element"),PL=Symbol.for("react.fragment"),kL=Object.prototype.hasOwnProperty,IL=CL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RL={key:!0,ref:!0,__self:!0,__source:!0};function l1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)kL.call(e,r)&&!RL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:TL,type:t,key:i,ref:o,props:s,_owner:IL.current}}yf.Fragment=PL;yf.jsx=l1;yf.jsxs=l1;XC.exports=yf;var p=XC.exports,c1={exports:{}},sn={},u1={exports:{}},d1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,R){var j=k.length;k.push(R);e:for(;0<j;){var z=j-1>>>1,W=k[z];if(0<s(W,R))k[z]=R,k[j]=W,j=z;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var R=k[0],j=k.pop();if(j!==R){k[0]=j;e:for(var z=0,W=k.length,X=W>>>1;z<X;){var Z=2*(z+1)-1,xe=k[Z],Ue=Z+1,V=k[Ue];if(0>s(xe,j))Ue<W&&0>s(V,xe)?(k[z]=V,k[Ue]=j,z=Ue):(k[z]=xe,k[Z]=j,z=Z);else if(Ue<W&&0>s(V,j))k[z]=V,k[Ue]=j,z=Ue;else break e}}return R}function s(k,R){var j=k.sortIndex-R.sortIndex;return j!==0?j:k.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=k)r(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function x(k){if(m=!1,b(k),!g)if(n(l)!==null)g=!0,U(S);else{var R=n(c);R!==null&&$(x,R.startTime-k)}}function S(k,R){g=!1,m&&(m=!1,w(T),T=-1),f=!0;var j=h;try{for(b(R),d=n(l);d!==null&&(!(d.expirationTime>R)||k&&!L());){var z=d.callback;if(typeof z=="function"){d.callback=null,h=d.priorityLevel;var W=z(d.expirationTime<=R);R=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),b(R)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var Z=n(c);Z!==null&&$(x,Z.startTime-R),X=!1}return X}finally{d=null,h=j,f=!1}}var E=!1,C=null,T=-1,P=5,I=-1;function L(){return!(t.unstable_now()-I<P)}function F(){if(C!==null){var k=t.unstable_now();I=k;var R=!0;try{R=C(!0,k)}finally{R?H():(E=!1,C=null)}}else E=!1}var H;if(typeof y=="function")H=function(){y(F)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,G=N.port2;N.port1.onmessage=F,H=function(){G.postMessage(null)}}else H=function(){_(F,0)};function U(k){C=k,E||(E=!0,H())}function $(k,R){T=_(function(){k(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,U(S))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var j=h;h=R;try{return k()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,R){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var j=h;h=k;try{return R()}finally{h=j}},t.unstable_scheduleCallback=function(k,R,j){var z=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?z+j:z):j=z,k){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=j+W,k={id:u++,callback:R,priorityLevel:k,startTime:j,expirationTime:W,sortIndex:-1},j>z?(k.sortIndex=j,e(c,k),n(l)===null&&k===n(c)&&(m?(w(T),T=-1):m=!0,$(x,j-z))):(k.sortIndex=W,e(l,k),g||f||(g=!0,U(S))),k},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(k){var R=h;return function(){var j=h;h=R;try{return k.apply(this,arguments)}finally{h=j}}}})(d1);u1.exports=d1;var AL=u1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NL=v,rn=AL;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h1=new Set,mc={};function so(t,e){_a(t,e),_a(t+"Capture",e)}function _a(t,e){for(mc[t]=e,t=0;t<e.length;t++)h1.add(e[t])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sg=Object.prototype.hasOwnProperty,OL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R_={},A_={};function DL(t){return sg.call(A_,t)?!0:sg.call(R_,t)?!1:OL.test(t)?A_[t]=!0:(R_[t]=!0,!1)}function LL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ML(t,e,n,r){if(e===null||typeof e>"u"||LL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cv=/[\-:]([a-z])/g;function Tv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cv,Tv);mt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cv,Tv);mt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cv,Tv);mt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pv(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ML(e,n,s,r)&&(n=null),r||s===null?DL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=NL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wu=Symbol.for("react.element"),Ao=Symbol.for("react.portal"),No=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),f1=Symbol.for("react.provider"),p1=Symbol.for("react.context"),Iv=Symbol.for("react.forward_ref"),og=Symbol.for("react.suspense"),ag=Symbol.for("react.suspense_list"),Rv=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),m1=Symbol.for("react.offscreen"),N_=Symbol.iterator;function pl(t){return t===null||typeof t!="object"?null:(t=N_&&t[N_]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Rp;function Nl(t){if(Rp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rp=e&&e[1]||""}return`
`+Rp+t}var Ap=!1;function Np(t,e){if(!t||Ap)return"";Ap=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ap=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nl(t):""}function jL(t){switch(t.tag){case 5:return Nl(t.type);case 16:return Nl("Lazy");case 13:return Nl("Suspense");case 19:return Nl("SuspenseList");case 0:case 2:case 15:return t=Np(t.type,!1),t;case 11:return t=Np(t.type.render,!1),t;case 1:return t=Np(t.type,!0),t;default:return""}}function lg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case No:return"Fragment";case Ao:return"Portal";case ig:return"Profiler";case kv:return"StrictMode";case og:return"Suspense";case ag:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p1:return(t.displayName||"Context")+".Consumer";case f1:return(t._context.displayName||"Context")+".Provider";case Iv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rv:return e=t.displayName||null,e!==null?e:lg(t.type)||"Memo";case ss:e=t._payload,t=t._init;try{return lg(t(e))}catch{}}return null}function $L(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lg(e);case 8:return e===kv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $s(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function g1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FL(t){var e=g1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zu(t){t._valueTracker||(t._valueTracker=FL(t))}function y1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=g1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cg(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function O_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$s(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function v1(t,e){e=e.checked,e!=null&&Pv(t,"checked",e,!1)}function ug(t,e){v1(t,e);var n=$s(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dg(t,e.type,n):e.hasOwnProperty("defaultValue")&&dg(t,e.type,$s(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function D_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dg(t,e,n){(e!=="number"||Xd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ol=Array.isArray;function Qo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$s(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function L_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Ol(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$s(n)}}function w1(t,e){var n=$s(e.value),r=$s(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function M_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hu,b1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hu=Hu||document.createElement("div"),Hu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UL=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(t){UL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bl[e]=Bl[t]})});function x1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bl.hasOwnProperty(t)&&Bl[t]?(""+e).trim():e+"px"}function S1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=x1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var VL=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pg(t,e){if(e){if(VL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function mg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gg=null;function Av(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yg=null,Jo=null,Xo=null;function j_(t){if(t=mu(t)){if(typeof yg!="function")throw Error(O(280));var e=t.stateNode;e&&(e=xf(e),yg(t.stateNode,t.type,e))}}function E1(t){Jo?Xo?Xo.push(t):Xo=[t]:Jo=t}function C1(){if(Jo){var t=Jo,e=Xo;if(Xo=Jo=null,j_(t),e)for(t=0;t<e.length;t++)j_(e[t])}}function T1(t,e){return t(e)}function P1(){}var Op=!1;function k1(t,e,n){if(Op)return t(e,n);Op=!0;try{return T1(t,e,n)}finally{Op=!1,(Jo!==null||Xo!==null)&&(P1(),C1())}}function yc(t,e){var n=t.stateNode;if(n===null)return null;var r=xf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var vg=!1;if(Ar)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){vg=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{vg=!1}function BL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Wl=!1,Zd=null,eh=!1,wg=null,WL={onError:function(t){Wl=!0,Zd=t}};function zL(t,e,n,r,s,i,o,a,l){Wl=!1,Zd=null,BL.apply(WL,arguments)}function HL(t,e,n,r,s,i,o,a,l){if(zL.apply(this,arguments),Wl){if(Wl){var c=Zd;Wl=!1,Zd=null}else throw Error(O(198));eh||(eh=!0,wg=c)}}function io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function I1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $_(t){if(io(t)!==t)throw Error(O(188))}function KL(t){var e=t.alternate;if(!e){if(e=io(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return $_(s),t;if(i===r)return $_(s),e;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function R1(t){return t=KL(t),t!==null?A1(t):null}function A1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=A1(t);if(e!==null)return e;t=t.sibling}return null}var N1=rn.unstable_scheduleCallback,F_=rn.unstable_cancelCallback,GL=rn.unstable_shouldYield,qL=rn.unstable_requestPaint,Ge=rn.unstable_now,YL=rn.unstable_getCurrentPriorityLevel,Nv=rn.unstable_ImmediatePriority,O1=rn.unstable_UserBlockingPriority,th=rn.unstable_NormalPriority,QL=rn.unstable_LowPriority,D1=rn.unstable_IdlePriority,vf=null,or=null;function JL(t){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(vf,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:eM,XL=Math.log,ZL=Math.LN2;function eM(t){return t>>>=0,t===0?32:31-(XL(t)/ZL|0)|0}var Ku=64,Gu=4194304;function Dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Dl(a):(i&=o,i!==0&&(r=Dl(i)))}else o=n&~s,o!==0?r=Dl(o):i!==0&&(r=Dl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),s=1<<n,r|=t[n],e&=~s;return r}function tM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Bn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=tM(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function _g(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L1(){var t=Ku;return Ku<<=1,!(Ku&4194240)&&(Ku=64),t}function Dp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function rM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ov(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var be=0;function M1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var j1,Dv,$1,F1,U1,bg=!1,qu=[],bs=null,xs=null,Ss=null,vc=new Map,wc=new Map,os=[],sM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U_(t,e){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":vc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(e.pointerId)}}function gl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=mu(e),e!==null&&Dv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function iM(t,e,n,r,s){switch(e){case"focusin":return bs=gl(bs,t,e,n,r,s),!0;case"dragenter":return xs=gl(xs,t,e,n,r,s),!0;case"mouseover":return Ss=gl(Ss,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return vc.set(i,gl(vc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wc.set(i,gl(wc.get(i)||null,t,e,n,r,s)),!0}return!1}function V1(t){var e=wi(t.target);if(e!==null){var n=io(e);if(n!==null){if(e=n.tag,e===13){if(e=I1(n),e!==null){t.blockedOn=e,U1(t.priority,function(){$1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gg=r,n.target.dispatchEvent(r),gg=null}else return e=mu(n),e!==null&&Dv(e),t.blockedOn=n,!1;e.shift()}return!0}function V_(t,e,n){kd(t)&&n.delete(e)}function oM(){bg=!1,bs!==null&&kd(bs)&&(bs=null),xs!==null&&kd(xs)&&(xs=null),Ss!==null&&kd(Ss)&&(Ss=null),vc.forEach(V_),wc.forEach(V_)}function yl(t,e){t.blockedOn===e&&(t.blockedOn=null,bg||(bg=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,oM)))}function _c(t){function e(s){return yl(s,t)}if(0<qu.length){yl(qu[0],t);for(var n=1;n<qu.length;n++){var r=qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bs!==null&&yl(bs,t),xs!==null&&yl(xs,t),Ss!==null&&yl(Ss,t),vc.forEach(e),wc.forEach(e),n=0;n<os.length;n++)r=os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<os.length&&(n=os[0],n.blockedOn===null);)V1(n),n.blockedOn===null&&os.shift()}var Zo=Br.ReactCurrentBatchConfig,rh=!0;function aM(t,e,n,r){var s=be,i=Zo.transition;Zo.transition=null;try{be=1,Lv(t,e,n,r)}finally{be=s,Zo.transition=i}}function lM(t,e,n,r){var s=be,i=Zo.transition;Zo.transition=null;try{be=4,Lv(t,e,n,r)}finally{be=s,Zo.transition=i}}function Lv(t,e,n,r){if(rh){var s=xg(t,e,n,r);if(s===null)zp(t,e,r,sh,n),U_(t,r);else if(iM(s,t,e,n,r))r.stopPropagation();else if(U_(t,r),e&4&&-1<sM.indexOf(t)){for(;s!==null;){var i=mu(s);if(i!==null&&j1(i),i=xg(t,e,n,r),i===null&&zp(t,e,r,sh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zp(t,e,r,null,n)}}var sh=null;function xg(t,e,n,r){if(sh=null,t=Av(r),t=wi(t),t!==null)if(e=io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=I1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sh=t,null}function B1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YL()){case Nv:return 1;case O1:return 4;case th:case QL:return 16;case D1:return 536870912;default:return 16}default:return 16}}var vs=null,Mv=null,Id=null;function W1(){if(Id)return Id;var t,e=Mv,n=e.length,r,s="value"in vs?vs.value:vs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Id=s.slice(t,1<r?1-r:void 0)}function Rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yu(){return!0}function B_(){return!1}function on(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yu:B_,this.isPropagationStopped=B_,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),e}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jv=on(Wa),pu=Fe({},Wa,{view:0,detail:0}),cM=on(pu),Lp,Mp,vl,wf=Fe({},pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$v,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vl&&(vl&&t.type==="mousemove"?(Lp=t.screenX-vl.screenX,Mp=t.screenY-vl.screenY):Mp=Lp=0,vl=t),Lp)},movementY:function(t){return"movementY"in t?t.movementY:Mp}}),W_=on(wf),uM=Fe({},wf,{dataTransfer:0}),dM=on(uM),hM=Fe({},pu,{relatedTarget:0}),jp=on(hM),fM=Fe({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),pM=on(fM),mM=Fe({},Wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gM=on(mM),yM=Fe({},Wa,{data:0}),z_=on(yM),vM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_M={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_M[t])?!!e[t]:!1}function $v(){return bM}var xM=Fe({},pu,{key:function(t){if(t.key){var e=vM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$v,charCode:function(t){return t.type==="keypress"?Rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SM=on(xM),EM=Fe({},wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H_=on(EM),CM=Fe({},pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$v}),TM=on(CM),PM=Fe({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),kM=on(PM),IM=Fe({},wf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RM=on(IM),AM=[9,13,27,32],Fv=Ar&&"CompositionEvent"in window,zl=null;Ar&&"documentMode"in document&&(zl=document.documentMode);var NM=Ar&&"TextEvent"in window&&!zl,z1=Ar&&(!Fv||zl&&8<zl&&11>=zl),K_=" ",G_=!1;function H1(t,e){switch(t){case"keyup":return AM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function OM(t,e){switch(t){case"compositionend":return K1(e);case"keypress":return e.which!==32?null:(G_=!0,K_);case"textInput":return t=e.data,t===K_&&G_?null:t;default:return null}}function DM(t,e){if(Oo)return t==="compositionend"||!Fv&&H1(t,e)?(t=W1(),Id=Mv=vs=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return z1&&e.locale!=="ko"?null:e.data;default:return null}}var LM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LM[t.type]:e==="textarea"}function G1(t,e,n,r){E1(r),e=ih(e,"onChange"),0<e.length&&(n=new jv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hl=null,bc=null;function MM(t){sT(t,0)}function _f(t){var e=Mo(t);if(y1(e))return t}function jM(t,e){if(t==="change")return e}var q1=!1;if(Ar){var $p;if(Ar){var Fp="oninput"in document;if(!Fp){var Y_=document.createElement("div");Y_.setAttribute("oninput","return;"),Fp=typeof Y_.oninput=="function"}$p=Fp}else $p=!1;q1=$p&&(!document.documentMode||9<document.documentMode)}function Q_(){Hl&&(Hl.detachEvent("onpropertychange",Y1),bc=Hl=null)}function Y1(t){if(t.propertyName==="value"&&_f(bc)){var e=[];G1(e,bc,t,Av(t)),k1(MM,e)}}function $M(t,e,n){t==="focusin"?(Q_(),Hl=e,bc=n,Hl.attachEvent("onpropertychange",Y1)):t==="focusout"&&Q_()}function FM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _f(bc)}function UM(t,e){if(t==="click")return _f(e)}function VM(t,e){if(t==="input"||t==="change")return _f(e)}function BM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:BM;function xc(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!sg.call(e,s)||!Hn(t[s],e[s]))return!1}return!0}function J_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X_(t,e){var n=J_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J_(n)}}function Q1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J1(){for(var t=window,e=Xd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xd(t.document)}return e}function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WM(t){var e=J1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Q1(n.ownerDocument.documentElement,n)){if(r!==null&&Uv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=X_(n,i);var o=X_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zM=Ar&&"documentMode"in document&&11>=document.documentMode,Do=null,Sg=null,Kl=null,Eg=!1;function Z_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eg||Do==null||Do!==Xd(r)||(r=Do,"selectionStart"in r&&Uv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kl&&xc(Kl,r)||(Kl=r,r=ih(Sg,"onSelect"),0<r.length&&(e=new jv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Do)))}function Qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lo={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},Up={},X1={};Ar&&(X1=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function bf(t){if(Up[t])return Up[t];if(!Lo[t])return t;var e=Lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in X1)return Up[t]=e[n];return t}var Z1=bf("animationend"),eT=bf("animationiteration"),tT=bf("animationstart"),nT=bf("transitionend"),rT=new Map,eb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qs(t,e){rT.set(t,e),so(e,[t])}for(var Vp=0;Vp<eb.length;Vp++){var Bp=eb[Vp],HM=Bp.toLowerCase(),KM=Bp[0].toUpperCase()+Bp.slice(1);qs(HM,"on"+KM)}qs(Z1,"onAnimationEnd");qs(eT,"onAnimationIteration");qs(tT,"onAnimationStart");qs("dblclick","onDoubleClick");qs("focusin","onFocus");qs("focusout","onBlur");qs(nT,"onTransitionEnd");_a("onMouseEnter",["mouseout","mouseover"]);_a("onMouseLeave",["mouseout","mouseover"]);_a("onPointerEnter",["pointerout","pointerover"]);_a("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function tb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HL(r,e,void 0,t),t.currentTarget=null}function sT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;tb(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;tb(s,a,c),i=l}}}if(eh)throw t=wg,eh=!1,wg=null,t}function Re(t,e){var n=e[Ig];n===void 0&&(n=e[Ig]=new Set);var r=t+"__bubble";n.has(r)||(iT(e,t,2,!1),n.add(r))}function Wp(t,e,n){var r=0;e&&(r|=4),iT(n,t,r,e)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Sc(t){if(!t[Ju]){t[Ju]=!0,h1.forEach(function(n){n!=="selectionchange"&&(GM.has(n)||Wp(n,!1,t),Wp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ju]||(e[Ju]=!0,Wp("selectionchange",!1,e))}}function iT(t,e,n,r){switch(B1(e)){case 1:var s=aM;break;case 4:s=lM;break;default:s=Lv}n=s.bind(null,e,n,t),s=void 0,!vg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=wi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}k1(function(){var c=i,u=Av(n),d=[];e:{var h=rT.get(t);if(h!==void 0){var f=jv,g=t;switch(t){case"keypress":if(Rd(n)===0)break e;case"keydown":case"keyup":f=SM;break;case"focusin":g="focus",f=jp;break;case"focusout":g="blur",f=jp;break;case"beforeblur":case"afterblur":f=jp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=W_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=dM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=TM;break;case Z1:case eT:case tT:f=pM;break;case nT:f=kM;break;case"scroll":f=cM;break;case"wheel":f=RM;break;case"copy":case"cut":case"paste":f=gM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=H_}var m=(e&4)!==0,_=!m&&t==="scroll",w=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,b;y!==null;){b=y;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,w!==null&&(x=yc(y,w),x!=null&&m.push(Ec(y,x,b)))),_)break;y=y.return}0<m.length&&(h=new f(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==gg&&(g=n.relatedTarget||n.fromElement)&&(wi(g)||g[Nr]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=c,g=g?wi(g):null,g!==null&&(_=io(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(m=W_,x="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=H_,x="onPointerLeave",w="onPointerEnter",y="pointer"),_=f==null?h:Mo(f),b=g==null?h:Mo(g),h=new m(x,y+"leave",f,n,u),h.target=_,h.relatedTarget=b,x=null,wi(u)===c&&(m=new m(w,y+"enter",g,n,u),m.target=b,m.relatedTarget=_,x=m),_=x,f&&g)t:{for(m=f,w=g,y=0,b=m;b;b=yo(b))y++;for(b=0,x=w;x;x=yo(x))b++;for(;0<y-b;)m=yo(m),y--;for(;0<b-y;)w=yo(w),b--;for(;y--;){if(m===w||w!==null&&m===w.alternate)break t;m=yo(m),w=yo(w)}m=null}else m=null;f!==null&&nb(d,h,f,m,!1),g!==null&&_!==null&&nb(d,_,g,m,!0)}}e:{if(h=c?Mo(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=jM;else if(q_(h))if(q1)S=VM;else{S=FM;var E=$M}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=UM);if(S&&(S=S(t,c))){G1(d,S,n,u);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&dg(h,"number",h.value)}switch(E=c?Mo(c):window,t){case"focusin":(q_(E)||E.contentEditable==="true")&&(Do=E,Sg=c,Kl=null);break;case"focusout":Kl=Sg=Do=null;break;case"mousedown":Eg=!0;break;case"contextmenu":case"mouseup":case"dragend":Eg=!1,Z_(d,n,u);break;case"selectionchange":if(zM)break;case"keydown":case"keyup":Z_(d,n,u)}var C;if(Fv)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Oo?H1(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(z1&&n.locale!=="ko"&&(Oo||T!=="onCompositionStart"?T==="onCompositionEnd"&&Oo&&(C=W1()):(vs=u,Mv="value"in vs?vs.value:vs.textContent,Oo=!0)),E=ih(c,T),0<E.length&&(T=new z_(T,t,null,n,u),d.push({event:T,listeners:E}),C?T.data=C:(C=K1(n),C!==null&&(T.data=C)))),(C=NM?OM(t,n):DM(t,n))&&(c=ih(c,"onBeforeInput"),0<c.length&&(u=new z_("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}sT(d,e)})}function Ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=yc(t,n),i!=null&&r.unshift(Ec(t,i,s)),i=yc(t,e),i!=null&&r.push(Ec(t,i,s))),t=t.return}return r}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=yc(n,i),l!=null&&o.unshift(Ec(n,l,a))):s||(l=yc(n,i),l!=null&&o.push(Ec(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qM=/\r\n?/g,YM=/\u0000|\uFFFD/g;function rb(t){return(typeof t=="string"?t:""+t).replace(qM,`
`).replace(YM,"")}function Xu(t,e,n){if(e=rb(e),rb(t)!==e&&n)throw Error(O(425))}function oh(){}var Cg=null,Tg=null;function Pg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kg=typeof setTimeout=="function"?setTimeout:void 0,QM=typeof clearTimeout=="function"?clearTimeout:void 0,sb=typeof Promise=="function"?Promise:void 0,JM=typeof queueMicrotask=="function"?queueMicrotask:typeof sb<"u"?function(t){return sb.resolve(null).then(t).catch(XM)}:kg;function XM(t){setTimeout(function(){throw t})}function Hp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),_c(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_c(e)}function Es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ib(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var za=Math.random().toString(36).slice(2),nr="__reactFiber$"+za,Cc="__reactProps$"+za,Nr="__reactContainer$"+za,Ig="__reactEvents$"+za,ZM="__reactListeners$"+za,ej="__reactHandles$"+za;function wi(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nr]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ib(t);t!==null;){if(n=t[nr])return n;t=ib(t)}return e}t=n,n=t.parentNode}return null}function mu(t){return t=t[nr]||t[Nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function xf(t){return t[Cc]||null}var Rg=[],jo=-1;function Ys(t){return{current:t}}function Ne(t){0>jo||(t.current=Rg[jo],Rg[jo]=null,jo--)}function ke(t,e){jo++,Rg[jo]=t.current,t.current=e}var Fs={},Et=Ys(Fs),zt=Ys(!1),Bi=Fs;function ba(t,e){var n=t.type.contextTypes;if(!n)return Fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(t){return t=t.childContextTypes,t!=null}function ah(){Ne(zt),Ne(Et)}function ob(t,e,n){if(Et.current!==Fs)throw Error(O(168));ke(Et,e),ke(zt,n)}function oT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(O(108,$L(t)||"Unknown",s));return Fe({},n,r)}function lh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fs,Bi=Et.current,ke(Et,t),ke(zt,zt.current),!0}function ab(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=oT(t,e,Bi),r.__reactInternalMemoizedMergedChildContext=t,Ne(zt),Ne(Et),ke(Et,t)):Ne(zt),ke(zt,n)}var xr=null,Sf=!1,Kp=!1;function aT(t){xr===null?xr=[t]:xr.push(t)}function tj(t){Sf=!0,aT(t)}function Qs(){if(!Kp&&xr!==null){Kp=!0;var t=0,e=be;try{var n=xr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,Sf=!1}catch(s){throw xr!==null&&(xr=xr.slice(t+1)),N1(Nv,Qs),s}finally{be=e,Kp=!1}}return null}var $o=[],Fo=0,ch=null,uh=0,hn=[],fn=0,Wi=null,Er=1,Cr="";function di(t,e){$o[Fo++]=uh,$o[Fo++]=ch,ch=t,uh=e}function lT(t,e,n){hn[fn++]=Er,hn[fn++]=Cr,hn[fn++]=Wi,Wi=t;var r=Er;t=Cr;var s=32-Bn(r)-1;r&=~(1<<s),n+=1;var i=32-Bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Er=1<<32-Bn(e)+s|n<<s|r,Cr=i+t}else Er=1<<i|n<<s|r,Cr=t}function Vv(t){t.return!==null&&(di(t,1),lT(t,1,0))}function Bv(t){for(;t===ch;)ch=$o[--Fo],$o[Fo]=null,uh=$o[--Fo],$o[Fo]=null;for(;t===Wi;)Wi=hn[--fn],hn[fn]=null,Cr=hn[--fn],hn[fn]=null,Er=hn[--fn],hn[fn]=null}var tn=null,Zt=null,De=!1,Mn=null;function cT(t,e){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,Zt=Es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wi!==null?{id:Er,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,Zt=null,!0):!1;default:return!1}}function Ag(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ng(t){if(De){var e=Zt;if(e){var n=e;if(!lb(t,e)){if(Ag(t))throw Error(O(418));e=Es(n.nextSibling);var r=tn;e&&lb(t,e)?cT(r,n):(t.flags=t.flags&-4097|2,De=!1,tn=t)}}else{if(Ag(t))throw Error(O(418));t.flags=t.flags&-4097|2,De=!1,tn=t}}}function cb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Zu(t){if(t!==tn)return!1;if(!De)return cb(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pg(t.type,t.memoizedProps)),e&&(e=Zt)){if(Ag(t))throw uT(),Error(O(418));for(;e;)cT(t,e),e=Es(e.nextSibling)}if(cb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=Es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=tn?Es(t.stateNode.nextSibling):null;return!0}function uT(){for(var t=Zt;t;)t=Es(t.nextSibling)}function xa(){Zt=tn=null,De=!1}function Wv(t){Mn===null?Mn=[t]:Mn.push(t)}var nj=Br.ReactCurrentBatchConfig;function wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function ed(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ub(t){var e=t._init;return e(t._payload)}function dT(t){function e(w,y){if(t){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=ks(w,y),w.index=0,w.sibling=null,w}function i(w,y,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,b,x){return y===null||y.tag!==6?(y=Zp(b,w.mode,x),y.return=w,y):(y=s(y,b),y.return=w,y)}function l(w,y,b,x){var S=b.type;return S===No?u(w,y,b.props.children,x,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ss&&ub(S)===y.type)?(x=s(y,b.props),x.ref=wl(w,y,b),x.return=w,x):(x=jd(b.type,b.key,b.props,null,w.mode,x),x.ref=wl(w,y,b),x.return=w,x)}function c(w,y,b,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=em(b,w.mode,x),y.return=w,y):(y=s(y,b.children||[]),y.return=w,y)}function u(w,y,b,x,S){return y===null||y.tag!==7?(y=Di(b,w.mode,x,S),y.return=w,y):(y=s(y,b),y.return=w,y)}function d(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zp(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wu:return b=jd(y.type,y.key,y.props,null,w.mode,b),b.ref=wl(w,null,y),b.return=w,b;case Ao:return y=em(y,w.mode,b),y.return=w,y;case ss:var x=y._init;return d(w,x(y._payload),b)}if(Ol(y)||pl(y))return y=Di(y,w.mode,b,null),y.return=w,y;ed(w,y)}return null}function h(w,y,b,x){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(w,y,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wu:return b.key===S?l(w,y,b,x):null;case Ao:return b.key===S?c(w,y,b,x):null;case ss:return S=b._init,h(w,y,S(b._payload),x)}if(Ol(b)||pl(b))return S!==null?null:u(w,y,b,x,null);ed(w,b)}return null}function f(w,y,b,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(b)||null,a(y,w,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wu:return w=w.get(x.key===null?b:x.key)||null,l(y,w,x,S);case Ao:return w=w.get(x.key===null?b:x.key)||null,c(y,w,x,S);case ss:var E=x._init;return f(w,y,b,E(x._payload),S)}if(Ol(x)||pl(x))return w=w.get(b)||null,u(y,w,x,S,null);ed(y,x)}return null}function g(w,y,b,x){for(var S=null,E=null,C=y,T=y=0,P=null;C!==null&&T<b.length;T++){C.index>T?(P=C,C=null):P=C.sibling;var I=h(w,C,b[T],x);if(I===null){C===null&&(C=P);break}t&&C&&I.alternate===null&&e(w,C),y=i(I,y,T),E===null?S=I:E.sibling=I,E=I,C=P}if(T===b.length)return n(w,C),De&&di(w,T),S;if(C===null){for(;T<b.length;T++)C=d(w,b[T],x),C!==null&&(y=i(C,y,T),E===null?S=C:E.sibling=C,E=C);return De&&di(w,T),S}for(C=r(w,C);T<b.length;T++)P=f(C,w,T,b[T],x),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),y=i(P,y,T),E===null?S=P:E.sibling=P,E=P);return t&&C.forEach(function(L){return e(w,L)}),De&&di(w,T),S}function m(w,y,b,x){var S=pl(b);if(typeof S!="function")throw Error(O(150));if(b=S.call(b),b==null)throw Error(O(151));for(var E=S=null,C=y,T=y=0,P=null,I=b.next();C!==null&&!I.done;T++,I=b.next()){C.index>T?(P=C,C=null):P=C.sibling;var L=h(w,C,I.value,x);if(L===null){C===null&&(C=P);break}t&&C&&L.alternate===null&&e(w,C),y=i(L,y,T),E===null?S=L:E.sibling=L,E=L,C=P}if(I.done)return n(w,C),De&&di(w,T),S;if(C===null){for(;!I.done;T++,I=b.next())I=d(w,I.value,x),I!==null&&(y=i(I,y,T),E===null?S=I:E.sibling=I,E=I);return De&&di(w,T),S}for(C=r(w,C);!I.done;T++,I=b.next())I=f(C,w,T,I.value,x),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),y=i(I,y,T),E===null?S=I:E.sibling=I,E=I);return t&&C.forEach(function(F){return e(w,F)}),De&&di(w,T),S}function _(w,y,b,x){if(typeof b=="object"&&b!==null&&b.type===No&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Wu:e:{for(var S=b.key,E=y;E!==null;){if(E.key===S){if(S=b.type,S===No){if(E.tag===7){n(w,E.sibling),y=s(E,b.props.children),y.return=w,w=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ss&&ub(S)===E.type){n(w,E.sibling),y=s(E,b.props),y.ref=wl(w,E,b),y.return=w,w=y;break e}n(w,E);break}else e(w,E);E=E.sibling}b.type===No?(y=Di(b.props.children,w.mode,x,b.key),y.return=w,w=y):(x=jd(b.type,b.key,b.props,null,w.mode,x),x.ref=wl(w,y,b),x.return=w,w=x)}return o(w);case Ao:e:{for(E=b.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(w,y.sibling),y=s(y,b.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=em(b,w.mode,x),y.return=w,w=y}return o(w);case ss:return E=b._init,_(w,y,E(b._payload),x)}if(Ol(b))return g(w,y,b,x);if(pl(b))return m(w,y,b,x);ed(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,b),y.return=w,w=y):(n(w,y),y=Zp(b,w.mode,x),y.return=w,w=y),o(w)):n(w,y)}return _}var Sa=dT(!0),hT=dT(!1),dh=Ys(null),hh=null,Uo=null,zv=null;function Hv(){zv=Uo=hh=null}function Kv(t){var e=dh.current;Ne(dh),t._currentValue=e}function Og(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ea(t,e){hh=t,zv=Uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(zv!==t)if(t={context:t,memoizedValue:e,next:null},Uo===null){if(hh===null)throw Error(O(308));Uo=t,hh.dependencies={lanes:0,firstContext:t}}else Uo=Uo.next=t;return e}var _i=null;function Gv(t){_i===null?_i=[t]:_i.push(t)}function fT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Gv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Or(t,r)}function Or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var is=!1;function qv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Or(t,n)}return s=r.interleaved,s===null?(e.next=e,Gv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Or(t,n)}function Ad(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ov(t,n)}}function db(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fh(t,e,n,r){var s=t.updateQueue;is=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(h=e,f=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=Fe({},d,h);break e;case 2:is=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Hi|=o,t.lanes=o,t.memoizedState=d}}function hb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var gu={},ar=Ys(gu),Tc=Ys(gu),Pc=Ys(gu);function bi(t){if(t===gu)throw Error(O(174));return t}function Yv(t,e){switch(ke(Pc,e),ke(Tc,t),ke(ar,gu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fg(e,t)}Ne(ar),ke(ar,e)}function Ea(){Ne(ar),Ne(Tc),Ne(Pc)}function mT(t){bi(Pc.current);var e=bi(ar.current),n=fg(e,t.type);e!==n&&(ke(Tc,t),ke(ar,n))}function Qv(t){Tc.current===t&&(Ne(ar),Ne(Tc))}var Me=Ys(0);function ph(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gp=[];function Jv(){for(var t=0;t<Gp.length;t++)Gp[t]._workInProgressVersionPrimary=null;Gp.length=0}var Nd=Br.ReactCurrentDispatcher,qp=Br.ReactCurrentBatchConfig,zi=0,$e=null,et=null,ot=null,mh=!1,Gl=!1,kc=0,rj=0;function vt(){throw Error(O(321))}function Xv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function Zv(t,e,n,r,s,i){if(zi=i,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nd.current=t===null||t.memoizedState===null?aj:lj,t=n(r,s),Gl){i=0;do{if(Gl=!1,kc=0,25<=i)throw Error(O(301));i+=1,ot=et=null,e.updateQueue=null,Nd.current=cj,t=n(r,s)}while(Gl)}if(Nd.current=gh,e=et!==null&&et.next!==null,zi=0,ot=et=$e=null,mh=!1,e)throw Error(O(300));return t}function ew(){var t=kc!==0;return kc=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?$e.memoizedState=ot=t:ot=ot.next=t,ot}function _n(){if(et===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=ot===null?$e.memoizedState:ot.next;if(e!==null)ot=e,et=t;else{if(t===null)throw Error(O(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},ot===null?$e.memoizedState=ot=t:ot=ot.next=t}return ot}function Ic(t,e){return typeof e=="function"?e(t):e}function Yp(t){var e=_n(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((zi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,$e.lanes|=u,Hi|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,$e.lanes|=i,Hi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qp(t){var e=_n(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Hn(i,e.memoizedState)||(Ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function gT(){}function yT(t,e){var n=$e,r=_n(),s=e(),i=!Hn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ut=!0),r=r.queue,tw(_T.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Rc(9,wT.bind(null,n,r,s,e),void 0,null),ut===null)throw Error(O(349));zi&30||vT(n,e,s)}return s}function vT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wT(t,e,n,r){e.value=n,e.getSnapshot=r,bT(e)&&xT(t)}function _T(t,e,n){return n(function(){bT(e)&&xT(t)})}function bT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function xT(t){var e=Or(t,1);e!==null&&Wn(e,t,1,-1)}function fb(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:t},e.queue=t,t=t.dispatch=oj.bind(null,$e,t),[e.memoizedState,t]}function Rc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ST(){return _n().memoizedState}function Od(t,e,n,r){var s=Qn();$e.flags|=t,s.memoizedState=Rc(1|e,n,void 0,r===void 0?null:r)}function Ef(t,e,n,r){var s=_n();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&Xv(r,o.deps)){s.memoizedState=Rc(e,n,i,r);return}}$e.flags|=t,s.memoizedState=Rc(1|e,n,i,r)}function pb(t,e){return Od(8390656,8,t,e)}function tw(t,e){return Ef(2048,8,t,e)}function ET(t,e){return Ef(4,2,t,e)}function CT(t,e){return Ef(4,4,t,e)}function TT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PT(t,e,n){return n=n!=null?n.concat([t]):null,Ef(4,4,TT.bind(null,e,t),n)}function nw(){}function kT(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function IT(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RT(t,e,n){return zi&21?(Hn(n,e)||(n=L1(),$e.lanes|=n,Hi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function sj(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=qp.transition;qp.transition={};try{t(!1),e()}finally{be=n,qp.transition=r}}function AT(){return _n().memoizedState}function ij(t,e,n){var r=Ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},NT(t))OT(e,n);else if(n=fT(t,e,n,r),n!==null){var s=Nt();Wn(n,t,r,s),DT(n,e,r)}}function oj(t,e,n){var r=Ps(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(NT(t))OT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(s.next=s,Gv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=fT(t,e,s,r),n!==null&&(s=Nt(),Wn(n,t,r,s),DT(n,e,r))}}function NT(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function OT(t,e){Gl=mh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ov(t,n)}}var gh={readContext:wn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},aj={readContext:wn,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:pb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,TT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ij.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:fb,useDebugValue:nw,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=fb(!1),e=t[0];return t=sj.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,s=Qn();if(De){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),ut===null)throw Error(O(349));zi&30||vT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,pb(_T.bind(null,r,i,t),[t]),r.flags|=2048,Rc(9,wT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Qn(),e=ut.identifierPrefix;if(De){var n=Cr,r=Er;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lj={readContext:wn,useCallback:kT,useContext:wn,useEffect:tw,useImperativeHandle:PT,useInsertionEffect:ET,useLayoutEffect:CT,useMemo:IT,useReducer:Yp,useRef:ST,useState:function(){return Yp(Ic)},useDebugValue:nw,useDeferredValue:function(t){var e=_n();return RT(e,et.memoizedState,t)},useTransition:function(){var t=Yp(Ic)[0],e=_n().memoizedState;return[t,e]},useMutableSource:gT,useSyncExternalStore:yT,useId:AT,unstable_isNewReconciler:!1},cj={readContext:wn,useCallback:kT,useContext:wn,useEffect:tw,useImperativeHandle:PT,useInsertionEffect:ET,useLayoutEffect:CT,useMemo:IT,useReducer:Qp,useRef:ST,useState:function(){return Qp(Ic)},useDebugValue:nw,useDeferredValue:function(t){var e=_n();return et===null?e.memoizedState=t:RT(e,et.memoizedState,t)},useTransition:function(){var t=Qp(Ic)[0],e=_n().memoizedState;return[t,e]},useMutableSource:gT,useSyncExternalStore:yT,useId:AT,unstable_isNewReconciler:!1};function Rn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Dg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cf={isMounted:function(t){return(t=t._reactInternals)?io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=Ps(t),i=Ir(r,s);i.payload=e,n!=null&&(i.callback=n),e=Cs(t,i,s),e!==null&&(Wn(e,t,s,r),Ad(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=Ps(t),i=Ir(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Cs(t,i,s),e!==null&&(Wn(e,t,s,r),Ad(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=Ps(t),s=Ir(n,r);s.tag=2,e!=null&&(s.callback=e),e=Cs(t,s,r),e!==null&&(Wn(e,t,r,n),Ad(e,t,r))}};function mb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xc(n,r)||!xc(s,i):!0}function LT(t,e,n){var r=!1,s=Fs,i=e.contextType;return typeof i=="object"&&i!==null?i=wn(i):(s=Ht(e)?Bi:Et.current,r=e.contextTypes,i=(r=r!=null)?ba(t,s):Fs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function gb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cf.enqueueReplaceState(e,e.state,null)}function Lg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},qv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wn(i):(i=Ht(e)?Bi:Et.current,s.context=ba(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Dg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Cf.enqueueReplaceState(s,s.state,null),fh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ca(t,e){try{var n="",r=e;do n+=jL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Jp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uj=typeof WeakMap=="function"?WeakMap:Map;function MT(t,e,n){n=Ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vh||(vh=!0,Kg=r),Mg(t,e)},n}function jT(t,e,n){n=Ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Mg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Mg(t,e),typeof r!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Ej.bind(null,t,e,n),e.then(t,t))}function vb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ir(-1,1),e.tag=2,Cs(n,e,1))),n.lanes|=1),t)}var dj=Br.ReactCurrentOwner,Ut=!1;function kt(t,e,n,r){e.child=t===null?hT(e,null,n,r):Sa(e,t.child,n,r)}function _b(t,e,n,r,s){n=n.render;var i=e.ref;return ea(e,s),r=Zv(t,e,n,r,i,s),n=ew(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dr(t,e,s)):(De&&n&&Vv(e),e.flags|=1,kt(t,e,r,s),e.child)}function bb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!uw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,$T(t,e,i,r,s)):(t=jd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xc,n(o,r)&&t.ref===e.ref)return Dr(t,e,s)}return e.flags|=1,t=ks(i,r),t.ref=e.ref,t.return=e,e.child=t}function $T(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xc(i,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,Dr(t,e,s)}return jg(t,e,n,r,s)}function FT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Bo,Jt),Jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Bo,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(Bo,Jt),Jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ke(Bo,Jt),Jt|=r;return kt(t,e,s,n),e.child}function UT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jg(t,e,n,r,s){var i=Ht(n)?Bi:Et.current;return i=ba(e,i),ea(e,s),n=Zv(t,e,n,r,i,s),r=ew(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dr(t,e,s)):(De&&r&&Vv(e),e.flags|=1,kt(t,e,n,s),e.child)}function xb(t,e,n,r,s){if(Ht(n)){var i=!0;lh(e)}else i=!1;if(ea(e,s),e.stateNode===null)Dd(t,e),LT(e,n,r),Lg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=Ht(n)?Bi:Et.current,c=ba(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&gb(e,o,r,c),is=!1;var h=e.memoizedState;o.state=h,fh(e,r,o,s),l=e.memoizedState,a!==r||h!==l||zt.current||is?(typeof u=="function"&&(Dg(e,n,u,r),l=e.memoizedState),(a=is||mb(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Rn(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Ht(n)?Bi:Et.current,l=ba(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&gb(e,o,r,l),is=!1,h=e.memoizedState,o.state=h,fh(e,r,o,s);var g=e.memoizedState;a!==d||h!==g||zt.current||is?(typeof f=="function"&&(Dg(e,n,f,r),g=e.memoizedState),(c=is||mb(e,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return $g(t,e,n,r,i,s)}function $g(t,e,n,r,s,i){UT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ab(e,n,!1),Dr(t,e,i);r=e.stateNode,dj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Sa(e,t.child,null,i),e.child=Sa(e,null,a,i)):kt(t,e,a,i),e.memoizedState=r.state,s&&ab(e,n,!0),e.child}function VT(t){var e=t.stateNode;e.pendingContext?ob(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ob(t,e.context,!1),Yv(t,e.containerInfo)}function Sb(t,e,n,r,s){return xa(),Wv(s),e.flags|=256,kt(t,e,n,r),e.child}var Fg={dehydrated:null,treeContext:null,retryLane:0};function Ug(t){return{baseLanes:t,cachePool:null,transitions:null}}function BT(t,e,n){var r=e.pendingProps,s=Me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ke(Me,s&1),t===null)return Ng(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=kf(o,r,0,null),t=Di(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ug(n),e.memoizedState=Fg,t):rw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return hj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ks(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ks(a,i):(i=Di(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ug(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Fg,r}return i=t.child,t=i.sibling,r=ks(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rw(t,e){return e=kf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function td(t,e,n,r){return r!==null&&Wv(r),Sa(e,t.child,null,n),t=rw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Jp(Error(O(422))),td(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=kf({mode:"visible",children:r.children},s,0,null),i=Di(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Sa(e,t.child,null,o),e.child.memoizedState=Ug(o),e.memoizedState=Fg,i);if(!(e.mode&1))return td(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(O(419)),r=Jp(i,r,void 0),td(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ut||a){if(r=ut,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Or(t,s),Wn(r,t,s,-1))}return cw(),r=Jp(Error(O(421))),td(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Cj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Zt=Es(s.nextSibling),tn=e,De=!0,Mn=null,t!==null&&(hn[fn++]=Er,hn[fn++]=Cr,hn[fn++]=Wi,Er=t.id,Cr=t.overflow,Wi=e),e=rw(e,r.children),e.flags|=4096,e)}function Eb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Og(t.return,e,n)}function Xp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function WT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(kt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Eb(t,n,e);else if(t.tag===19)Eb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ph(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Xp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ph(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Xp(e,!0,n,null,i);break;case"together":Xp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=ks(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ks(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fj(t,e,n){switch(e.tag){case 3:VT(e),xa();break;case 5:mT(e);break;case 1:Ht(e.type)&&lh(e);break;case 4:Yv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ke(dh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?BT(t,e,n):(ke(Me,Me.current&1),t=Dr(t,e,n),t!==null?t.sibling:null);ke(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,FT(t,e,n)}return Dr(t,e,n)}var zT,Vg,HT,KT;zT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vg=function(){};HT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bi(ar.current);var i=null;switch(n){case"input":s=cg(t,s),r=cg(t,r),i=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":s=hg(t,s),r=hg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oh)}pg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Re("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};KT=function(t,e,n,r){n!==r&&(e.flags|=4)};function _l(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pj(t,e,n){var r=e.pendingProps;switch(Bv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Ht(e.type)&&ah(),wt(e),null;case 3:return r=e.stateNode,Ea(),Ne(zt),Ne(Et),Jv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mn!==null&&(Yg(Mn),Mn=null))),Vg(t,e),wt(e),null;case 5:Qv(e);var s=bi(Pc.current);if(n=e.type,t!==null&&e.stateNode!=null)HT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return wt(e),null}if(t=bi(ar.current),Zu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[nr]=e,r[Cc]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<Ll.length;s++)Re(Ll[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":O_(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":L_(r,i),Re("invalid",r)}pg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Xu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Xu(r.textContent,a,t),s=["children",""+a]):mc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":zu(r),D_(r,i,!0);break;case"textarea":zu(r),M_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=oh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nr]=e,t[Cc]=r,zT(t,e,!1,!1),e.stateNode=t;e:{switch(o=mg(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ll.length;s++)Re(Ll[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":O_(t,r),s=cg(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),Re("invalid",t);break;case"textarea":L_(t,r),s=hg(t,r),Re("invalid",t);break;default:s=r}pg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?S1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&b1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gc(t,l):typeof l=="number"&&gc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Re("scroll",t):l!=null&&Pv(t,i,l,o))}switch(n){case"input":zu(t),D_(t,r,!1);break;case"textarea":zu(t),M_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$s(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=oh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)KT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=bi(Pc.current),bi(ar.current),Zu(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(i=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:Xu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return wt(e),null;case 13:if(Ne(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Zt!==null&&e.mode&1&&!(e.flags&128))uT(),xa(),e.flags|=98560,i=!1;else if(i=Zu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(O(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[nr]=e}else xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),i=!1}else Mn!==null&&(Yg(Mn),Mn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?rt===0&&(rt=3):cw())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return Ea(),Vg(t,e),t===null&&Sc(e.stateNode.containerInfo),wt(e),null;case 10:return Kv(e.type._context),wt(e),null;case 17:return Ht(e.type)&&ah(),wt(e),null;case 19:if(Ne(Me),i=e.memoizedState,i===null)return wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_l(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ph(t),o!==null){for(e.flags|=128,_l(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Me,Me.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>Ta&&(e.flags|=128,r=!0,_l(i,!1),e.lanes=4194304)}else{if(!r)if(t=ph(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!De)return wt(e),null}else 2*Ge()-i.renderingStartTime>Ta&&n!==1073741824&&(e.flags|=128,r=!0,_l(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=Me.current,ke(Me,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return lw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function mj(t,e){switch(Bv(e),e.tag){case 1:return Ht(e.type)&&ah(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ea(),Ne(zt),Ne(Et),Jv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qv(e),null;case 13:if(Ne(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Me),null;case 4:return Ea(),null;case 10:return Kv(e.type._context),null;case 22:case 23:return lw(),null;case 24:return null;default:return null}}var nd=!1,bt=!1,gj=typeof WeakSet=="function"?WeakSet:Set,B=null;function Vo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function Bg(t,e,n){try{n()}catch(r){ze(t,e,r)}}var Cb=!1;function yj(t,e){if(Cg=rh,t=J1(),Uv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tg={focusedElem:t,selectionRange:n},rh=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,_=g.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?m:Rn(e.type,m),_);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(x){ze(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return g=Cb,Cb=!1,g}function ql(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bg(e,n,i)}s=s.next}while(s!==r)}}function Tf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GT(t){var e=t.alternate;e!==null&&(t.alternate=null,GT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[Cc],delete e[Ig],delete e[ZM],delete e[ej])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qT(t){return t.tag===5||t.tag===3||t.tag===4}function Tb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oh));else if(r!==4&&(t=t.child,t!==null))for(zg(t,e,n),t=t.sibling;t!==null;)zg(t,e,n),t=t.sibling}function Hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hg(t,e,n),t=t.sibling;t!==null;)Hg(t,e,n),t=t.sibling}var ht=null,Dn=!1;function Yr(t,e,n){for(n=n.child;n!==null;)YT(t,e,n),n=n.sibling}function YT(t,e,n){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(vf,n)}catch{}switch(n.tag){case 5:bt||Vo(n,e);case 6:var r=ht,s=Dn;ht=null,Yr(t,e,n),ht=r,Dn=s,ht!==null&&(Dn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Dn?(t=ht,n=n.stateNode,t.nodeType===8?Hp(t.parentNode,n):t.nodeType===1&&Hp(t,n),_c(t)):Hp(ht,n.stateNode));break;case 4:r=ht,s=Dn,ht=n.stateNode.containerInfo,Dn=!0,Yr(t,e,n),ht=r,Dn=s;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Bg(n,e,o),s=s.next}while(s!==r)}Yr(t,e,n);break;case 1:if(!bt&&(Vo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}Yr(t,e,n);break;case 21:Yr(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Yr(t,e,n),bt=r):Yr(t,e,n);break;default:Yr(t,e,n)}}function Pb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gj),e.forEach(function(r){var s=Tj.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,Dn=!1;break e;case 3:ht=a.stateNode.containerInfo,Dn=!0;break e;case 4:ht=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(ht===null)throw Error(O(160));YT(i,o,s),ht=null,Dn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ze(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QT(e,t),e=e.sibling}function QT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(e,t),Yn(t),r&4){try{ql(3,t,t.return),Tf(3,t)}catch(m){ze(t,t.return,m)}try{ql(5,t,t.return)}catch(m){ze(t,t.return,m)}}break;case 1:Cn(e,t),Yn(t),r&512&&n!==null&&Vo(n,n.return);break;case 5:if(Cn(e,t),Yn(t),r&512&&n!==null&&Vo(n,n.return),t.flags&32){var s=t.stateNode;try{gc(s,"")}catch(m){ze(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&v1(s,i),mg(a,o);var c=mg(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?S1(s,d):u==="dangerouslySetInnerHTML"?b1(s,d):u==="children"?gc(s,d):Pv(s,u,d,c)}switch(a){case"input":ug(s,i);break;case"textarea":w1(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Qo(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Qo(s,!!i.multiple,i.defaultValue,!0):Qo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cc]=i}catch(m){ze(t,t.return,m)}}break;case 6:if(Cn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(O(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){ze(t,t.return,m)}}break;case 3:if(Cn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_c(e.containerInfo)}catch(m){ze(t,t.return,m)}break;case 4:Cn(e,t),Yn(t);break;case 13:Cn(e,t),Yn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ow=Ge())),r&4&&Pb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(c=bt)||u,Cn(e,t),bt=c):Cn(e,t),Yn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(B=t,u=t.child;u!==null;){for(d=B=u;B!==null;){switch(h=B,f=h.child,h.tag){case 0:case 11:case 14:case 15:ql(4,h,h.return);break;case 1:Vo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){ze(r,n,m)}}break;case 5:Vo(h,h.return);break;case 22:if(h.memoizedState!==null){Ib(d);continue}}f!==null?(f.return=h,B=f):Ib(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=x1("display",o))}catch(m){ze(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ze(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Cn(e,t),Yn(t),r&4&&Pb(t);break;case 21:break;default:Cn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qT(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gc(s,""),r.flags&=-33);var i=Tb(t);Hg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Tb(t);zg(t,a,o);break;default:throw Error(O(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vj(t,e,n){B=t,JT(t)}function JT(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||nd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||bt;a=nd;var c=bt;if(nd=o,(bt=l)&&!c)for(B=s;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?Rb(s):l!==null?(l.return=o,B=l):Rb(s);for(;i!==null;)B=i,JT(i),i=i.sibling;B=s,nd=a,bt=c}kb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,B=i):kb(t)}}function kb(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||Tf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&hb(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&_c(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}bt||e.flags&512&&Wg(e)}catch(h){ze(e,e.return,h)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Ib(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function Rb(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tf(4,e)}catch(l){ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ze(e,s,l)}}var i=e.return;try{Wg(e)}catch(l){ze(e,i,l)}break;case 5:var o=e.return;try{Wg(e)}catch(l){ze(e,o,l)}}}catch(l){ze(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var wj=Math.ceil,yh=Br.ReactCurrentDispatcher,sw=Br.ReactCurrentOwner,gn=Br.ReactCurrentBatchConfig,fe=0,ut=null,Je=null,pt=0,Jt=0,Bo=Ys(0),rt=0,Ac=null,Hi=0,Pf=0,iw=0,Yl=null,$t=null,ow=0,Ta=1/0,_r=null,vh=!1,Kg=null,Ts=null,rd=!1,ws=null,wh=0,Ql=0,Gg=null,Ld=-1,Md=0;function Nt(){return fe&6?Ge():Ld!==-1?Ld:Ld=Ge()}function Ps(t){return t.mode&1?fe&2&&pt!==0?pt&-pt:nj.transition!==null?(Md===0&&(Md=L1()),Md):(t=be,t!==0||(t=window.event,t=t===void 0?16:B1(t.type)),t):1}function Wn(t,e,n,r){if(50<Ql)throw Ql=0,Gg=null,Error(O(185));fu(t,n,r),(!(fe&2)||t!==ut)&&(t===ut&&(!(fe&2)&&(Pf|=n),rt===4&&as(t,pt)),Kt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Ta=Ge()+500,Sf&&Qs()))}function Kt(t,e){var n=t.callbackNode;nM(t,e);var r=nh(t,t===ut?pt:0);if(r===0)n!==null&&F_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&F_(n),e===1)t.tag===0?tj(Ab.bind(null,t)):aT(Ab.bind(null,t)),JM(function(){!(fe&6)&&Qs()}),n=null;else{switch(M1(r)){case 1:n=Nv;break;case 4:n=O1;break;case 16:n=th;break;case 536870912:n=D1;break;default:n=th}n=iP(n,XT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XT(t,e){if(Ld=-1,Md=0,fe&6)throw Error(O(327));var n=t.callbackNode;if(ta()&&t.callbackNode!==n)return null;var r=nh(t,t===ut?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_h(t,r);else{e=r;var s=fe;fe|=2;var i=eP();(ut!==t||pt!==e)&&(_r=null,Ta=Ge()+500,Oi(t,e));do try{xj();break}catch(a){ZT(t,a)}while(!0);Hv(),yh.current=i,fe=s,Je!==null?e=0:(ut=null,pt=0,e=rt)}if(e!==0){if(e===2&&(s=_g(t),s!==0&&(r=s,e=qg(t,s))),e===1)throw n=Ac,Oi(t,0),as(t,r),Kt(t,Ge()),n;if(e===6)as(t,r);else{if(s=t.current.alternate,!(r&30)&&!_j(s)&&(e=_h(t,r),e===2&&(i=_g(t),i!==0&&(r=i,e=qg(t,i))),e===1))throw n=Ac,Oi(t,0),as(t,r),Kt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:hi(t,$t,_r);break;case 3:if(as(t,r),(r&130023424)===r&&(e=ow+500-Ge(),10<e)){if(nh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=kg(hi.bind(null,t,$t,_r),e);break}hi(t,$t,_r);break;case 4:if(as(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wj(r/1960))-r,10<r){t.timeoutHandle=kg(hi.bind(null,t,$t,_r),r);break}hi(t,$t,_r);break;case 5:hi(t,$t,_r);break;default:throw Error(O(329))}}}return Kt(t,Ge()),t.callbackNode===n?XT.bind(null,t):null}function qg(t,e){var n=Yl;return t.current.memoizedState.isDehydrated&&(Oi(t,e).flags|=256),t=_h(t,e),t!==2&&(e=$t,$t=n,e!==null&&Yg(e)),t}function Yg(t){$t===null?$t=t:$t.push.apply($t,t)}function _j(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Hn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function as(t,e){for(e&=~iw,e&=~Pf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function Ab(t){if(fe&6)throw Error(O(327));ta();var e=nh(t,0);if(!(e&1))return Kt(t,Ge()),null;var n=_h(t,e);if(t.tag!==0&&n===2){var r=_g(t);r!==0&&(e=r,n=qg(t,r))}if(n===1)throw n=Ac,Oi(t,0),as(t,e),Kt(t,Ge()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hi(t,$t,_r),Kt(t,Ge()),null}function aw(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Ta=Ge()+500,Sf&&Qs())}}function Ki(t){ws!==null&&ws.tag===0&&!(fe&6)&&ta();var e=fe;fe|=1;var n=gn.transition,r=be;try{if(gn.transition=null,be=1,t)return t()}finally{be=r,gn.transition=n,fe=e,!(fe&6)&&Qs()}}function lw(){Jt=Bo.current,Ne(Bo)}function Oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QM(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Bv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ah();break;case 3:Ea(),Ne(zt),Ne(Et),Jv();break;case 5:Qv(r);break;case 4:Ea();break;case 13:Ne(Me);break;case 19:Ne(Me);break;case 10:Kv(r.type._context);break;case 22:case 23:lw()}n=n.return}if(ut=t,Je=t=ks(t.current,null),pt=Jt=e,rt=0,Ac=null,iw=Pf=Hi=0,$t=Yl=null,_i!==null){for(e=0;e<_i.length;e++)if(n=_i[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}_i=null}return t}function ZT(t,e){do{var n=Je;try{if(Hv(),Nd.current=gh,mh){for(var r=$e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}mh=!1}if(zi=0,ot=et=$e=null,Gl=!1,kc=0,sw.current=null,n===null||n.return===null){rt=1,Ac=e,Je=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=vb(o);if(f!==null){f.flags&=-257,wb(f,o,a,i,e),f.mode&1&&yb(i,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){yb(i,c,e),cw();break e}l=Error(O(426))}}else if(De&&a.mode&1){var _=vb(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),wb(_,o,a,i,e),Wv(Ca(l,a));break e}}i=l=Ca(l,a),rt!==4&&(rt=2),Yl===null?Yl=[i]:Yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=MT(i,l,e);db(i,w);break e;case 1:a=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ts===null||!Ts.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=jT(i,a,e);db(i,x);break e}}i=i.return}while(i!==null)}nP(n)}catch(S){e=S,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function eP(){var t=yh.current;return yh.current=gh,t===null?gh:t}function cw(){(rt===0||rt===3||rt===2)&&(rt=4),ut===null||!(Hi&268435455)&&!(Pf&268435455)||as(ut,pt)}function _h(t,e){var n=fe;fe|=2;var r=eP();(ut!==t||pt!==e)&&(_r=null,Oi(t,e));do try{bj();break}catch(s){ZT(t,s)}while(!0);if(Hv(),fe=n,yh.current=r,Je!==null)throw Error(O(261));return ut=null,pt=0,rt}function bj(){for(;Je!==null;)tP(Je)}function xj(){for(;Je!==null&&!GL();)tP(Je)}function tP(t){var e=sP(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?nP(t):Je=e,sw.current=null}function nP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mj(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Je=null;return}}else if(n=pj(n,e,Jt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);rt===0&&(rt=5)}function hi(t,e,n){var r=be,s=gn.transition;try{gn.transition=null,be=1,Sj(t,e,n,r)}finally{gn.transition=s,be=r}return null}function Sj(t,e,n,r){do ta();while(ws!==null);if(fe&6)throw Error(O(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(rM(t,i),t===ut&&(Je=ut=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rd||(rd=!0,iP(th,function(){return ta(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gn.transition,gn.transition=null;var o=be;be=1;var a=fe;fe|=4,sw.current=null,yj(t,n),QT(n,t),WM(Tg),rh=!!Cg,Tg=Cg=null,t.current=n,vj(n),qL(),fe=a,be=o,gn.transition=i}else t.current=n;if(rd&&(rd=!1,ws=t,wh=s),i=t.pendingLanes,i===0&&(Ts=null),JL(n.stateNode),Kt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vh)throw vh=!1,t=Kg,Kg=null,t;return wh&1&&t.tag!==0&&ta(),i=t.pendingLanes,i&1?t===Gg?Ql++:(Ql=0,Gg=t):Ql=0,Qs(),null}function ta(){if(ws!==null){var t=M1(wh),e=gn.transition,n=be;try{if(gn.transition=null,be=16>t?16:t,ws===null)var r=!1;else{if(t=ws,ws=null,wh=0,fe&6)throw Error(O(331));var s=fe;for(fe|=4,B=t.current;B!==null;){var i=B,o=i.child;if(B.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(B=c;B!==null;){var u=B;switch(u.tag){case 0:case 11:case 15:ql(8,u,i)}var d=u.child;if(d!==null)d.return=u,B=d;else for(;B!==null;){u=B;var h=u.sibling,f=u.return;if(GT(u),u===c){B=null;break}if(h!==null){h.return=f,B=h;break}B=f}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}B=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,B=o;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ql(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,B=w;break e}B=i.return}}var y=t.current;for(B=y;B!==null;){o=B;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,B=b;else e:for(o=y;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Tf(9,a)}}catch(S){ze(a,a.return,S)}if(a===o){B=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,B=x;break e}B=a.return}}if(fe=s,Qs(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(vf,t)}catch{}r=!0}return r}finally{be=n,gn.transition=e}}return!1}function Nb(t,e,n){e=Ca(n,e),e=MT(t,e,1),t=Cs(t,e,1),e=Nt(),t!==null&&(fu(t,1,e),Kt(t,e))}function ze(t,e,n){if(t.tag===3)Nb(t,t,n);else for(;e!==null;){if(e.tag===3){Nb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ts===null||!Ts.has(r))){t=Ca(n,t),t=jT(e,t,1),e=Cs(e,t,1),t=Nt(),e!==null&&(fu(e,1,t),Kt(e,t));break}}e=e.return}}function Ej(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(pt&n)===n&&(rt===4||rt===3&&(pt&130023424)===pt&&500>Ge()-ow?Oi(t,0):iw|=n),Kt(t,e)}function rP(t,e){e===0&&(t.mode&1?(e=Gu,Gu<<=1,!(Gu&130023424)&&(Gu=4194304)):e=1);var n=Nt();t=Or(t,e),t!==null&&(fu(t,e,n),Kt(t,n))}function Cj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rP(t,n)}function Tj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),rP(t,n)}var sP;sP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,fj(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,De&&e.flags&1048576&&lT(e,uh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dd(t,e),t=e.pendingProps;var s=ba(e,Et.current);ea(e,n),s=Zv(null,e,r,t,s,n);var i=ew();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(i=!0,lh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qv(e),s.updater=Cf,e.stateNode=s,s._reactInternals=e,Lg(e,r,t,n),e=$g(null,e,r,!0,i,n)):(e.tag=0,De&&i&&Vv(e),kt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=kj(r),t=Rn(r,t),s){case 0:e=jg(null,e,r,t,n);break e;case 1:e=xb(null,e,r,t,n);break e;case 11:e=_b(null,e,r,t,n);break e;case 14:e=bb(null,e,r,Rn(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),jg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),xb(t,e,r,s,n);case 3:e:{if(VT(e),t===null)throw Error(O(387));r=e.pendingProps,i=e.memoizedState,s=i.element,pT(t,e),fh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ca(Error(O(423)),e),e=Sb(t,e,r,n,s);break e}else if(r!==s){s=Ca(Error(O(424)),e),e=Sb(t,e,r,n,s);break e}else for(Zt=Es(e.stateNode.containerInfo.firstChild),tn=e,De=!0,Mn=null,n=hT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),r===s){e=Dr(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return mT(e),t===null&&Ng(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Pg(r,s)?o=null:i!==null&&Pg(r,i)&&(e.flags|=32),UT(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&Ng(e),null;case 13:return BT(t,e,n);case 4:return Yv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Sa(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),_b(t,e,r,s,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ke(dh,r._currentValue),r._currentValue=o,i!==null)if(Hn(i.value,o)){if(i.children===s.children&&!zt.current){e=Dr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ir(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Og(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Og(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ea(e,n),s=wn(s),r=r(s),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,s=Rn(r,e.pendingProps),s=Rn(r.type,s),bb(t,e,r,s,n);case 15:return $T(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),Dd(t,e),e.tag=1,Ht(r)?(t=!0,lh(e)):t=!1,ea(e,n),LT(e,r,s),Lg(e,r,s,n),$g(null,e,r,!0,t,n);case 19:return WT(t,e,n);case 22:return FT(t,e,n)}throw Error(O(156,e.tag))};function iP(t,e){return N1(t,e)}function Pj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,n,r){return new Pj(t,e,n,r)}function uw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kj(t){if(typeof t=="function")return uw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iv)return 11;if(t===Rv)return 14}return 2}function ks(t,e){var n=t.alternate;return n===null?(n=pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")uw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case No:return Di(n.children,s,i,e);case kv:o=8,s|=8;break;case ig:return t=pn(12,n,e,s|2),t.elementType=ig,t.lanes=i,t;case og:return t=pn(13,n,e,s),t.elementType=og,t.lanes=i,t;case ag:return t=pn(19,n,e,s),t.elementType=ag,t.lanes=i,t;case m1:return kf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case f1:o=10;break e;case p1:o=9;break e;case Iv:o=11;break e;case Rv:o=14;break e;case ss:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Di(t,e,n,r){return t=pn(7,t,r,e),t.lanes=n,t}function kf(t,e,n,r){return t=pn(22,t,r,e),t.elementType=m1,t.lanes=n,t.stateNode={isHidden:!1},t}function Zp(t,e,n){return t=pn(6,t,null,e),t.lanes=n,t}function em(t,e,n){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ij(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dp(0),this.expirationTimes=Dp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dw(t,e,n,r,s,i,o,a,l){return t=new Ij(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qv(i),t}function Rj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ao,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oP(t){if(!t)return Fs;t=t._reactInternals;e:{if(io(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(Ht(n))return oT(t,n,e)}return e}function aP(t,e,n,r,s,i,o,a,l){return t=dw(n,r,!0,t,s,i,o,a,l),t.context=oP(null),n=t.current,r=Nt(),s=Ps(n),i=Ir(r,s),i.callback=e??null,Cs(n,i,s),t.current.lanes=s,fu(t,s,r),Kt(t,r),t}function If(t,e,n,r){var s=e.current,i=Nt(),o=Ps(s);return n=oP(n),e.context===null?e.context=n:e.pendingContext=n,e=Ir(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cs(s,e,o),t!==null&&(Wn(t,s,o,i),Ad(t,s,o)),o}function bh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ob(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hw(t,e){Ob(t,e),(t=t.alternate)&&Ob(t,e)}function Aj(){return null}var lP=typeof reportError=="function"?reportError:function(t){console.error(t)};function fw(t){this._internalRoot=t}Rf.prototype.render=fw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));If(t,e,null,null)};Rf.prototype.unmount=fw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){If(null,t,null,null)}),e[Nr]=null}};function Rf(t){this._internalRoot=t}Rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=F1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<os.length&&e!==0&&e<os[n].priority;n++);os.splice(n,0,t),n===0&&V1(t)}};function pw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Af(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Db(){}function Nj(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=bh(o);i.call(c)}}var o=aP(e,r,t,0,null,!1,!1,"",Db);return t._reactRootContainer=o,t[Nr]=o.current,Sc(t.nodeType===8?t.parentNode:t),Ki(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=bh(l);a.call(c)}}var l=dw(t,0,!1,null,null,!1,!1,"",Db);return t._reactRootContainer=l,t[Nr]=l.current,Sc(t.nodeType===8?t.parentNode:t),Ki(function(){If(e,l,n,r)}),l}function Nf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=bh(o);a.call(l)}}If(e,o,t,s)}else o=Nj(n,e,t,s,r);return bh(o)}j1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dl(e.pendingLanes);n!==0&&(Ov(e,n|1),Kt(e,Ge()),!(fe&6)&&(Ta=Ge()+500,Qs()))}break;case 13:Ki(function(){var r=Or(t,1);if(r!==null){var s=Nt();Wn(r,t,1,s)}}),hw(t,1)}};Dv=function(t){if(t.tag===13){var e=Or(t,134217728);if(e!==null){var n=Nt();Wn(e,t,134217728,n)}hw(t,134217728)}};$1=function(t){if(t.tag===13){var e=Ps(t),n=Or(t,e);if(n!==null){var r=Nt();Wn(n,t,e,r)}hw(t,e)}};F1=function(){return be};U1=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};yg=function(t,e,n){switch(e){case"input":if(ug(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xf(r);if(!s)throw Error(O(90));y1(r),ug(r,s)}}}break;case"textarea":w1(t,n);break;case"select":e=n.value,e!=null&&Qo(t,!!n.multiple,e,!1)}};T1=aw;P1=Ki;var Oj={usingClientEntryPoint:!1,Events:[mu,Mo,xf,E1,C1,aw]},bl={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dj={bundleType:bl.bundleType,version:bl.version,rendererPackageName:bl.rendererPackageName,rendererConfig:bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R1(t),t===null?null:t.stateNode},findFiberByHostInstance:bl.findFiberByHostInstance||Aj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{vf=sd.inject(Dj),or=sd}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oj;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pw(e))throw Error(O(200));return Rj(t,e,null,n)};sn.createRoot=function(t,e){if(!pw(t))throw Error(O(299));var n=!1,r="",s=lP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dw(t,1,!1,null,null,n,!1,r,s),t[Nr]=e.current,Sc(t.nodeType===8?t.parentNode:t),new fw(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=R1(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return Ki(t)};sn.hydrate=function(t,e,n){if(!Af(e))throw Error(O(200));return Nf(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!pw(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=lP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=aP(e,null,t,1,n??null,s,!1,i,o),t[Nr]=e.current,Sc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Rf(e)};sn.render=function(t,e,n){if(!Af(e))throw Error(O(200));return Nf(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!Af(t))throw Error(O(40));return t._reactRootContainer?(Ki(function(){Nf(null,null,t,!1,function(){t._reactRootContainer=null,t[Nr]=null})}),!0):!1};sn.unstable_batchedUpdates=aw;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Af(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Nf(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function cP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cP)}catch(t){console.error(t)}}cP(),c1.exports=sn;var oo=c1.exports;const uP=JC(oo);var dP,Lb=oo;dP=Lb.createRoot,Lb.hydrateRoot;const Lj=1,Mj=1e6;let tm=0;function jj(){return tm=(tm+1)%Number.MAX_SAFE_INTEGER,tm.toString()}const nm=new Map,Mb=t=>{if(nm.has(t))return;const e=setTimeout(()=>{nm.delete(t),Jl({type:"REMOVE_TOAST",toastId:t})},Mj);nm.set(t,e)},$j=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Lj)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Mb(n):t.toasts.forEach(r=>{Mb(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},$d=[];let Fd={toasts:[]};function Jl(t){Fd=$j(Fd,t),$d.forEach(e=>{e(Fd)})}function Fj({...t}){const e=jj(),n=s=>Jl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Jl({type:"DISMISS_TOAST",toastId:e});return Jl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ao(){const[t,e]=v.useState(Fd);return v.useEffect(()=>($d.push(e),()=>{const n=$d.indexOf(e);n>-1&&$d.splice(n,1)}),[t]),{...t,toast:Fj,dismiss:n=>Jl({type:"DISMISS_TOAST",toastId:n})}}function ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function jb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hP(...t){return e=>{let n=!1;const r=t.map(s=>{const i=jb(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():jb(t[s],null)}}}}function ve(...t){return v.useCallback(hP(...t),t)}function Js(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=d=>{var w;const{scope:h,children:f,...g}=d,m=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,_=v.useMemo(()=>g,Object.values(g));return p.jsx(m.Provider,{value:_,children:f})};c.displayName=i+"Provider";function u(d,h){var m;const f=((m=h==null?void 0:h[t])==null?void 0:m[l])||a,g=v.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Uj(s,...e)]}function Uj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Nc(t){const e=Bj(t),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(zj);if(l){const c=l.props.children,u=a.map(d=>d===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:d);return p.jsx(e,{...o,ref:s,children:v.isValidElement(c)?v.cloneElement(c,void 0,u):null})}return p.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Vj=Nc("Slot");function Bj(t){const e=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=Kj(s),a=Hj(i,s.props);return s.type!==v.Fragment&&(a.ref=r?hP(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fP=Symbol("radix.slottable");function Wj(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=fP,e}function zj(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fP}function Hj(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Kj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pP(t){const e=t+"CollectionProvider",[n,r]=Js(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:_,children:w}=m,y=M.useRef(null),b=M.useRef(new Map).current;return p.jsx(s,{scope:_,itemMap:b,collectionRef:y,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=Nc(a),c=M.forwardRef((m,_)=>{const{scope:w,children:y}=m,b=i(a,w),x=ve(_,b.collectionRef);return p.jsx(l,{ref:x,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Nc(u),f=M.forwardRef((m,_)=>{const{scope:w,children:y,...b}=m,x=M.useRef(null),S=ve(_,x),E=i(u,w);return M.useEffect(()=>(E.itemMap.set(x,{ref:x,...b}),()=>void E.itemMap.delete(x))),p.jsx(h,{[d]:"",ref:S,children:y})});f.displayName=u;function g(m){const _=i(t+"CollectionConsumer",m);return M.useCallback(()=>{const y=_.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((E,C)=>b.indexOf(E.ref.current)-b.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},g,r]}var Gj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=Gj.reduce((t,e)=>{const n=Nc(`Primitive.${e}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function mP(t,e){t&&oo.flushSync(()=>t.dispatchEvent(e))}function ct(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function qj(t,e=globalThis==null?void 0:globalThis.document){const n=ct(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Yj="DismissableLayer",Qg="dismissableLayer.update",Qj="dismissableLayer.pointerDownOutside",Jj="dismissableLayer.focusOutside",$b,gP=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Of=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(gP),[u,d]=v.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=v.useState({}),g=ve(e,C=>d(C)),m=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(_),y=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,x=y>=w,S=Zj(C=>{const T=C.target,P=[...c.branches].some(I=>I.contains(T));!x||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),E=e2(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return qj(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),v.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($b=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Fb(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=$b)}},[u,h,n,c]),v.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Fb())},[u,c]),v.useEffect(()=>{const C=()=>f({});return document.addEventListener(Qg,C),()=>document.removeEventListener(Qg,C)},[]),p.jsx(le.div,{...l,ref:g,style:{pointerEvents:b?x?"auto":"none":void 0,...t.style},onFocusCapture:ne(t.onFocusCapture,E.onFocusCapture),onBlurCapture:ne(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ne(t.onPointerDownCapture,S.onPointerDownCapture)})});Of.displayName=Yj;var Xj="DismissableLayerBranch",yP=v.forwardRef((t,e)=>{const n=v.useContext(gP),r=v.useRef(null),s=ve(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(le.div,{...t,ref:s})});yP.displayName=Xj;function Zj(t,e=globalThis==null?void 0:globalThis.document){const n=ct(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){vP(Qj,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function e2(t,e=globalThis==null?void 0:globalThis.document){const n=ct(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&vP(Jj,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Fb(){const t=new CustomEvent(Qg);document.dispatchEvent(t)}function vP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?mP(s,i):s.dispatchEvent(i)}var t2=Of,n2=yP,dt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},r2="Portal",mw=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);dt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?uP.createPortal(p.jsx(le.div,{...r,ref:e}),o):null});mw.displayName=r2;function s2(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var lo=t=>{const{present:e,children:n}=t,r=i2(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=ve(r.ref,o2(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};lo.displayName="Presence";function i2(t){const[e,n]=v.useState(),r=v.useRef(null),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=s2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=id(r.current);i.current=a==="mounted"?c:"none"},[a]),dt(()=>{const c=r.current,u=s.current;if(u!==t){const h=i.current,f=id(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),dt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const m=id(r.current).includes(f.animationName);if(f.target===e&&m&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},h=f=>{f.target===e&&(i.current=id(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function id(t){return(t==null?void 0:t.animationName)||"none"}function o2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var a2=Ev[" useInsertionEffect ".trim().toString()]||dt;function xh({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=l2({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const u=v.useRef(t!==void 0);v.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=v.useCallback(u=>{var d;if(a){const h=c2(u)?u(t):u;h!==t&&((d=o.current)==null||d.call(o,h))}else i(u)},[a,t,i,o]);return[l,c]}function l2({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),s=v.useRef(n),i=v.useRef(e);return a2(()=>{i.current=e},[e]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function c2(t){return typeof t=="function"}var wP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),u2="VisuallyHidden",Df=v.forwardRef((t,e)=>p.jsx(le.span,{...t,ref:e,style:{...wP,...t.style}}));Df.displayName=u2;var d2=Df,gw="ToastProvider",[yw,h2,f2]=pP("Toast"),[_P,poe]=Js("Toast",[f2]),[p2,Lf]=_P(gw),bP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,u]=v.useState(0),d=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${gw}\`. Expected non-empty \`string\`.`),p.jsx(yw.Provider,{scope:e,children:p.jsx(p2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>u(f=>f+1),[]),onToastRemove:v.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};bP.displayName=gw;var xP="ToastViewport",m2=["F8"],Jg="toast.viewportPause",Xg="toast.viewportResume",SP=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=m2,label:s="Notifications ({hotkey})",...i}=t,o=Lf(xP,n),a=h2(n),l=v.useRef(null),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=ve(e,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;v.useEffect(()=>{const _=w=>{var b;r.length!==0&&r.every(x=>w[x]||w.code===x)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),v.useEffect(()=>{const _=l.current,w=d.current;if(g&&_&&w){const y=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(Jg);w.dispatchEvent(E),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(Xg);w.dispatchEvent(E),o.isClosePausedRef.current=!1}},x=E=>{!_.contains(E.relatedTarget)&&b()},S=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",y),_.addEventListener("focusout",x),_.addEventListener("pointermove",y),_.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",y),_.removeEventListener("focusout",x),_.removeEventListener("pointermove",y),_.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:_})=>{const y=a().map(b=>{const x=b.ref.current,S=[x,...k2(x)];return _==="forwards"?S:S.reverse()});return(_==="forwards"?y.reverse():y).flat()},[a]);return v.useEffect(()=>{const _=d.current;if(_){const w=y=>{var S,E,C;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const T=document.activeElement,P=y.shiftKey;if(y.target===_&&P){(S=c.current)==null||S.focus();return}const F=m({tabbingDirection:P?"backwards":"forwards"}),H=F.findIndex(N=>N===T);rm(F.slice(H+1))?y.preventDefault():P?(E=c.current)==null||E.focus():(C=u.current)==null||C.focus()}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[a,m]),p.jsxs(n2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&p.jsx(Zg,{ref:c,onFocusFromOutsideViewport:()=>{const _=m({tabbingDirection:"forwards"});rm(_)}}),p.jsx(yw.Slot,{scope:n,children:p.jsx(le.ol,{tabIndex:-1,...i,ref:h})}),g&&p.jsx(Zg,{ref:u,onFocusFromOutsideViewport:()=>{const _=m({tabbingDirection:"backwards"});rm(_)}})]})});SP.displayName=xP;var EP="ToastFocusProxy",Zg=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Lf(EP,n);return p.jsx(Df,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Zg.displayName=EP;var yu="Toast",g2="toast.swipeStart",y2="toast.swipeMove",v2="toast.swipeCancel",w2="toast.swipeEnd",CP=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=xh({prop:r,defaultProp:s??!0,onChange:i,caller:yu});return p.jsx(lo,{present:n||a,children:p.jsx(x2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ct(t.onPause),onResume:ct(t.onResume),onSwipeStart:ne(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ne(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});CP.displayName=yu;var[_2,b2]=_P(yu,{onClose(){}}),x2=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...g}=t,m=Lf(yu,n),[_,w]=v.useState(null),y=ve(e,N=>w(N)),b=v.useRef(null),x=v.useRef(null),S=s||m.duration,E=v.useRef(0),C=v.useRef(S),T=v.useRef(0),{onToastAdd:P,onToastRemove:I}=m,L=ct(()=>{var G;(_==null?void 0:_.contains(document.activeElement))&&((G=m.viewport)==null||G.focus()),o()}),F=v.useCallback(N=>{!N||N===1/0||(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(L,N))},[L]);v.useEffect(()=>{const N=m.viewport;if(N){const G=()=>{F(C.current),c==null||c()},U=()=>{const $=new Date().getTime()-E.current;C.current=C.current-$,window.clearTimeout(T.current),l==null||l()};return N.addEventListener(Jg,U),N.addEventListener(Xg,G),()=>{N.removeEventListener(Jg,U),N.removeEventListener(Xg,G)}}},[m.viewport,S,l,c,F]),v.useEffect(()=>{i&&!m.isClosePausedRef.current&&F(S)},[i,S,m.isClosePausedRef,F]),v.useEffect(()=>(P(),()=>I()),[P,I]);const H=v.useMemo(()=>_?NP(_):null,[_]);return m.viewport?p.jsxs(p.Fragment,{children:[H&&p.jsx(S2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),p.jsx(_2,{scope:n,onClose:L,children:oo.createPortal(p.jsx(yw.ItemSlot,{scope:n,children:p.jsx(t2,{asChild:!0,onEscapeKeyDown:ne(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||L(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ne(t.onKeyDown,N=>{N.key==="Escape"&&(a==null||a(N.nativeEvent),N.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:ne(t.onPointerDown,N=>{N.button===0&&(b.current={x:N.clientX,y:N.clientY})}),onPointerMove:ne(t.onPointerMove,N=>{if(!b.current)return;const G=N.clientX-b.current.x,U=N.clientY-b.current.y,$=!!x.current,k=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,j=k?R(0,G):0,z=k?0:R(0,U),W=N.pointerType==="touch"?10:2,X={x:j,y:z},Z={originalEvent:N,delta:X};$?(x.current=X,od(y2,d,Z,{discrete:!1})):Ub(X,m.swipeDirection,W)?(x.current=X,od(g2,u,Z,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(G)>W||Math.abs(U)>W)&&(b.current=null)}),onPointerUp:ne(t.onPointerUp,N=>{const G=x.current,U=N.target;if(U.hasPointerCapture(N.pointerId)&&U.releasePointerCapture(N.pointerId),x.current=null,b.current=null,G){const $=N.currentTarget,k={originalEvent:N,delta:G};Ub(G,m.swipeDirection,m.swipeThreshold)?od(w2,f,k,{discrete:!0}):od(v2,h,k,{discrete:!0}),$.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),S2=t=>{const{__scopeToast:e,children:n,...r}=t,s=Lf(yu,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return T2(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(mw,{asChild:!0,children:p.jsx(Df,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},E2="ToastTitle",TP=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(le.div,{...r,ref:e})});TP.displayName=E2;var C2="ToastDescription",PP=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(le.div,{...r,ref:e})});PP.displayName=C2;var kP="ToastAction",IP=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(AP,{altText:n,asChild:!0,children:p.jsx(vw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kP}\`. Expected non-empty \`string\`.`),null)});IP.displayName=kP;var RP="ToastClose",vw=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=b2(RP,n);return p.jsx(AP,{asChild:!0,children:p.jsx(le.button,{type:"button",...r,ref:e,onClick:ne(t.onClick,s.onClose)})})});vw.displayName=RP;var AP=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function NP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),P2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...NP(r))}}),e}function od(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?mP(s,i):s.dispatchEvent(i)}var Ub=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function T2(t=()=>{}){const e=ct(t);dt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function P2(t){return t.nodeType===t.ELEMENT_NODE}function k2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var I2=bP,OP=SP,DP=CP,LP=TP,MP=PP,jP=IP,$P=vw;function FP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=FP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function UP(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=FP(t))&&(r&&(r+=" "),r+=e);return r}const Vb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Bb=UP,ww=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Bb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const h=Vb(u)||Vb(d);return s[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(g=>{let[m,_]=g;return Array.isArray(_)?_.includes({...i,...a}[m]):{...i,...a}[m]===_})?[...c,d,h]:c},[]);return Bb(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...A2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:VP("lucide",s),...a},[...o.map(([c,u])=>v.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(N2,{ref:i,iconNode:e,className:VP(`lucide-${R2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=de("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=de("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=de("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=de("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=de("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=de("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=de("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=de("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=de("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=de("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=de("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=de("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=de("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),bw="-",r$=t=>{const e=i$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(bw);return a[0]===""&&a.length!==1&&a.shift(),HP(a,e)||s$(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},HP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?HP(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(bw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Hb=/^\[(.+)\]$/,s$=t=>{if(Hb.test(t)){const e=Hb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},i$=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return a$(Object.entries(t.classGroups),n).forEach(([i,o])=>{ey(o,r,i,e)}),r},ey=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Kb(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(o$(s)){ey(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ey(o,Kb(e,i),n,r)})})},Kb=(t,e)=>{let n=t;return e.split(bw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},o$=t=>t.isThemeGetter,a$=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,l$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},KP="!",c$=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let _=0;_<a.length;_++){let w=a[_];if(c===0){if(w===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(u,_)),u=_+i;continue}if(w==="/"){d=_;continue}}w==="["?c++:w==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(KP),g=f?h.substring(1):h,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},u$=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},d$=t=>({cache:l$(t.cacheSize),parseClassName:c$(t),...r$(t)}),h$=/\s+/,f$=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(h$);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(c);let g=!!f,m=r(g?h.substring(0,f):h);if(!m){if(!g){a=c+(a.length>0?" "+a:a);continue}if(m=r(h),!m){a=c+(a.length>0?" "+a:a);continue}g=!1}const _=u$(u).join(":"),w=d?_+KP:_,y=w+m;if(i.includes(y))continue;i.push(y);const b=s(m,g);for(let x=0;x<b.length;++x){const S=b[x];i.push(w+S)}a=c+(a.length>0?" "+a:a)}return a};function p$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=GP(e))&&(r&&(r+=" "),r+=n);return r}const GP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=GP(t[r]))&&(n&&(n+=" "),n+=e);return n};function m$(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=d$(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=f$(l,n);return s(l,u),u}return function(){return i(p$.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},qP=/^\[(?:([a-z-]+):)?(.+)\]$/i,g$=/^\d+\/\d+$/,y$=new Set(["px","full","screen"]),v$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,b$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,x$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vr=t=>na(t)||y$.has(t)||g$.test(t),Qr=t=>Ka(t,"length",R$),na=t=>!!t&&!Number.isNaN(Number(t)),sm=t=>Ka(t,"number",na),xl=t=>!!t&&Number.isInteger(Number(t)),S$=t=>t.endsWith("%")&&na(t.slice(0,-1)),ie=t=>qP.test(t),Jr=t=>v$.test(t),E$=new Set(["length","size","percentage"]),C$=t=>Ka(t,E$,YP),T$=t=>Ka(t,"position",YP),P$=new Set(["image","url"]),k$=t=>Ka(t,P$,N$),I$=t=>Ka(t,"",A$),Sl=()=>!0,Ka=(t,e,n)=>{const r=qP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},R$=t=>w$.test(t)&&!_$.test(t),YP=()=>!1,A$=t=>b$.test(t),N$=t=>x$.test(t),O$=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),i=Ie("borderRadius"),o=Ie("borderSpacing"),a=Ie("borderWidth"),l=Ie("contrast"),c=Ie("grayscale"),u=Ie("hueRotate"),d=Ie("invert"),h=Ie("gap"),f=Ie("gradientColorStops"),g=Ie("gradientColorStopPositions"),m=Ie("inset"),_=Ie("margin"),w=Ie("opacity"),y=Ie("padding"),b=Ie("saturate"),x=Ie("scale"),S=Ie("sepia"),E=Ie("skew"),C=Ie("space"),T=Ie("translate"),P=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ie,e],F=()=>[ie,e],H=()=>["",vr,Qr],N=()=>["auto",na,ie],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ie],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[na,ie];return{cacheSize:500,separator:":",theme:{colors:[Sl],spacing:[vr,Qr],blur:["none","",Jr,ie],brightness:z(),borderColor:[t],borderRadius:["none","","full",Jr,ie],borderSpacing:F(),borderWidth:H(),contrast:z(),grayscale:R(),hueRotate:z(),invert:R(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[S$,Qr],inset:L(),margin:L(),opacity:z(),padding:F(),saturate:z(),scale:z(),sepia:R(),skew:z(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",ie]}],container:["container"],columns:[{columns:[Jr]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ie]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xl,ie]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ie]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",xl,ie]}],"grid-cols":[{"grid-cols":[Sl]}],"col-start-end":[{col:["auto",{span:["full",xl,ie]},ie]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Sl]}],"row-start-end":[{row:["auto",{span:[xl,ie]},ie]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ie]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ie,e]}],"min-w":[{"min-w":[ie,e,"min","max","fit"]}],"max-w":[{"max-w":[ie,e,"none","full","min","max","fit","prose",{screen:[Jr]},Jr]}],h:[{h:[ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Jr,Qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sm]}],"font-family":[{font:[Sl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ie]}],"line-clamp":[{"line-clamp":["none",na,sm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vr,ie]}],"list-image":[{"list-image":["none",ie]}],"list-style-type":[{list:["none","disc","decimal",ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vr,Qr]}],"underline-offset":[{"underline-offset":["auto",vr,ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),T$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",C$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},k$]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[vr,ie]}],"outline-w":[{outline:[vr,Qr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[vr,Qr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Jr,I$]}],"shadow-color":[{shadow:[Sl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Jr,ie]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ie]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",ie]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[xl,ie]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vr,Qr,sm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},D$=m$(O$);function we(...t){return D$(UP(t))}const L$=I2,QP=v.forwardRef(({className:t,...e},n)=>p.jsx(OP,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));QP.displayName=OP.displayName;const M$=ww("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),JP=v.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(DP,{ref:r,className:we(M$({variant:e}),t),...n}));JP.displayName=DP.displayName;const j$=v.forwardRef(({className:t,...e},n)=>p.jsx(jP,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));j$.displayName=jP.displayName;const XP=v.forwardRef(({className:t,...e},n)=>p.jsx($P,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(_w,{className:"h-4 w-4"})}));XP.displayName=$P.displayName;const ZP=v.forwardRef(({className:t,...e},n)=>p.jsx(LP,{ref:n,className:we("text-sm font-semibold",t),...e}));ZP.displayName=LP.displayName;const ek=v.forwardRef(({className:t,...e},n)=>p.jsx(MP,{ref:n,className:we("text-sm opacity-90",t),...e}));ek.displayName=MP.displayName;function $$(){const{toasts:t}=ao();return p.jsxs(L$,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(JP,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(ZP,{children:n}),r&&p.jsx(ek,{children:r})]}),s,p.jsx(XP,{})]},e)}),p.jsx(QP,{})]})}var Gb=["light","dark"],F$="(prefers-color-scheme: dark)",U$=v.createContext(void 0),V$={setTheme:t=>{},themes:[]},B$=()=>{var t;return(t=v.useContext(U$))!=null?t:V$};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?Gb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,_=!0)=>{let w=o?o[g]:g,y=m?g+"|| ''":`'${w}'`,b="";return s&&_&&!m&&Gb.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),n==="class"?m||w?b+=`c.add(${y})`:b+="null":w&&(b+=`d[s](n,${y})`),b},f=t?`!function(){${u}${h(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${F$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${d}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var W$=t=>{switch(t){case"success":return K$;case"info":return q$;case"warning":return G$;case"error":return Y$;default:return null}},z$=Array(12).fill(0),H$=({visible:t,className:e})=>M.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},M.createElement("div",{className:"sonner-spinner"},z$.map((n,r)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),K$=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),G$=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),q$=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Y$=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Q$=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),J$=()=>{let[t,e]=M.useState(document.hidden);return M.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},ty=1,X$=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ty++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],M.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(eF(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||ty++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},jt=new X$,Z$=(t,e)=>{let n=(e==null?void 0:e.id)||ty++;return jt.addToast({title:t,...e,id:n}),n},eF=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",tF=Z$,nF=()=>jt.toasts,rF=()=>jt.getActiveToasts(),Xn=Object.assign(tF,{success:jt.success,info:jt.info,warning:jt.warning,error:jt.error,custom:jt.custom,message:jt.message,promise:jt.promise,dismiss:jt.dismiss,loading:jt.loading},{getHistory:nF,getToasts:rF});function sF(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}sF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ad(t){return t.label!==void 0}var iF=3,oF="32px",aF="16px",qb=4e3,lF=356,cF=14,uF=20,dF=200;function Tn(...t){return t.filter(Boolean).join(" ")}function hF(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var fF=t=>{var e,n,r,s,i,o,a,l,c,u,d;let{invert:h,toast:f,unstyled:g,interacting:m,setHeights:_,visibleToasts:w,heights:y,index:b,toasts:x,expanded:S,removeToast:E,defaultRichColors:C,closeButton:T,style:P,cancelButtonStyle:I,actionButtonStyle:L,className:F="",descriptionClassName:H="",duration:N,position:G,gap:U,loadingIcon:$,expandByDefault:k,classNames:R,icons:j,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:W}=t,[X,Z]=M.useState(null),[xe,Ue]=M.useState(null),[V,_e]=M.useState(!1),[Ve,ye]=M.useState(!1),[he,pe]=M.useState(!1),[gt,an]=M.useState(!1),[si,Hr]=M.useState(!1),[ii,hl]=M.useState(0),[fo,__]=M.useState(0),fl=M.useRef(f.duration||N||qb),b_=M.useRef(null),oi=M.useRef(null),ZD=b===0,eL=b+1<=w,ln=f.type,po=f.dismissible!==!1,tL=f.className||"",nL=f.descriptionClassName||"",Uu=M.useMemo(()=>y.findIndex(re=>re.toastId===f.id)||0,[y,f.id]),rL=M.useMemo(()=>{var re;return(re=f.closeButton)!=null?re:T},[f.closeButton,T]),x_=M.useMemo(()=>f.duration||N||qb,[f.duration,N]),Tp=M.useRef(0),mo=M.useRef(0),S_=M.useRef(0),go=M.useRef(null),[sL,iL]=G.split("-"),E_=M.useMemo(()=>y.reduce((re,Se,Oe)=>Oe>=Uu?re:re+Se.height,0),[y,Uu]),C_=J$(),oL=f.invert||h,Pp=ln==="loading";mo.current=M.useMemo(()=>Uu*U+E_,[Uu,E_]),M.useEffect(()=>{fl.current=x_},[x_]),M.useEffect(()=>{_e(!0)},[]),M.useEffect(()=>{let re=oi.current;if(re){let Se=re.getBoundingClientRect().height;return __(Se),_(Oe=>[{toastId:f.id,height:Se,position:f.position},...Oe]),()=>_(Oe=>Oe.filter(xn=>xn.toastId!==f.id))}},[_,f.id]),M.useLayoutEffect(()=>{if(!V)return;let re=oi.current,Se=re.style.height;re.style.height="auto";let Oe=re.getBoundingClientRect().height;re.style.height=Se,__(Oe),_(xn=>xn.find(Sn=>Sn.toastId===f.id)?xn.map(Sn=>Sn.toastId===f.id?{...Sn,height:Oe}:Sn):[{toastId:f.id,height:Oe,position:f.position},...xn])},[V,f.title,f.description,_,f.id]);let Kr=M.useCallback(()=>{ye(!0),hl(mo.current),_(re=>re.filter(Se=>Se.toastId!==f.id)),setTimeout(()=>{E(f)},dF)},[f,E,_,mo]);M.useEffect(()=>{if(f.promise&&ln==="loading"||f.duration===1/0||f.type==="loading")return;let re;return S||m||W&&C_?(()=>{if(S_.current<Tp.current){let Se=new Date().getTime()-Tp.current;fl.current=fl.current-Se}S_.current=new Date().getTime()})():fl.current!==1/0&&(Tp.current=new Date().getTime(),re=setTimeout(()=>{var Se;(Se=f.onAutoClose)==null||Se.call(f,f),Kr()},fl.current)),()=>clearTimeout(re)},[S,m,f,ln,W,C_,Kr]),M.useEffect(()=>{f.delete&&Kr()},[Kr,f.delete]);function aL(){var re,Se,Oe;return j!=null&&j.loading?M.createElement("div",{className:Tn(R==null?void 0:R.loader,(re=f==null?void 0:f.classNames)==null?void 0:re.loader,"sonner-loader"),"data-visible":ln==="loading"},j.loading):$?M.createElement("div",{className:Tn(R==null?void 0:R.loader,(Se=f==null?void 0:f.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":ln==="loading"},$):M.createElement(H$,{className:Tn(R==null?void 0:R.loader,(Oe=f==null?void 0:f.classNames)==null?void 0:Oe.loader),visible:ln==="loading"})}return M.createElement("li",{tabIndex:0,ref:oi,className:Tn(F,tL,R==null?void 0:R.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[ln],(n=f==null?void 0:f.classNames)==null?void 0:n[ln]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:C,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":V,"data-promise":!!f.promise,"data-swiped":si,"data-removed":Ve,"data-visible":eL,"data-y-position":sL,"data-x-position":iL,"data-index":b,"data-front":ZD,"data-swiping":he,"data-dismissible":po,"data-type":ln,"data-invert":oL,"data-swipe-out":gt,"data-swipe-direction":xe,"data-expanded":!!(S||k&&V),style:{"--index":b,"--toasts-before":b,"--z-index":x.length-b,"--offset":`${Ve?ii:mo.current}px`,"--initial-height":k?"auto":`${fo}px`,...P,...f.style},onDragEnd:()=>{pe(!1),Z(null),go.current=null},onPointerDown:re=>{Pp||!po||(b_.current=new Date,hl(mo.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(pe(!0),go.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,Se,Oe,xn;if(gt||!po)return;go.current=null;let Sn=Number(((re=oi.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gr=Number(((Se=oi.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ai=new Date().getTime()-((Oe=b_.current)==null?void 0:Oe.getTime()),En=X==="x"?Sn:Gr,qr=Math.abs(En)/ai;if(Math.abs(En)>=uF||qr>.11){hl(mo.current),(xn=f.onDismiss)==null||xn.call(f,f),Ue(X==="x"?Sn>0?"right":"left":Gr>0?"down":"up"),Kr(),an(!0),Hr(!1);return}pe(!1),Z(null)},onPointerMove:re=>{var Se,Oe,xn,Sn;if(!go.current||!po||((Se=window.getSelection())==null?void 0:Se.toString().length)>0)return;let Gr=re.clientY-go.current.y,ai=re.clientX-go.current.x,En=(Oe=t.swipeDirections)!=null?Oe:hF(G);!X&&(Math.abs(ai)>1||Math.abs(Gr)>1)&&Z(Math.abs(ai)>Math.abs(Gr)?"x":"y");let qr={x:0,y:0};X==="y"?(En.includes("top")||En.includes("bottom"))&&(En.includes("top")&&Gr<0||En.includes("bottom")&&Gr>0)&&(qr.y=Gr):X==="x"&&(En.includes("left")||En.includes("right"))&&(En.includes("left")&&ai<0||En.includes("right")&&ai>0)&&(qr.x=ai),(Math.abs(qr.x)>0||Math.abs(qr.y)>0)&&Hr(!0),(xn=oi.current)==null||xn.style.setProperty("--swipe-amount-x",`${qr.x}px`),(Sn=oi.current)==null||Sn.style.setProperty("--swipe-amount-y",`${qr.y}px`)}},rL&&!f.jsx?M.createElement("button",{"aria-label":z,"data-disabled":Pp,"data-close-button":!0,onClick:Pp||!po?()=>{}:()=>{var re;Kr(),(re=f.onDismiss)==null||re.call(f,f)},className:Tn(R==null?void 0:R.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=j==null?void 0:j.close)!=null?i:Q$):null,f.jsx||v.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:M.createElement(M.Fragment,null,ln||f.icon||f.promise?M.createElement("div",{"data-icon":"",className:Tn(R==null?void 0:R.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||aL():null,f.type!=="loading"?f.icon||(j==null?void 0:j[ln])||W$(ln):null):null,M.createElement("div",{"data-content":"",className:Tn(R==null?void 0:R.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},M.createElement("div",{"data-title":"",className:Tn(R==null?void 0:R.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?M.createElement("div",{"data-description":"",className:Tn(H,nL,R==null?void 0:R.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),v.isValidElement(f.cancel)?f.cancel:f.cancel&&ad(f.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:re=>{var Se,Oe;ad(f.cancel)&&po&&((Oe=(Se=f.cancel).onClick)==null||Oe.call(Se,re),Kr())},className:Tn(R==null?void 0:R.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,v.isValidElement(f.action)?f.action:f.action&&ad(f.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||L,onClick:re=>{var Se,Oe;ad(f.action)&&((Oe=(Se=f.action).onClick)==null||Oe.call(Se,re),!re.defaultPrevented&&Kr())},className:Tn(R==null?void 0:R.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function Yb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function pF(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?aF:oF;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var mF=v.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:f,visibleToasts:g=iF,toastOptions:m,dir:_=Yb(),gap:w=cF,loadingIcon:y,icons:b,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:S}=t,[E,C]=M.useState([]),T=M.useMemo(()=>Array.from(new Set([r].concat(E.filter(W=>W.position).map(W=>W.position)))),[E,r]),[P,I]=M.useState([]),[L,F]=M.useState(!1),[H,N]=M.useState(!1),[G,U]=M.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=M.useRef(null),k=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=M.useRef(null),j=M.useRef(!1),z=M.useCallback(W=>{C(X=>{var Z;return(Z=X.find(xe=>xe.id===W.id))!=null&&Z.delete||jt.dismiss(W.id),X.filter(({id:xe})=>xe!==W.id)})},[]);return M.useEffect(()=>jt.subscribe(W=>{if(W.dismiss){C(X=>X.map(Z=>Z.id===W.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{uP.flushSync(()=>{C(X=>{let Z=X.findIndex(xe=>xe.id===W.id);return Z!==-1?[...X.slice(0,Z),{...X[Z],...W},...X.slice(Z+1)]:[W,...X]})})})}),[]),M.useEffect(()=>{if(u!=="system"){U(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:X})=>{U(X?"dark":"light")})}catch{W.addListener(({matches:Z})=>{try{U(Z?"dark":"light")}catch(xe){console.error(xe)}})}},[u]),M.useEffect(()=>{E.length<=1&&F(!1)},[E]),M.useEffect(()=>{let W=X=>{var Z,xe;s.every(Ue=>X[Ue]||X.code===Ue)&&(F(!0),(Z=$.current)==null||Z.focus()),X.code==="Escape"&&(document.activeElement===$.current||(xe=$.current)!=null&&xe.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[s]),M.useEffect(()=>{if($.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,j.current=!1)}},[$.current]),M.createElement("section",{ref:e,"aria-label":`${x} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((W,X)=>{var Z;let[xe,Ue]=W.split("-");return E.length?M.createElement("ol",{key:W,dir:_==="auto"?Yb():_,tabIndex:-1,ref:$,className:a,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":xe,"data-lifted":L&&E.length>1&&!i,"data-x-position":Ue,style:{"--front-toast-height":`${((Z=P[0])==null?void 0:Z.height)||0}px`,"--width":`${lF}px`,"--gap":`${w}px`,...f,...pF(l,c)},onBlur:V=>{j.current&&!V.currentTarget.contains(V.relatedTarget)&&(j.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||j.current||(j.current=!0,R.current=V.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{H||F(!1)},onDragEnd:()=>F(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},E.filter(V=>!V.position&&X===0||V.position===W).map((V,_e)=>{var Ve,ye;return M.createElement(fF,{key:V.id,icons:b,index:_e,toast:V,defaultRichColors:d,duration:(Ve=m==null?void 0:m.duration)!=null?Ve:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:g,closeButton:(ye=m==null?void 0:m.closeButton)!=null?ye:o,interacting:H,position:W,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:z,toasts:E.filter(he=>he.position==V.position),heights:P.filter(he=>he.position==V.position),setHeights:I,expandByDefault:i,gap:w,loadingIcon:y,expanded:L,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const gF=({...t})=>{const{theme:e="system"}=B$();return p.jsx(mF,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var yF=Ev[" useId ".trim().toString()]||(()=>{}),vF=0;function xw(t){const[e,n]=v.useState(yF());return dt(()=>{n(r=>r??String(vF++))},[t]),e?`radix-${e}`:""}const wF=["top","right","bottom","left"],Vs=Math.min,Xt=Math.max,Sh=Math.round,ld=Math.floor,lr=t=>({x:t,y:t}),_F={left:"right",right:"left",bottom:"top",top:"bottom"},bF={start:"end",end:"start"};function ny(t,e,n){return Xt(t,Vs(e,n))}function Lr(t,e){return typeof t=="function"?t(e):t}function Mr(t){return t.split("-")[0]}function Ga(t){return t.split("-")[1]}function Sw(t){return t==="x"?"y":"x"}function Ew(t){return t==="y"?"height":"width"}const xF=new Set(["top","bottom"]);function sr(t){return xF.has(Mr(t))?"y":"x"}function Cw(t){return Sw(sr(t))}function SF(t,e,n){n===void 0&&(n=!1);const r=Ga(t),s=Cw(t),i=Ew(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Eh(o)),[o,Eh(o)]}function EF(t){const e=Eh(t);return[ry(t),e,ry(e)]}function ry(t){return t.replace(/start|end/g,e=>bF[e])}const Qb=["left","right"],Jb=["right","left"],CF=["top","bottom"],TF=["bottom","top"];function PF(t,e,n){switch(t){case"top":case"bottom":return n?e?Jb:Qb:e?Qb:Jb;case"left":case"right":return e?CF:TF;default:return[]}}function kF(t,e,n,r){const s=Ga(t);let i=PF(Mr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ry)))),i}function Eh(t){return t.replace(/left|right|bottom|top/g,e=>_F[e])}function IF(t){return{top:0,right:0,bottom:0,left:0,...t}}function tk(t){return typeof t!="number"?IF(t):{top:t,right:t,bottom:t,left:t}}function Ch(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Xb(t,e,n){let{reference:r,floating:s}=t;const i=sr(e),o=Cw(e),a=Ew(o),l=Mr(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-s.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-s.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Ga(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const RF=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=Xb(c,r,l),h=r,f={},g=0;for(let m=0;m<a.length;m++){const{name:_,fn:w}=a[m],{x:y,y:b,data:x,reset:S}=await w({x:u,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=b??d,f={...f,[_]:{...f[_],...x}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:u,y:d}=Xb(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:f}};async function Dc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Lr(e,t),g=tk(f),_=a[h?d==="floating"?"reference":"floating":d],w=Ch(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Ch(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(w.top-S.top+g.top)/x.y,bottom:(S.bottom-w.bottom+g.bottom)/x.y,left:(w.left-S.left+g.left)/x.x,right:(S.right-w.right+g.right)/x.x}}const AF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Lr(t,e)||{};if(c==null)return{};const d=tk(u),h={x:n,y:r},f=Cw(s),g=Ew(f),m=await o.getDimensions(c),_=f==="y",w=_?"top":"left",y=_?"bottom":"right",b=_?"clientHeight":"clientWidth",x=i.reference[g]+i.reference[f]-h[f]-i.floating[g],S=h[f]-i.reference[f],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=E?E[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=a.floating[b]||i.floating[g]);const T=x/2-S/2,P=C/2-m[g]/2-1,I=Vs(d[w],P),L=Vs(d[y],P),F=I,H=C-m[g]-L,N=C/2-m[g]/2+T,G=ny(F,N,H),U=!l.arrow&&Ga(s)!=null&&N!==G&&i.reference[g]/2-(N<F?I:L)-m[g]/2<0,$=U?N<F?N-F:N-H:0;return{[f]:h[f]+$,data:{[f]:G,centerOffset:N-G-$,...U&&{alignmentOffset:$}},reset:U}}}),NF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,..._}=Lr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Mr(s),y=sr(a),b=Mr(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(b||!m?[Eh(a)]:EF(a)),E=g!=="none";!h&&E&&S.push(...kF(a,m,g,x));const C=[a,...S],T=await Dc(e,_),P=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&P.push(T[w]),d){const N=SF(s,o,x);P.push(T[N[0]],T[N[1]])}if(I=[...I,{placement:s,overflows:P}],!P.every(N=>N<=0)){var L,F;const N=(((L=i.flip)==null?void 0:L.index)||0)+1,G=C[N];if(G&&(!(d==="alignment"?y!==sr(G):!1)||I.every(k=>k.overflows[0]>0&&sr(k.placement)===y)))return{data:{index:N,overflows:I},reset:{placement:G}};let U=(F=I.filter($=>$.overflows[0]<=0).sort(($,k)=>$.overflows[1]-k.overflows[1])[0])==null?void 0:F.placement;if(!U)switch(f){case"bestFit":{var H;const $=(H=I.filter(k=>{if(E){const R=sr(k.placement);return R===y||R==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(R=>R>0).reduce((R,j)=>R+j,0)]).sort((k,R)=>k[1]-R[1])[0])==null?void 0:H[0];$&&(U=$);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function Zb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ex(t){return wF.some(e=>t[e]>=0)}const OF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Lr(t,e);switch(r){case"referenceHidden":{const i=await Dc(e,{...s,elementContext:"reference"}),o=Zb(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ex(o)}}}case"escaped":{const i=await Dc(e,{...s,altBoundary:!0}),o=Zb(i,n.floating);return{data:{escapedOffsets:o,escaped:ex(o)}}}default:return{}}}}},nk=new Set(["left","top"]);async function DF(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Mr(n),a=Ga(n),l=sr(n)==="y",c=nk.has(o)?-1:1,u=i&&l?-1:1,d=Lr(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const LF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await DF(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},MF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:w,y}=_;return{x:w,y}}},...l}=Lr(t,e),c={x:n,y:r},u=await Dc(e,l),d=sr(Mr(s)),h=Sw(d);let f=c[h],g=c[d];if(i){const _=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=f+u[_],b=f-u[w];f=ny(y,f,b)}if(o){const _=d==="y"?"top":"left",w=d==="y"?"bottom":"right",y=g+u[_],b=g-u[w];g=ny(y,g,b)}const m=a.fn({...e,[h]:f,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:i,[d]:o}}}}}},jF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Lr(t,e),u={x:n,y:r},d=sr(s),h=Sw(d);let f=u[h],g=u[d];const m=Lr(a,e),_=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=h==="y"?"height":"width",x=i.reference[h]-i.floating[b]+_.mainAxis,S=i.reference[h]+i.reference[b]-_.mainAxis;f<x?f=x:f>S&&(f=S)}if(c){var w,y;const b=h==="y"?"width":"height",x=nk.has(Mr(s)),S=i.reference[d]-i.floating[b]+(x&&((w=o.offset)==null?void 0:w[d])||0)+(x?0:_.crossAxis),E=i.reference[d]+i.reference[b]+(x?0:((y=o.offset)==null?void 0:y[d])||0)-(x?_.crossAxis:0);g<S?g=S:g>E&&(g=E)}return{[h]:f,[d]:g}}}},$F=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Lr(t,e),u=await Dc(e,c),d=Mr(s),h=Ga(s),f=sr(s)==="y",{width:g,height:m}=i.floating;let _,w;d==="top"||d==="bottom"?(_=d,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=d,_=h==="end"?"top":"bottom");const y=m-u.top-u.bottom,b=g-u.left-u.right,x=Vs(m-u[_],y),S=Vs(g-u[w],b),E=!e.middlewareData.shift;let C=x,T=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),E&&!h){const I=Xt(u.left,0),L=Xt(u.right,0),F=Xt(u.top,0),H=Xt(u.bottom,0);f?T=g-2*(I!==0||L!==0?I+L:Xt(u.left,u.right)):C=m-2*(F!==0||H!==0?F+H:Xt(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:C});const P=await o.getDimensions(a.floating);return g!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function Mf(){return typeof window<"u"}function qa(t){return rk(t)?(t.nodeName||"").toLowerCase():"#document"}function nn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mr(t){var e;return(e=(rk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rk(t){return Mf()?t instanceof Node||t instanceof nn(t).Node:!1}function Kn(t){return Mf()?t instanceof Element||t instanceof nn(t).Element:!1}function fr(t){return Mf()?t instanceof HTMLElement||t instanceof nn(t).HTMLElement:!1}function tx(t){return!Mf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nn(t).ShadowRoot}const FF=new Set(["inline","contents"]);function _u(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!FF.has(s)}const UF=new Set(["table","td","th"]);function VF(t){return UF.has(qa(t))}const BF=[":popover-open",":modal"];function jf(t){return BF.some(e=>{try{return t.matches(e)}catch{return!1}})}const WF=["transform","translate","scale","rotate","perspective"],zF=["transform","translate","scale","rotate","perspective","filter"],HF=["paint","layout","strict","content"];function Tw(t){const e=Pw(),n=Kn(t)?Gn(t):t;return WF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||zF.some(r=>(n.willChange||"").includes(r))||HF.some(r=>(n.contain||"").includes(r))}function KF(t){let e=Bs(t);for(;fr(e)&&!Pa(e);){if(Tw(e))return e;if(jf(e))return null;e=Bs(e)}return null}function Pw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GF=new Set(["html","body","#document"]);function Pa(t){return GF.has(qa(t))}function Gn(t){return nn(t).getComputedStyle(t)}function $f(t){return Kn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bs(t){if(qa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tx(t)&&t.host||mr(t);return tx(e)?e.host:e}function sk(t){const e=Bs(t);return Pa(e)?t.ownerDocument?t.ownerDocument.body:t.body:fr(e)&&_u(e)?e:sk(e)}function Lc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=sk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=nn(s);if(i){const a=sy(o);return e.concat(o,o.visualViewport||[],_u(s)?s:[],a&&n?Lc(a):[])}return e.concat(s,Lc(s,[],n))}function sy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ik(t){const e=Gn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=fr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Sh(n)!==i||Sh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function kw(t){return Kn(t)?t:t.contextElement}function ra(t){const e=kw(t);if(!fr(e))return lr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=ik(e);let o=(i?Sh(n.width):n.width)/r,a=(i?Sh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const qF=lr(0);function ok(t){const e=nn(t);return!Pw()||!e.visualViewport?qF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function YF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==nn(t)?!1:e}function Gi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=kw(t);let o=lr(1);e&&(r?Kn(r)&&(o=ra(r)):o=ra(t));const a=YF(i,n,r)?ok(i):lr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const h=nn(i),f=r&&Kn(r)?nn(r):r;let g=h,m=sy(g);for(;m&&r&&f!==g;){const _=ra(m),w=m.getBoundingClientRect(),y=Gn(m),b=w.left+(m.clientLeft+parseFloat(y.paddingLeft))*_.x,x=w.top+(m.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=b,c+=x,g=nn(m),m=sy(g)}}return Ch({width:u,height:d,x:l,y:c})}function Iw(t,e){const n=$f(t).scrollLeft;return e?e.left+n:Gi(mr(t)).left+n}function ak(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Iw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function QF(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=mr(r),a=e?jf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=lr(1);const u=lr(0),d=fr(r);if((d||!d&&!i)&&((qa(r)!=="body"||_u(o))&&(l=$f(r)),fr(r))){const f=Gi(r);c=ra(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!i?ak(o,l,!0):lr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function JF(t){return Array.from(t.getClientRects())}function XF(t){const e=mr(t),n=$f(t),r=t.ownerDocument.body,s=Xt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Xt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Iw(t);const a=-n.scrollTop;return Gn(r).direction==="rtl"&&(o+=Xt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function ZF(t,e){const n=nn(t),r=mr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Pw();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const eU=new Set(["absolute","fixed"]);function tU(t,e){const n=Gi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=fr(t)?ra(t):lr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function nx(t,e,n){let r;if(e==="viewport")r=ZF(t,n);else if(e==="document")r=XF(mr(t));else if(Kn(e))r=tU(e,n);else{const s=ok(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ch(r)}function lk(t,e){const n=Bs(t);return n===e||!Kn(n)||Pa(n)?!1:Gn(n).position==="fixed"||lk(n,e)}function nU(t,e){const n=e.get(t);if(n)return n;let r=Lc(t,[],!1).filter(a=>Kn(a)&&qa(a)!=="body"),s=null;const i=Gn(t).position==="fixed";let o=i?Bs(t):t;for(;Kn(o)&&!Pa(o);){const a=Gn(o),l=Tw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&eU.has(s.position)||_u(o)&&!l&&lk(t,o))?r=r.filter(u=>u!==o):s=a,o=Bs(o)}return e.set(t,r),r}function rU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?jf(e)?[]:nU(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=nx(e,u,s);return c.top=Xt(d.top,c.top),c.right=Vs(d.right,c.right),c.bottom=Vs(d.bottom,c.bottom),c.left=Xt(d.left,c.left),c},nx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sU(t){const{width:e,height:n}=ik(t);return{width:e,height:n}}function iU(t,e,n){const r=fr(e),s=mr(e),i=n==="fixed",o=Gi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=lr(0);function c(){l.x=Iw(s)}if(r||!r&&!i)if((qa(e)!=="body"||_u(s))&&(a=$f(e)),r){const f=Gi(e,!0,i,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?ak(s,a):lr(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function im(t){return Gn(t).position==="static"}function rx(t,e){if(!fr(t)||Gn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return mr(t)===n&&(n=n.ownerDocument.body),n}function ck(t,e){const n=nn(t);if(jf(t))return n;if(!fr(t)){let s=Bs(t);for(;s&&!Pa(s);){if(Kn(s)&&!im(s))return s;s=Bs(s)}return n}let r=rx(t,e);for(;r&&VF(r)&&im(r);)r=rx(r,e);return r&&Pa(r)&&im(r)&&!Tw(r)?n:r||KF(t)||n}const oU=async function(t){const e=this.getOffsetParent||ck,n=this.getDimensions,r=await n(t.floating);return{reference:iU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aU(t){return Gn(t).direction==="rtl"}const lU={convertOffsetParentRelativeRectToViewportRelativeRect:QF,getDocumentElement:mr,getClippingRect:rU,getOffsetParent:ck,getElementRects:oU,getClientRects:JF,getDimensions:sU,getScale:ra,isElement:Kn,isRTL:aU};function uk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cU(t,e){let n=null,r;const s=mr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const g=ld(d),m=ld(s.clientWidth-(u+h)),_=ld(s.clientHeight-(d+f)),w=ld(u),b={rootMargin:-g+"px "+-m+"px "+-_+"px "+-w+"px",threshold:Xt(0,Vs(1,l))||1};let x=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!x)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!uk(c,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(t)}return o(!0),i}function uU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=kw(t),u=s||i?[...c?Lc(c):[],...Lc(e)]:[];u.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const d=c&&a?cU(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(w=>{let[y]=w;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let g,m=l?Gi(t):null;l&&_();function _(){const w=Gi(t);m&&!uk(m,w)&&n(),m=w,g=requestAnimationFrame(_)}return n(),()=>{var w;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),d==null||d(),(w=f)==null||w.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const dU=LF,hU=MF,fU=NF,pU=$F,mU=OF,sx=AF,gU=jF,yU=(t,e,n)=>{const r=new Map,s={platform:lU,...n},i={...s.platform,_c:r};return RF(t,e,{...s,platform:i})};var vU=typeof document<"u",wU=function(){},Ud=vU?v.useLayoutEffect:wU;function Th(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Th(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Th(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function dk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ix(t,e){const n=dk(t);return Math.round(e*n)/n}function om(t){const e=v.useRef(t);return Ud(()=>{e.current=t}),e}function _U(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=v.useState(r);Th(h,r)||f(r);const[g,m]=v.useState(null),[_,w]=v.useState(null),y=v.useCallback(k=>{k!==E.current&&(E.current=k,m(k))},[]),b=v.useCallback(k=>{k!==C.current&&(C.current=k,w(k))},[]),x=i||g,S=o||_,E=v.useRef(null),C=v.useRef(null),T=v.useRef(u),P=l!=null,I=om(l),L=om(s),F=om(c),H=v.useCallback(()=>{if(!E.current||!C.current)return;const k={placement:e,strategy:n,middleware:h};L.current&&(k.platform=L.current),yU(E.current,C.current,k).then(R=>{const j={...R,isPositioned:F.current!==!1};N.current&&!Th(T.current,j)&&(T.current=j,oo.flushSync(()=>{d(j)}))})},[h,e,n,L,F]);Ud(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(k=>({...k,isPositioned:!1})))},[c]);const N=v.useRef(!1);Ud(()=>(N.current=!0,()=>{N.current=!1}),[]),Ud(()=>{if(x&&(E.current=x),S&&(C.current=S),x&&S){if(I.current)return I.current(x,S,H);H()}},[x,S,H,I,P]);const G=v.useMemo(()=>({reference:E,floating:C,setReference:y,setFloating:b}),[y,b]),U=v.useMemo(()=>({reference:x,floating:S}),[x,S]),$=v.useMemo(()=>{const k={position:n,left:0,top:0};if(!U.floating)return k;const R=ix(U.floating,u.x),j=ix(U.floating,u.y);return a?{...k,transform:"translate("+R+"px, "+j+"px)",...dk(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:j}},[n,a,U.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:H,refs:G,elements:U,floatingStyles:$}),[u,H,G,U,$])}const bU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?sx({element:r.current,padding:s}).fn(n):{}:r?sx({element:r,padding:s}).fn(n):{}}}},xU=(t,e)=>({...dU(t),options:[t,e]}),SU=(t,e)=>({...hU(t),options:[t,e]}),EU=(t,e)=>({...gU(t),options:[t,e]}),CU=(t,e)=>({...fU(t),options:[t,e]}),TU=(t,e)=>({...pU(t),options:[t,e]}),PU=(t,e)=>({...mU(t),options:[t,e]}),kU=(t,e)=>({...bU(t),options:[t,e]});var IU="Arrow",hk=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(le.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});hk.displayName=IU;var RU=hk;function fk(t){const[e,n]=v.useState(void 0);return dt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Rw="Popper",[pk,Ff]=Js(Rw),[AU,mk]=pk(Rw),gk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return p.jsx(AU,{scope:e,anchor:r,onAnchorChange:s,children:n})};gk.displayName=Rw;var yk="PopperAnchor",vk=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=mk(yk,n),o=v.useRef(null),a=ve(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(le.div,{...s,ref:a})});vk.displayName=yk;var Aw="PopperContent",[NU,OU]=pk(Aw),wk=v.forwardRef((t,e)=>{var V,_e,Ve,ye,he,pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:g,...m}=t,_=mk(Aw,n),[w,y]=v.useState(null),b=ve(e,gt=>y(gt)),[x,S]=v.useState(null),E=fk(x),C=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,P=r+(i!=="center"?"-"+i:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(c)?c:[c],F=L.length>0,H={padding:I,boundary:L.filter(LU),altBoundary:F},{refs:N,floatingStyles:G,placement:U,isPositioned:$,middlewareData:k}=_U({strategy:"fixed",placement:P,whileElementsMounted:(...gt)=>uU(...gt,{animationFrame:f==="always"}),elements:{reference:_.anchor},middleware:[xU({mainAxis:s+T,alignmentAxis:o}),l&&SU({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?EU():void 0,...H}),l&&CU({...H}),TU({...H,apply:({elements:gt,rects:an,availableWidth:si,availableHeight:Hr})=>{const{width:ii,height:hl}=an.reference,fo=gt.floating.style;fo.setProperty("--radix-popper-available-width",`${si}px`),fo.setProperty("--radix-popper-available-height",`${Hr}px`),fo.setProperty("--radix-popper-anchor-width",`${ii}px`),fo.setProperty("--radix-popper-anchor-height",`${hl}px`)}}),x&&kU({element:x,padding:a}),MU({arrowWidth:C,arrowHeight:T}),h&&PU({strategy:"referenceHidden",...H})]}),[R,j]=xk(U),z=ct(g);dt(()=>{$&&(z==null||z())},[$,z]);const W=(V=k.arrow)==null?void 0:V.x,X=(_e=k.arrow)==null?void 0:_e.y,Z=((Ve=k.arrow)==null?void 0:Ve.centerOffset)!==0,[xe,Ue]=v.useState();return dt(()=>{w&&Ue(window.getComputedStyle(w).zIndex)},[w]),p.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:$?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(ye=k.transformOrigin)==null?void 0:ye.x,(he=k.transformOrigin)==null?void 0:he.y].join(" "),...((pe=k.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(NU,{scope:n,placedSide:R,onArrowChange:S,arrowX:W,arrowY:X,shouldHideArrow:Z,children:p.jsx(le.div,{"data-side":R,"data-align":j,...m,ref:b,style:{...m.style,animation:$?void 0:"none"}})})})});wk.displayName=Aw;var _k="PopperArrow",DU={top:"bottom",right:"left",bottom:"top",left:"right"},bk=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=OU(_k,r),o=DU[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(RU,{...s,ref:n,style:{...s.style,display:"block"}})})});bk.displayName=_k;function LU(t){return t!==null}var MU=t=>({name:"transformOrigin",options:t,fn(e){var _,w,y;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=xk(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,f=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=o?d:`${h}px`,m=`${-l}px`):c==="top"?(g=o?d:`${h}px`,m=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=o?d:`${f}px`):c==="left"&&(g=`${r.floating.width+l}px`,m=o?d:`${f}px`),{data:{x:g,y:m}}}});function xk(t){const[e,n="center"]=t.split("-");return[e,n]}var jU=gk,Sk=vk,Ek=wk,Ck=bk,[Uf,moe]=Js("Tooltip",[Ff]),Nw=Ff(),Tk="TooltipProvider",$U=700,ox="tooltip.open",[FU,Pk]=Uf(Tk),kk=t=>{const{__scopeTooltip:e,delayDuration:n=$U,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(FU,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};kk.displayName=Tk;var Ik="Tooltip",[goe,Vf]=Uf(Ik),iy="TooltipTrigger",UU=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Vf(iy,n),i=Pk(iy,n),o=Nw(n),a=v.useRef(null),l=ve(e,a,s.onTriggerChange),c=v.useRef(!1),u=v.useRef(!1),d=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(Sk,{asChild:!0,...o,children:p.jsx(le.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ne(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ne(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ne(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ne(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ne(t.onBlur,s.onClose),onClick:ne(t.onClick,s.onClose)})})});UU.displayName=iy;var VU="TooltipPortal",[yoe,BU]=Uf(VU,{forceMount:void 0}),ka="TooltipContent",Rk=v.forwardRef((t,e)=>{const n=BU(ka,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Vf(ka,t.__scopeTooltip);return p.jsx(lo,{present:r||o.open,children:o.disableHoverableContent?p.jsx(Ak,{side:s,...i,ref:e}):p.jsx(WU,{side:s,...i,ref:e})})}),WU=v.forwardRef((t,e)=>{const n=Vf(ka,t.__scopeTooltip),r=Pk(ka,t.__scopeTooltip),s=v.useRef(null),i=ve(e,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,h=v.useCallback(()=>{a(null),d(!1)},[d]),f=v.useCallback((g,m)=>{const _=g.currentTarget,w={x:g.clientX,y:g.clientY},y=qU(w,_.getBoundingClientRect()),b=YU(w,y),x=QU(m.getBoundingClientRect()),S=XU([...b,...x]);a(S),d(!0)},[d]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(l&&u){const g=_=>f(_,u),m=_=>f(_,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",m)}}},[l,u,f,h]),v.useEffect(()=>{if(o){const g=m=>{const _=m.target,w={x:m.clientX,y:m.clientY},y=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),b=!JU(w,o);y?h():b&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,h]),p.jsx(Ak,{...t,ref:i})}),[zU,HU]=Uf(Ik,{isInside:!1}),KU=Wj("TooltipContent"),Ak=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Vf(ka,n),c=Nw(n),{onClose:u}=l;return v.useEffect(()=>(document.addEventListener(ox,u),()=>document.removeEventListener(ox,u)),[u]),v.useEffect(()=>{if(l.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),p.jsx(Of,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:p.jsxs(Ek,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(KU,{children:r}),p.jsx(zU,{scope:n,isInside:!0,children:p.jsx(d2,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Rk.displayName=ka;var Nk="TooltipArrow",GU=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Nw(n);return HU(Nk,n).isInside?null:p.jsx(Ck,{...s,...r,ref:e})});GU.displayName=Nk;function qU(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YU(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function QU(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function JU(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,d=l.x,h=l.y;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(s=!s)}return s}function XU(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ZU(e)}function ZU(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var e4=kk,Ok=Rk;const t4=e4,n4=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(Ok,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));n4.displayName=Ok.displayName;var Bf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wf=typeof window>"u"||"Deno"in globalThis;function An(){}function r4(t,e){return typeof t=="function"?t(e):t}function s4(t){return typeof t=="number"&&t>=0&&t!==1/0}function i4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function oy(t,e){return typeof t=="function"?t(e):t}function o4(t,e){return typeof t=="function"?t(e):t}function ax(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ow(o,e.options))return!1}else if(!jc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function lx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Mc(e.options.mutationKey)!==Mc(i))return!1}else if(!jc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ow(t,e){return((e==null?void 0:e.queryKeyHashFn)||Mc)(t)}function Mc(t){return JSON.stringify(t,(e,n)=>ay(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function jc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>jc(t[n],e[n])):!1}function Dk(t,e){if(t===e)return t;const n=cx(t)&&cx(e);if(n||ay(t)&&ay(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=Dk(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function cx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ay(t){if(!ux(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ux(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ux(t){return Object.prototype.toString.call(t)==="[object Object]"}function a4(t){return new Promise(e=>{setTimeout(e,t)})}function l4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Dk(t,e):e}function c4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function u4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Dw=Symbol();function Lk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Dw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Pi,fs,ha,WC,d4=(WC=class extends Bf{constructor(){super();me(this,Pi);me(this,fs);me(this,ha);se(this,ha,e=>{if(!Wf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,fs)||this.setEventListener(A(this,ha))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,fs))==null||e.call(this),se(this,fs,void 0))}setEventListener(e){var n;se(this,ha,e),(n=A(this,fs))==null||n.call(this),se(this,fs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){A(this,Pi)!==e&&(se(this,Pi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof A(this,Pi)=="boolean"?A(this,Pi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Pi=new WeakMap,fs=new WeakMap,ha=new WeakMap,WC),Mk=new d4,fa,ps,pa,zC,h4=(zC=class extends Bf{constructor(){super();me(this,fa,!0);me(this,ps);me(this,pa);se(this,pa,e=>{if(!Wf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){A(this,ps)||this.setEventListener(A(this,pa))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,ps))==null||e.call(this),se(this,ps,void 0))}setEventListener(e){var n;se(this,pa,e),(n=A(this,ps))==null||n.call(this),se(this,ps,e(this.setOnline.bind(this)))}setOnline(e){A(this,fa)!==e&&(se(this,fa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return A(this,fa)}},fa=new WeakMap,ps=new WeakMap,pa=new WeakMap,zC),Ph=new h4;function f4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function p4(t){return Math.min(1e3*2**t,3e4)}function jk(t){return(t??"online")==="online"?Ph.isOnline():!0}var $k=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function am(t){return t instanceof $k}function Fk(t){let e=!1,n=0,r=!1,s;const i=f4(),o=m=>{var _;r||(h(new $k(m)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>Mk.isFocused()&&(t.networkMode==="always"||Ph.isOnline())&&t.canRun(),u=()=>jk(t.networkMode)&&t.canRun(),d=m=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,m),s==null||s(),i.resolve(m))},h=m=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,m),s==null||s(),i.reject(m))},f=()=>new Promise(m=>{var _;s=w=>{(r||c())&&m(w)},(_=t.onPause)==null||_.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(r)return;let m;const _=n===0?t.initialPromise:void 0;try{m=_??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(d).catch(w=>{var E;if(r)return;const y=t.retry??(Wf?0:3),b=t.retryDelay??p4,x=typeof b=="function"?b(n,w):b,S=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,w);if(e||!S){h(w);return}n++,(E=t.onFail)==null||E.call(t,n,w),a4(x).then(()=>c()?void 0:f()).then(()=>{e?h(w):g()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():f().then(g),i)}}var m4=t=>setTimeout(t,0);function g4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=m4;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var It=g4(),ki,HC,Uk=(HC=class{constructor(){me(this,ki)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),s4(this.gcTime)&&se(this,ki,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wf?1/0:5*60*1e3))}clearGcTimeout(){A(this,ki)&&(clearTimeout(A(this,ki)),se(this,ki,void 0))}},ki=new WeakMap,HC),ma,Ii,dn,Ri,_t,uu,Ai,Nn,wr,KC,y4=(KC=class extends Uk{constructor(e){super();me(this,Nn);me(this,ma);me(this,Ii);me(this,dn);me(this,Ri);me(this,_t);me(this,uu);me(this,Ai);se(this,Ai,!1),se(this,uu,e.defaultOptions),this.setOptions(e.options),this.observers=[],se(this,Ri,e.client),se(this,dn,A(this,Ri).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,se(this,ma,w4(this.options)),this.state=e.state??A(this,ma),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=A(this,_t))==null?void 0:e.promise}setOptions(e){this.options={...A(this,uu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,dn).remove(this)}setData(e,n){const r=l4(this.state.data,e,this.options);return yt(this,Nn,wr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){yt(this,Nn,wr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=A(this,_t))==null?void 0:r.promise;return(s=A(this,_t))==null||s.cancel(e),n?n.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,ma))}isActive(){return this.observers.some(e=>o4(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>oy(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!i4(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=A(this,_t))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=A(this,_t))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),A(this,dn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(A(this,_t)&&(A(this,Ai)?A(this,_t).cancel({revert:!0}):A(this,_t).cancelRetry()),this.scheduleGc()),A(this,dn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,Nn,wr).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(A(this,_t))return A(this,_t).continueRetry(),A(this,_t).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(se(this,Ai,!0),r.signal)})},i=()=>{const h=Lk(this.options,n),g=(()=>{const m={client:A(this,Ri),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return se(this,Ai,!1),this.options.persister?this.options.persister(h,g,this):h(g)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:A(this,Ri),state:this.state,fetchFn:i};return s(h),h})();(c=this.options.behavior)==null||c.onFetch(a,this),se(this,Ii,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&yt(this,Nn,wr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,g,m,_;am(h)&&h.silent||yt(this,Nn,wr).call(this,{type:"error",error:h}),am(h)||((g=(f=A(this,dn).config).onError)==null||g.call(f,h,this),(_=(m=A(this,dn).config).onSettled)==null||_.call(m,this.state.data,h,this)),this.scheduleGc()};return se(this,_t,Fk({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,g,m,_;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){l(w);return}(g=(f=A(this,dn).config).onSuccess)==null||g.call(f,h,this),(_=(m=A(this,dn).config).onSettled)==null||_.call(m,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{yt(this,Nn,wr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{yt(this,Nn,wr).call(this,{type:"pause"})},onContinue:()=>{yt(this,Nn,wr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),A(this,_t).start()}},ma=new WeakMap,Ii=new WeakMap,dn=new WeakMap,Ri=new WeakMap,_t=new WeakMap,uu=new WeakMap,Ai=new WeakMap,Nn=new WeakSet,wr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...v4(r.data,this.options),fetchMeta:e.meta??null};case"success":return se(this,Ii,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return am(s)&&s.revert&&A(this,Ii)?{...A(this,Ii),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),It.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),A(this,dn).notify({query:this,type:"updated",action:e})})},KC);function v4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function w4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zn,GC,_4=(GC=class extends Bf{constructor(e={}){super();me(this,Zn);this.config=e,se(this,Zn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ow(s,n);let o=this.get(i);return o||(o=new y4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){A(this,Zn).has(e.queryHash)||(A(this,Zn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=A(this,Zn).get(e.queryHash);n&&(e.destroy(),n===e&&A(this,Zn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){It.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return A(this,Zn).get(e)}getAll(){return[...A(this,Zn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ax(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ax(e,r)):n}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){It.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zn=new WeakMap,GC),er,Pt,Ni,tr,es,qC,b4=(qC=class extends Uk{constructor(e){super();me(this,tr);me(this,er);me(this,Pt);me(this,Ni);this.mutationId=e.mutationId,se(this,Pt,e.mutationCache),se(this,er,[]),this.state=e.state||x4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){A(this,er).includes(e)||(A(this,er).push(e),this.clearGcTimeout(),A(this,Pt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){se(this,er,A(this,er).filter(n=>n!==e)),this.scheduleGc(),A(this,Pt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){A(this,er).length||(this.state.status==="pending"?this.scheduleGc():A(this,Pt).remove(this))}continue(){var e;return((e=A(this,Ni))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,c,u,d,h,f,g,m,_,w,y,b,x,S,E,C,T;const n=()=>{yt(this,tr,es).call(this,{type:"continue"})};se(this,Ni,Fk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{yt(this,tr,es).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{yt(this,tr,es).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,Pt).canRun(this)}));const r=this.state.status==="pending",s=!A(this,Ni).canStart();try{if(r)n();else{yt(this,tr,es).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=A(this,Pt).config).onMutate)==null?void 0:o.call(i,e,this));const I=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));I!==this.state.context&&yt(this,tr,es).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const P=await A(this,Ni).start();return await((u=(c=A(this,Pt).config).onSuccess)==null?void 0:u.call(c,P,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,P,e,this.state.context)),await((g=(f=A(this,Pt).config).onSettled)==null?void 0:g.call(f,P,null,this.state.variables,this.state.context,this)),await((_=(m=this.options).onSettled)==null?void 0:_.call(m,P,null,e,this.state.context)),yt(this,tr,es).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(w=A(this,Pt).config).onError)==null?void 0:y.call(w,P,e,this.state.context,this)),await((x=(b=this.options).onError)==null?void 0:x.call(b,P,e,this.state.context)),await((E=(S=A(this,Pt).config).onSettled)==null?void 0:E.call(S,void 0,P,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,P,e,this.state.context)),P}finally{yt(this,tr,es).call(this,{type:"error",error:P})}}finally{A(this,Pt).runNext(this)}}},er=new WeakMap,Pt=new WeakMap,Ni=new WeakMap,tr=new WeakSet,es=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),It.batch(()=>{A(this,er).forEach(r=>{r.onMutationUpdate(e)}),A(this,Pt).notify({mutation:this,type:"updated",action:e})})},qC);function x4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sr,On,du,YC,S4=(YC=class extends Bf{constructor(e={}){super();me(this,Sr);me(this,On);me(this,du);this.config=e,se(this,Sr,new Set),se(this,On,new Map),se(this,du,0)}build(e,n,r){const s=new b4({mutationCache:this,mutationId:++Vu(this,du)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){A(this,Sr).add(e);const n=cd(e);if(typeof n=="string"){const r=A(this,On).get(n);r?r.push(e):A(this,On).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(A(this,Sr).delete(e)){const n=cd(e);if(typeof n=="string"){const r=A(this,On).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&A(this,On).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=cd(e);if(typeof n=="string"){const r=A(this,On).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=cd(e);if(typeof n=="string"){const s=(r=A(this,On).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){It.batch(()=>{A(this,Sr).forEach(e=>{this.notify({type:"removed",mutation:e})}),A(this,Sr).clear(),A(this,On).clear()})}getAll(){return Array.from(A(this,Sr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>lx(n,r))}findAll(e={}){return this.getAll().filter(n=>lx(e,n))}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return It.batch(()=>Promise.all(e.map(n=>n.continue().catch(An))))}},Sr=new WeakMap,On=new WeakMap,du=new WeakMap,YC);function cd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function dx(t){return{onFetch:(e,n)=>{var u,d,h,f,g;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const _=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=Lk(e.options,e.fetchOptions),y=async(b,x,S)=>{if(m)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:x,direction:S?"backward":"forward",meta:e.options.meta};return _(L),L})(),T=await w(C),{maxPages:P}=e.options,I=S?u4:c4;return{pages:I(b.pages,T,P),pageParams:I(b.pageParams,x,P)}};if(s&&i.length){const b=s==="backward",x=b?E4:hx,S={pages:i,pageParams:o},E=x(r,S);a=await y(S,E,b)}else{const b=t??i.length;do{const x=l===0?o[0]??r.initialPageParam:hx(r,a);if(l>0&&x==null)break;a=await y(a,x),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var m,_;return(_=(m=e.options).persister)==null?void 0:_.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function hx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function E4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Be,ms,gs,ga,ya,ys,va,wa,QC,C4=(QC=class{constructor(t={}){me(this,Be);me(this,ms);me(this,gs);me(this,ga);me(this,ya);me(this,ys);me(this,va);me(this,wa);se(this,Be,t.queryCache||new _4),se(this,ms,t.mutationCache||new S4),se(this,gs,t.defaultOptions||{}),se(this,ga,new Map),se(this,ya,new Map),se(this,ys,0)}mount(){Vu(this,ys)._++,A(this,ys)===1&&(se(this,va,Mk.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,Be).onFocus())})),se(this,wa,Ph.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,Be).onOnline())})))}unmount(){var t,e;Vu(this,ys)._--,A(this,ys)===0&&((t=A(this,va))==null||t.call(this),se(this,va,void 0),(e=A(this,wa))==null||e.call(this),se(this,wa,void 0))}isFetching(t){return A(this,Be).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return A(this,ms).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=A(this,Be).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=A(this,Be).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(oy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return A(this,Be).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=A(this,Be).get(r.queryHash),i=s==null?void 0:s.state.data,o=r4(e,i);if(o!==void 0)return A(this,Be).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return It.batch(()=>A(this,Be).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=A(this,Be).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=A(this,Be);It.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=A(this,Be);return It.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=It.batch(()=>A(this,Be).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(An).catch(An)}invalidateQueries(t,e={}){return It.batch(()=>(A(this,Be).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=It.batch(()=>A(this,Be).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(An)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(An)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=A(this,Be).build(this,e);return n.isStaleByTime(oy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(An).catch(An)}fetchInfiniteQuery(t){return t.behavior=dx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(An).catch(An)}ensureInfiniteQueryData(t){return t.behavior=dx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ph.isOnline()?A(this,ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,Be)}getMutationCache(){return A(this,ms)}getDefaultOptions(){return A(this,gs)}setDefaultOptions(t){se(this,gs,t)}setQueryDefaults(t,e){A(this,ga).set(Mc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...A(this,ga).values()],n={};return e.forEach(r=>{jc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){A(this,ya).set(Mc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...A(this,ya).values()],n={};return e.forEach(r=>{jc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...A(this,gs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ow(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Dw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...A(this,gs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){A(this,Be).clear(),A(this,ms).clear()}},Be=new WeakMap,ms=new WeakMap,gs=new WeakMap,ga=new WeakMap,ya=new WeakMap,ys=new WeakMap,va=new WeakMap,wa=new WeakMap,QC),T4=v.createContext(void 0),P4=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(T4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$c.apply(this,arguments)}var _s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_s||(_s={}));const fx="popstate";function k4(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return ly("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Bk(s)}return R4(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I4(){return Math.random().toString(36).substr(2,8)}function px(t,e){return{usr:t.state,key:t.key,idx:e}}function ly(t,e,n,r){return n===void 0&&(n=null),$c({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ya(e):e,{state:n,key:e&&e.key||r||I4()})}function Bk(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function R4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=_s.Pop,l=null,c=u();c==null&&(c=0,o.replaceState($c({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=_s.Pop;let _=u(),w=_==null?null:_-c;c=_,l&&l({action:a,location:m.location,delta:w})}function h(_,w){a=_s.Push;let y=ly(m.location,_,w);c=u()+1;let b=px(y,c),x=m.createHref(y);try{o.pushState(b,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}i&&l&&l({action:a,location:m.location,delta:1})}function f(_,w){a=_s.Replace;let y=ly(m.location,_,w);c=u();let b=px(y,c),x=m.createHref(y);o.replaceState(b,"",x),i&&l&&l({action:a,location:m.location,delta:0})}function g(_){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:Bk(_);return y=y.replace(/ $/,"%20"),st(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let m={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(fx,d),l=_,()=>{s.removeEventListener(fx,d),l=null}},createHref(_){return e(s,_)},createURL:g,encodeLocation(_){let w=g(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:f,go(_){return o.go(_)}};return m}var mx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mx||(mx={}));function A4(t,e,n){return n===void 0&&(n="/"),N4(t,e,n,!1)}function N4(t,e,n,r){let s=typeof e=="string"?Ya(e):e,i=Hk(s.pathname||"/",n);if(i==null)return null;let o=Wk(t);O4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=z4(i);a=B4(o[l],c,r)}return a}function Wk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(st(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Li([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(st(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Wk(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:U4(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of zk(i.path))s(i,o,l)}),e}function zk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function O4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:V4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const D4=/^:[\w-]+$/,L4=3,M4=2,j4=1,$4=10,F4=-2,gx=t=>t==="*";function U4(t,e){let n=t.split("/"),r=n.length;return n.some(gx)&&(r+=F4),e&&(r+=M4),n.filter(s=>!gx(s)).reduce((s,i)=>s+(D4.test(i)?L4:i===""?j4:$4),r)}function V4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function B4(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=yx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=yx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Li([i,d.pathname]),pathnameBase:Q4(Li([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Li([i,d.pathnameBase]))}return o}function yx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function W4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function z4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function H4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ya(t):t;return{pathname:n?n.startsWith("/")?n:K4(n,e):e,search:J4(r),hash:X4(s)}}function K4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function q4(t,e){let n=G4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Y4(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ya(t):(s=$c({},t),st(!s.pathname||!s.pathname.includes("?"),lm("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),lm("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),lm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=H4(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Li=t=>t.join("/").replace(/\/\/+/g,"/"),Q4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),J4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,X4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Z4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Kk=["post","put","patch","delete"];new Set(Kk);const e3=["get",...Kk];new Set(e3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}const Lw=v.createContext(null),t3=v.createContext(null),zf=v.createContext(null),Hf=v.createContext(null),Qa=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Gk=v.createContext(null);function Kf(){return v.useContext(Hf)!=null}function Mw(){return Kf()||st(!1),v.useContext(Hf).location}function qk(t){v.useContext(zf).static||v.useLayoutEffect(t)}function jw(){let{isDataRoute:t}=v.useContext(Qa);return t?p3():n3()}function n3(){Kf()||st(!1);let t=v.useContext(Lw),{basename:e,future:n,navigator:r}=v.useContext(zf),{matches:s}=v.useContext(Qa),{pathname:i}=Mw(),o=JSON.stringify(q4(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return qk(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Y4(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Li([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function r3(t,e){return s3(t,e)}function s3(t,e,n,r){Kf()||st(!1);let{navigator:s}=v.useContext(zf),{matches:i}=v.useContext(Qa),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Mw(),u;if(e){var d;let _=typeof e=="string"?Ya(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||st(!1),u=_}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=A4(t,{pathname:f}),m=c3(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Li([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Li([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&m?v.createElement(Hf.Provider,{value:{location:Fc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:_s.Pop}},m):m}function i3(){let t=f3(),e=Z4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const o3=v.createElement(i3,null);class a3 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Qa.Provider,{value:this.props.routeContext},v.createElement(Gk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function l3(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(Lw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Qa.Provider,{value:e},r)}function c3(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||st(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,g=!1,m=null,_=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||o3,l&&(c<0&&h===0?(g=!0,_=null):c===h&&(g=!0,_=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),y=()=>{let b;return f?b=m:g?b=_:d.route.Component?b=v.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,v.createElement(l3,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(a3,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var Yk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Yk||{}),kh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kh||{});function u3(t){let e=v.useContext(Lw);return e||st(!1),e}function d3(t){let e=v.useContext(t3);return e||st(!1),e}function h3(t){let e=v.useContext(Qa);return e||st(!1),e}function Qk(t){let e=h3(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function f3(){var t;let e=v.useContext(Gk),n=d3(kh.UseRouteError),r=Qk(kh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function p3(){let{router:t}=u3(Yk.UseNavigateStable),e=Qk(kh.UseNavigateStable),n=v.useRef(!1);return qk(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Fc({fromRouteId:e},i)))},[t,e])}function m3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ml(t){st(!1)}function g3(t){let{basename:e="/",children:n=null,location:r,navigationType:s=_s.Pop,navigator:i,static:o=!1,future:a}=t;Kf()&&st(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Fc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ya(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,m=v.useMemo(()=>{let _=Hk(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:g},navigationType:s}},[l,u,d,h,f,g,s]);return m==null?null:v.createElement(zf.Provider,{value:c},v.createElement(Hf.Provider,{children:n,value:m}))}function y3(t){let{children:e,location:n}=t;return r3(cy(e),n)}new Promise(()=>{});function cy(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,cy(r.props.children,i));return}r.type!==Ml&&st(!1),!r.props.index||!r.props.children||st(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const v3="6";try{window.__reactRouterVersion=v3}catch{}const w3="startTransition",vx=Ev[w3];function _3(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=k4({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=v.useCallback(d=>{c&&vx?vx(()=>l(d)):l(d)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.useEffect(()=>m3(r),[r]),v.createElement(g3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var wx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wx||(wx={}));var _x;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_x||(_x={}));const b3=()=>{};var bx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw Ja(e)},Ja=function(t){return new Error("Firebase Database ("+Jk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},x3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new S3;const h=i<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zk=function(t){const e=Xk(t);return $w.encodeByteArray(e,!0)},Ih=function(t){return Zk(t).replace(/\./g,"")},Rh=function(t){try{return $w.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){return eI(void 0,t)}function eI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!C3(n)||(t[n]=eI(t[n],e[n]));return t}function C3(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=()=>T3().__FIREBASE_DEFAULTS__,k3=()=>{if(typeof process>"u"||typeof bx>"u")return;const t=bx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},I3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rh(t[1]);return e&&JSON.parse(e)},Fw=()=>{try{return b3()||P3()||k3()||I3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tI=t=>{var e,n;return(n=(e=Fw())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},R3=t=>{const e=tI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nI=()=>{var t;return(t=Fw())==null?void 0:t.config},rI=t=>{var e;return(e=Fw())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ih(JSON.stringify(n)),Ih(JSON.stringify(o)),""].join(".")}const Zl={};function N3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?t.emulator.push(e):t.prod.push(e);return t}function O3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xx=!1;function iI(t,e){if(typeof window>"u"||typeof document>"u"||!Xa(window.location.host)||Zl[t]===e||Zl[t]||xx)return;Zl[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=N3().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{xx=!0,o()},h}function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=O3(r),f=n("text"),g=document.getElementById(f)||document.createElement("span"),m=n("learnmore"),_=document.getElementById(m)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;a(b),u(_,m);const x=c();l(y,w),b.append(y,g,_,x),document.body.appendChild(b)}i?(g.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function D3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M3(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aI(){return Jk.NODE_ADMIN===!0}function j3(){try{return typeof indexedDB=="object"}catch{return!1}}function $3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="FirebaseError";class Xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=F3,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?U3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Xs(s,a,r)}}function U3(t,e){return t.replace(V3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const V3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){return JSON.parse(t)}function tt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Uc(Rh(i[0])||""),n=Uc(Rh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},B3=function(t){const e=lI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},W3=function(t){const e=lI(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ia(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function uy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ah(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function qi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Sx(i)&&Sx(o)){if(!qi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Sx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function $l(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const h=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function H3(t,e){const n=new K3(t,e);return n.subscribe.bind(n)}class K3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=cm),s.error===void 0&&(s.error=cm),s.complete===void 0&&(s.complete=cm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cm(){}function Vw(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J3(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q3(t){return t===fi?void 0:t}function J3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Y3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const Z3={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},eV=Ee.INFO,tV={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},nV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=tV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Bw=class{constructor(e){this.name=e,this._logLevel=eV,this._logHandler=nV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}};const rV=(t,e)=>e.some(n=>t instanceof n);let Ex,Cx;function sV(){return Ex||(Ex=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iV(){return Cx||(Cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cI=new WeakMap,dy=new WeakMap,uI=new WeakMap,um=new WeakMap,Ww=new WeakMap;function oV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Is(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cI.set(n,t)}).catch(()=>{}),Ww.set(e,t),e}function aV(t){if(dy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});dy.set(t,e)}let hy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lV(t){hy=t(hy)}function cV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dm(this),e,...n);return uI.set(r,e.sort?e.sort():[e]),Is(r)}:iV().includes(t)?function(...e){return t.apply(dm(this),e),Is(cI.get(this))}:function(...e){return Is(t.apply(dm(this),e))}}function uV(t){return typeof t=="function"?cV(t):(t instanceof IDBTransaction&&aV(t),rV(t,sV())?new Proxy(t,hy):t)}function Is(t){if(t instanceof IDBRequest)return oV(t);if(um.has(t))return um.get(t);const e=uV(t);return e!==t&&(um.set(t,e),Ww.set(e,t)),e}const dm=t=>Ww.get(t);function dV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Is(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Is(o.result),l.oldVersion,l.newVersion,Is(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hV=["get","getKey","getAll","getAllKeys","count"],fV=["put","add","delete","clear"],hm=new Map;function Tx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=fV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||hV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return hm.set(e,i),i}lV(t=>({...t,get:(e,n,r)=>Tx(e,n)||t.get(e,n,r),has:(e,n)=>!!Tx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fy="@firebase/app",Px="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Bw("@firebase/app"),gV="@firebase/app-compat",yV="@firebase/analytics-compat",vV="@firebase/analytics",wV="@firebase/app-check-compat",_V="@firebase/app-check",bV="@firebase/auth",xV="@firebase/auth-compat",SV="@firebase/database",EV="@firebase/data-connect",CV="@firebase/database-compat",TV="@firebase/functions",PV="@firebase/functions-compat",kV="@firebase/installations",IV="@firebase/installations-compat",RV="@firebase/messaging",AV="@firebase/messaging-compat",NV="@firebase/performance",OV="@firebase/performance-compat",DV="@firebase/remote-config",LV="@firebase/remote-config-compat",MV="@firebase/storage",jV="@firebase/storage-compat",$V="@firebase/firestore",FV="@firebase/ai",UV="@firebase/firestore-compat",VV="firebase",BV="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="[DEFAULT]",WV={[fy]:"fire-core",[gV]:"fire-core-compat",[vV]:"fire-analytics",[yV]:"fire-analytics-compat",[_V]:"fire-app-check",[wV]:"fire-app-check-compat",[bV]:"fire-auth",[xV]:"fire-auth-compat",[SV]:"fire-rtdb",[EV]:"fire-data-connect",[CV]:"fire-rtdb-compat",[TV]:"fire-fn",[PV]:"fire-fn-compat",[kV]:"fire-iid",[IV]:"fire-iid-compat",[RV]:"fire-fcm",[AV]:"fire-fcm-compat",[NV]:"fire-perf",[OV]:"fire-perf-compat",[DV]:"fire-rc",[LV]:"fire-rc-compat",[MV]:"fire-gcs",[jV]:"fire-gcs-compat",[$V]:"fire-fst",[UV]:"fire-fst-compat",[FV]:"fire-vertex","fire-js":"fire-js",[VV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,zV=new Map,my=new Map;function kx(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ra(t){const e=t.name;if(my.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,t);for(const n of Nh.values())kx(n,t);for(const n of zV.values())kx(n,t);return!0}function zw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new bu("app","Firebase",HV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=BV;function dI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:py,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Rs.create("bad-app-name",{appName:String(s)});if(n||(n=nI()),!n)throw Rs.create("no-options");const i=Nh.get(s);if(i){if(qi(n,i.options)&&qi(r,i.config))return i;throw Rs.create("duplicate-app",{appName:s})}const o=new X3(s);for(const l of my.values())o.addComponent(l);const a=new KV(n,r,o);return Nh.set(s,a),a}function hI(t=py){const e=Nh.get(t);if(!e&&t===py&&nI())return dI();if(!e)throw Rs.create("no-app",{appName:t});return e}function As(t,e,n){let r=WV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(o.join(" "));return}Ra(new Yi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="firebase-heartbeat-database",qV=1,Vc="firebase-heartbeat-store";let fm=null;function fI(){return fm||(fm=dV(GV,qV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rs.create("idb-open",{originalErrorMessage:t.message})})),fm}async function YV(t){try{const n=(await fI()).transaction(Vc),r=await n.objectStore(Vc).get(pI(t));return await n.done,r}catch(e){if(e instanceof Xs)jr.warn(e.message);else{const n=Rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(n.message)}}}async function Ix(t,e){try{const r=(await fI()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,pI(t)),await r.done}catch(n){if(n instanceof Xs)jr.warn(n.message);else{const r=Rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jr.warn(r.message)}}}function pI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=1024,JV=30;class XV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Rx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>JV){const o=tB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rx(),{heartbeatsToSend:r,unsentEntries:s}=ZV(this._heartbeatsCache.heartbeats),i=Ih(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return jr.warn(n),""}}}function Rx(){return new Date().toISOString().substring(0,10)}function ZV(t,e=QV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ax(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ax(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j3()?$3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ix(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ix(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ax(t){return Ih(JSON.stringify({version:2,heartbeats:t})).length}function tB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){Ra(new Yi("platform-logger",e=>new pV(e),"PRIVATE")),Ra(new Yi("heartbeat",e=>new XV(e),"PRIVATE")),As(fy,Px,t),As(fy,Px,"esm2020"),As("fire-js","")}nB("");function mI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rB=mI,gI=new bu("auth","Firebase",mI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Bw("@firebase/auth");function sB(t,...e){Oh.logLevel<=Ee.WARN&&Oh.warn(`Auth (${el}): ${t}`,...e)}function Vd(t,...e){Oh.logLevel<=Ee.ERROR&&Oh.error(`Auth (${el}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw Hw(t,...e)}function cr(t,...e){return Hw(t,...e)}function yI(t,e,n){const r={...rB(),[e]:n};return new bu("auth","Firebase",r).create(e,{appName:t.name})}function Ns(t){return yI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gI.create(t,...e)}function Y(t,e,...n){if(!t)throw Hw(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function $r(t,e){t||Tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function iB(){return Nx()==="http:"||Nx()==="https:"}function Nx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iB()||L3()||"connection"in navigator)?navigator.onLine:!0}function aB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=Uw()||oI()}get(){return oB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t,e){$r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uB=new xu(3e4,6e4);function co(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zs(t,e,n,r,s={}){return wI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Za({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return D3()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Xa(t.emulatorConfig.host)&&(c.credentials="include"),vI.fetch()(await _I(t,t.config.apiHost,n,a),c)})}async function wI(t,e,n){t._canInitEmulator=!1;const r={...lB,...e};try{const s=new hB(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ud(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ud(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ud(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ud(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw yI(t,u,c);qn(t,u)}}catch(s){if(s instanceof Xs)throw s;qn(t,"network-request-failed",{message:String(s)})}}async function Yf(t,e,n,r,s={}){const i=await Zs(t,e,n,r,s);return"mfaPendingCredential"in i&&qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function _I(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Kw(t.config,s):`${t.config.apiScheme}://${s}`;return cB.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function dB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),uB.get())})}}function ud(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=cr(t,e,r);return s.customData._tokenResponse=n,s}function Ox(t){return t!==void 0&&t.enterprise!==void 0}class fB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pB(t,e){return Zs(t,"GET","/v2/recaptchaConfig",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e){return Zs(t,"POST","/v1/accounts:delete",e)}async function Dh(t,e){return Zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gB(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),s=Gw(r);Y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ec(pm(s.auth_time)),issuedAtTime:ec(pm(s.iat)),expirationTime:ec(pm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function pm(t){return Number(t)*1e3}function Gw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Rh(n);return s?JSON.parse(s):(Vd("Failed to decode base64 JWT payload"),null)}catch(s){return Vd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Dx(t){const e=Gw(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xs&&yB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Bc(t,Dh(e,{idToken:n}));Y(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(d=s.providerUserInfo)!=null&&d.length?bI(s.providerUserInfo):[],o=_B(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new yy(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function wB(t){const e=Ct(t);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _B(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function bI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(t,e){const n=await wI(t,{},async()=>{const r=Za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await _I(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Xa(t.emulatorConfig.host)&&(l.credentials="include"),vI.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xB(t,e){return Zs(t,"POST","/v2/accounts:revokeToken",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=Dx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await bB(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new sa;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Y(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Y(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new vB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Bc(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gB(this,e)}reload(){return wB(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Bc(this,mB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:f,providerData:g,stsTokenManager:m}=n;Y(d&&m,e,"internal-error");const _=sa.fromJSON(this.name,m);Y(typeof d=="string",e,"internal-error"),Xr(r,e.name),Xr(s,e.name),Y(typeof h=="boolean",e,"internal-error"),Y(typeof f=="boolean",e,"internal-error"),Xr(i,e.name),Xr(o,e.name),Xr(a,e.name),Xr(l,e.name),Xr(c,e.name),Xr(u,e.name);const w=new Fn({uid:d,auth:e,email:s,emailVerified:h,displayName:r,isAnonymous:f,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:_,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(w.providerData=g.map(y=>({...y}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new sa;s.updateFromServerResponse(n);const i=new Fn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Lh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Y(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?bI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new sa;a.updateFromIdToken(r);const l=new Fn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new yy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Map;function Pr(t){$r(t instanceof Function,"Expected a class definition");let e=Lx.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Lx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xI.type="NONE";const Mx=xI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class ia{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Bd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Bd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dh(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ia(Pr(Mx),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Pr(Mx);const o=Bd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let d;if(typeof u=="string"){const h=await Dh(e,{idToken:u}).catch(()=>{});if(!h)break;d=await Fn._fromGetAccountInfoResponse(e,h,u)}else d=Fn._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ia(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ia(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kI(e))return"Blackberry";if(II(e))return"Webos";if(EI(e))return"Safari";if((e.includes("chrome/")||CI(e))&&!e.includes("edge/"))return"Chrome";if(PI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SI(t=Ot()){return/firefox\//i.test(t)}function EI(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CI(t=Ot()){return/crios\//i.test(t)}function TI(t=Ot()){return/iemobile/i.test(t)}function PI(t=Ot()){return/android/i.test(t)}function kI(t=Ot()){return/blackberry/i.test(t)}function II(t=Ot()){return/webos/i.test(t)}function qw(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SB(t=Ot()){var e;return qw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function EB(){return M3()&&document.documentMode===10}function RI(t=Ot()){return qw(t)||PI(t)||II(t)||kI(t)||/windows phone/i.test(t)||TI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e=[]){let n;switch(t){case"Browser":n=jx(Ot());break;case"Worker":n=`${jx(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TB(t,e={}){return Zs(t,"GET","/v2/passwordPolicy",co(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=6;class kB{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $x(this),this.idTokenSubscription=new $x(this),this.beforeStateQueue=new CB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dh(this,{idToken:e}),r=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Ns(this));const n=e?Ct(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TB(this),n=new kB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&sB(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function tl(t){return Ct(t)}class $x{constructor(e){this.auth=e,this.observer=null,this.addObserver=H3(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RB(t){Qf=t}function NI(t){return Qf.loadJS(t)}function AB(){return Qf.recaptchaEnterpriseScript}function NB(){return Qf.gapiScript}function OB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class DB{constructor(){this.enterprise=new LB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MB="recaptcha-enterprise",OI="NO_RECAPTCHA";class jB{constructor(e){this.type=MB,this.auth=tl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{pB(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new fB(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ox(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(OI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DB().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ox(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=AB();l.length!==0&&(l+=a),NI(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Fx(t,e,n,r=!1,s=!1){const i=new jB(t);let o;if(s)o=OI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ux(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Fx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Fx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t,e){const n=zw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(qi(i,e??{}))return s;qn(s,"already-initialized")}return n.initialize({options:e})}function FB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UB(t,e,n){const r=tl(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=DI(e),{host:o,port:a}=VB(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(qi(c,r.config.emulator)&&qi(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Xa(o)?(sI(`${i}//${o}${l}`),iI("Auth",!0)):BB()}function DI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VB(t){const e=DI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Vx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Vx(o)}}}function Vx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function WB(t,e){return Zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zB(t,e){return Yf(t,"POST","/v1/accounts:signInWithPassword",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HB(t,e){return Yf(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}async function KB(t,e){return Yf(t,"POST","/v1/accounts:signInWithEmailLink",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Yw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Wc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ux(e,n,"signInWithPassword",zB);case"emailLink":return HB(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ux(e,r,"signUpPassword",WB);case"emailLink":return KB(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e){return Yf(t,"POST","/v1/accounts:signInWithIdp",co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="http://localhost";class Qi extends Yw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Qi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oa(e,n)}buildRequest(){const e={requestUri:GB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Za(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YB(t){const e=jl($l(t)).link,n=e?jl($l(e)).deep_link_id:null,r=jl($l(t)).deep_link_id;return(r?jl($l(r)).link:null)||r||n||e||t}class Qw{constructor(e){const n=jl($l(e)),r=n.apiKey??null,s=n.oobCode??null,i=qB(n.mode??null);Y(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=YB(e);try{return new Qw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(e,n){return Wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Qw.parseLink(n);return Y(r,"argument-error"),Wc._fromEmailAndCode(e,r.code,r.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends LI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Su{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qi._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Su{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Su{constructor(){super("twitter.com")}static credential(e,n){return Qi._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Fn._fromIdTokenResponse(e,r,s),o=Bx(r);return new Aa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Bx(r);return new Aa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Bx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends Xs{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Mh(e,n,r,s)}}function MI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,i,e,r):i})}async function QB(t,e,n=!1){const r=await Bc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Aa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JB(t,e,n=!1){const{auth:r}=t;if(jn(r.app))return Promise.reject(Ns(r));const s="reauthenticate";try{const i=await Bc(t,MI(r,s,e,t),n);Y(i.idToken,r,"internal-error");const o=Gw(i.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),Aa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t,e,n=!1){if(jn(t.app))return Promise.reject(Ns(t));const r="signIn",s=await MI(t,r,e),i=await Aa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function XB(t,e){return jI(tl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZB(t){const e=tl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function e5(t,e,n){return jn(t.app)?Promise.reject(Ns(t)):XB(Ct(t),nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ZB(t),r})}function t5(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function n5(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function $I(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function r5(t){return Ct(t).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=1e3,i5=10;class UI extends FI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);EB()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,i5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UI.type="LOCAL";const o5=UI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends FI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VI.type="SESSION";const BI=VI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Jf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await a5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Jw("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function c5(t){ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function u5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function h5(){return WI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firebaseLocalStorageDb",f5=1,$h="firebaseLocalStorage",HI="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xf(t,e){return t.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function p5(){const t=indexedDB.deleteDatabase(zI);return new Eu(t).toPromise()}function vy(){const t=indexedDB.open(zI,f5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($h,{keyPath:HI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($h)?e(r):(r.close(),await p5(),e(await vy()))})})}async function Wx(t,e,n){const r=Xf(t,!0).put({[HI]:e,value:n});return new Eu(r).toPromise()}async function m5(t,e){const n=Xf(t,!1).get(e),r=await new Eu(n).toPromise();return r===void 0?null:r.value}function zx(t,e){const n=Xf(t,!0).delete(e);return new Eu(n).toPromise()}const g5=800,y5=3;class KI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(h5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await u5(),!this.activeServiceWorker)return;this.sender=new l5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vy();return await Wx(e,jh,"1"),await zx(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Xf(s,!1).getAll();return new Eu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KI.type="LOCAL";const v5=KI;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t,e){return e?Pr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends Yw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _5(t){return jI(t.auth,new Xw(t),t.bypassAuthState)}function b5(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),JB(n,new Xw(t),t.bypassAuthState)}async function x5(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),QB(n,new Xw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _5;case"linkViaPopup":case"linkViaRedirect":return x5;case"reauthViaPopup":case"reauthViaRedirect":return b5;default:qn(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=new xu(2e3,1e4);class Wo extends GI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=Jw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S5.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="pendingRedirect",Wd=new Map;class C5 extends GI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wd.get(this.auth._key());if(!e){try{const r=await T5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wd.set(this.auth._key(),e)}return this.bypassAuthState||Wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T5(t,e){const n=I5(e),r=k5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function P5(t,e){Wd.set(t._key(),e)}function k5(t){return Pr(t._redirectPersistence)}function I5(t){return Bd(E5,t.config.apiKey,t.name)}async function R5(t,e,n=!1){if(jn(t.app))return Promise.reject(Ns(t));const r=tl(t),s=w5(r,e),o=await new C5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=10*60*1e3;class N5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!O5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hx(e))}saveEventToCache(e){this.cachedEventUids.add(Hx(e)),this.lastProcessedEventTime=Date.now()}}function Hx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function O5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D5(t,e={}){return Zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M5=/^https?/;async function j5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D5(t);for(const n of e)try{if($5(n))return}catch{}qn(t,"unauthorized-domain")}function $5(t){const e=gy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!M5.test(n))return!1;if(L5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=new xu(3e4,6e4);function Kx(){const t=ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U5(t){return new Promise((e,n)=>{var s,i,o;function r(){Kx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kx(),n(cr(t,"network-request-failed"))},timeout:F5.get()})}if((i=(s=ur().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=ur().gapi)!=null&&o.load)r();else{const a=OB("iframefcb");return ur()[a]=()=>{gapi.load?r():n(cr(t,"network-request-failed"))},NI(`${NB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zd=null,e})}let zd=null;function V5(t){return zd=zd||U5(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=new xu(5e3,15e3),W5="__/auth/iframe",z5="emulator/auth/iframe",H5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G5(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kw(e,z5):`https://${t.config.authDomain}/${W5}`,r={apiKey:e.apiKey,appName:t.name,v:el},s=K5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Za(r).slice(1)}`}async function q5(t){const e=await V5(t),n=ur().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:G5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=cr(t,"network-request-failed"),a=ur().setTimeout(()=>{i(o)},B5.get());function l(){ur().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q5=500,J5=600,X5="_blank",Z5="http://localhost";class Gx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e6(t,e,n,r=Q5,s=J5){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Y5,width:r.toString(),height:s.toString(),top:i,left:o},c=Ot().toLowerCase();n&&(a=CI(c)?X5:n),SI(c)&&(e=e||Z5,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(SB(c)&&a!=="_self")return t6(e||"",a),new Gx(null);const d=window.open(e||"",a,u);Y(d,t,"popup-blocked");try{d.focus()}catch{}return new Gx(d)}function t6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="__/auth/handler",r6="emulator/auth/handler",s6=encodeURIComponent("fac");async function qx(t,e,n,r,s,i){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:el,eventId:s};if(e instanceof LI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uy(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Su){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${s6}=${encodeURIComponent(l)}`:"";return`${i6(t)}?${Za(a).slice(1)}${c}`}function i6({config:t}){return t.emulator?Kw(t,r6):`https://${t.authDomain}/${n6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class o6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BI,this._completeRedirectFn=R5,this._overrideRedirectResult=P5}async _openPopup(e,n,r,s){var o;$r((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await qx(e,n,r,gy(),s);return e6(e,i,Jw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await qx(e,n,r,gy(),s);return c5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($r(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await q5(e),r=new N5(e);return n.register("authEvent",s=>(Y(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[mm];i!==void 0&&n(!!i),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=j5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RI()||EI()||qw()}}const a6=o6;var Yx="@firebase/auth",Qx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u6(t){Ra(new Yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AI(t)},c=new IB(r,s,i,l);return FB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ra(new Yi("auth-internal",e=>{const n=tl(e.getProvider("auth").getImmediate());return(r=>new l6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(Yx,Qx,c6(t)),As(Yx,Qx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=5*60,h6=rI("authIdTokenMaxAge")||d6;let Jx=null;const f6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h6)return;const s=n==null?void 0:n.token;Jx!==s&&(Jx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function p6(t=hI()){const e=zw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$B(t,{popupRedirectResolver:a6,persistence:[v5,o5,BI]}),r=rI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=f6(i.toString());n5(n,o,()=>o(n.currentUser)),t5(n,a=>o(a))}}const s=tI("auth");return s&&UB(n,`http://${s}`),n}function m6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}RB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=cr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",m6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u6("Browser");var g6="firebase",y6="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(g6,y6,"app");var Xx={};const Zx="@firebase/database",eS="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YI="";function v6(t){YI=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Wr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new w6(e)}}catch{}return new _6},xi=QI("localStorage"),b6=QI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Bw("@firebase/database"),x6=function(){let t=1;return function(){return t++}}(),JI=function(t){const e=q3(t),n=new z3;n.update(e);const r=n.digest();return $w.encodeByteArray(r)},Cu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Cu.apply(null,r):typeof r=="object"?e+=tt(r):e+=r,e+=" "}return e};let tc=null,tS=!0;const S6=function(t,e){D(!e,"Can't turn on custom loggers persistently."),aa.logLevel=Ee.VERBOSE,tc=aa.log.bind(aa)},xt=function(...t){if(tS===!0&&(tS=!1,tc===null&&b6.get("logging_enabled")===!0&&S6()),tc){const e=Cu.apply(null,t);tc(e)}},Tu=function(t){return function(...e){xt(t,...e)}},wy=function(...t){const e="FIREBASE INTERNAL ERROR: "+Cu(...t);aa.error(e)},Fr=function(...t){const e=`FIREBASE FATAL ERROR: ${Cu(...t)}`;throw aa.error(e),new Error(e)},Gt=function(...t){const e="FIREBASE WARNING: "+Cu(...t);aa.warn(e)},E6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},XI=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},C6=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Na="[MIN_NAME]",Ji="[MAX_NAME]",rl=function(t,e){if(t===e)return 0;if(t===Na||e===Ji)return-1;if(e===Na||t===Ji)return 1;{const n=nS(t),r=nS(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},T6=function(t,e){return t===e?0:t<e?-1:1},El=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+tt(e))},Zw=function(t){if(typeof t!="object"||t===null)return tt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=tt(e[r]),n+=":",n+=Zw(t[e[r]]);return n+="}",n},ZI=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function qt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const eR=function(t){D(!XI(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},P6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},k6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function I6(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const R6=new RegExp("^-?(0*)\\d{1,10}$"),A6=-2147483648,N6=2147483647,nS=function(t){if(R6.test(t)){const e=Number(t);if(e>=A6&&e<=N6)return e}return null},sl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Gt("Exception was thrown by user callback.",n),e},Math.floor(0))}},O6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},nc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,jn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Gt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gt(e)}}class Hd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Hd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="5",tR="v",nR="s",rR="r",sR="f",iR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oR="ls",aR="p",_y="ac",lR="websocket",cR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function M6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function dR(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===lR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===cR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);M6(t)&&(n.ns=t.namespace);const s=[];return qt(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this.counters_={}}incrementCounter(e,n=1){Wr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return E3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm={},ym={};function t0(t){const e=t.toString();return gm[e]||(gm[e]=new j6),gm[e]}function $6(t,e){const n=t.toString();return ym[n]||(ym[n]=e()),ym[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&sl(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="start",U6="close",V6="pLPCommand",B6="pRTLPCB",hR="id",fR="pw",pR="ser",W6="cb",z6="seg",H6="ts",K6="d",G6="dframe",mR=1870,gR=30,q6=mR-gR,Y6=25e3,Q6=3e4;class zo{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Tu(e),this.stats_=t0(n),this.urlFn=l=>(this.appCheckToken&&(l[_y]=this.appCheckToken),dR(n,cR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new F6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Q6)),C6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new n0((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===rS)this.id=a,this.password=l;else if(o===U6)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[rS]="t",r[pR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[W6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[tR]=e0,this.transportSessionId&&(r[nR]=this.transportSessionId),this.lastSessionId&&(r[oR]=this.lastSessionId),this.applicationId&&(r[aR]=this.applicationId),this.appCheckToken&&(r[_y]=this.appCheckToken),typeof location<"u"&&location.hostname&&iR.test(location.hostname)&&(r[rR]=sR);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zo.forceAllow_=!0}static forceDisallow(){zo.forceDisallow_=!0}static isAvailable(){return zo.forceAllow_?!0:!zo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!P6()&&!k6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Zk(n),s=ZI(r,q6);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[G6]="t",r[hR]=e,r[fR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=tt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class n0{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=x6(),window[V6+this.uniqueCallbackIdentifier]=e,window[B6+this.uniqueCallbackIdentifier]=n,this.myIFrame=n0.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){xt("frame writing exception"),a.stack&&xt(a.stack),xt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||xt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[hR]=this.myID,e[fR]=this.myPW,e[pR]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+gR+r.length<=mR;){const o=this.pendingSegs.shift();r=r+"&"+z6+s+"="+o.seg+"&"+H6+s+"="+o.ts+"&"+K6+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Y6)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=16384,X6=45e3;let Fh=null;typeof MozWebSocket<"u"?Fh=MozWebSocket:typeof WebSocket<"u"&&(Fh=WebSocket);class $n{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Tu(this.connId),this.stats_=t0(n),this.connURL=$n.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[tR]=e0,typeof location<"u"&&location.hostname&&iR.test(location.hostname)&&(o[rR]=sR),n&&(o[nR]=n),r&&(o[oR]=r),s&&(o[_y]=s),i&&(o[aR]=i),dR(e,lR,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xi.set("previous_websocket_failure",!0);try{let r;aI(),this.mySock=new Fh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){$n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Fh!==null&&!$n.forceDisallow_}static previouslyFailed(){return xi.isInMemoryStorage||xi.get("previous_websocket_failure")===!0}markConnectionHealthy(){xi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Uc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ZI(n,J6);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(X6))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$n.responsesRequiredToBeHealthy=2;$n.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{static get ALL_TRANSPORTS(){return[zo,$n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=$n&&$n.isAvailable();let r=n&&!$n.previouslyFailed();if(e.webSocketOnly&&(n||Gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[$n];else{const s=this.transports_=[];for(const i of zc.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);zc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=6e4,eW=5e3,tW=10*1024,nW=100*1024,vm="t",sS="d",rW="s",iS="r",sW="e",oS="o",aS="a",lS="n",cS="p",iW="h";class oW{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Tu("c:"+this.id+":"),this.transportManager_=new zc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=nc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>nW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>tW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(vm in e){const n=e[vm];n===aS?this.upgradeIfSecondaryHealthy_():n===iS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===oS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=El("t",e),r=El("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:aS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=El("t",e),r=El("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=El(vm,e);if(sS in e){const r=e[sS];if(n===iW){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===lS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===rW?this.onConnectionShutdown_(r):n===iS?this.onReset_(r):n===sW?wy("Server Error: "+r):n===oS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),e0!==r&&Gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),nc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Z6))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(eW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vR=class{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends vR{static getInstance(){return new Uh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Uw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=32,dS=768;class Ce{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ge(){return new Ce("")}function oe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ws(t){return t.pieces_.length-t.pieceNum_}function Pe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ce(t.pieces_,e)}function wR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function aW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function _R(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function bR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ce(e,0)}function nt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ce(n,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function Rt(t,e){const n=oe(t),r=oe(e);if(n===null)return e;if(n===r)return Rt(Pe(t),Pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function r0(t,e){if(Ws(t)!==Ws(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Un(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ws(t)>Ws(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class lW{constructor(e,n){this.errorPrefix_=n,this.parts_=_R(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qf(this.parts_[r]);xR(this)}}function cW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=qf(e),xR(t)}function uW(t){const e=t.parts_.pop();t.byteLength_-=qf(e),t.parts_.length>0&&(t.byteLength_-=1)}function xR(t){if(t.byteLength_>dS)throw new Error(t.errorPrefix_+"has a key path longer than "+dS+" bytes ("+t.byteLength_+").");if(t.parts_.length>uS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uS+") or object contains a cycle "+pi(t))}function pi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends vR{static getInstance(){return new s0}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=1e3,dW=60*5*1e3,hS=30*1e3,hW=1.3,fW=3e4,pW="server_kill",fS=3;class Rr extends yR{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Rr.nextPersistentConnectionId_++,this.log_=Tu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cl,this.maxReconnectDelay_=dW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!aI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");s0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Uh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(tt(i)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Gf,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Rr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Wr(e,"w")){const r=Ia(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||W3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=B3(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wy("Unrecognized action received from server: "+tt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Cl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>fW&&(this.reconnectDelay_=Cl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Rr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){D(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new oW(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{Gt(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(pW)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Gt(d),l())}}}interrupt(e){xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],uy(this.interruptReasons_)&&(this.reconnectDelay_=Cl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Zw(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ce(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){xt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fS&&(this.reconnectDelay_=hS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){xt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+YI.replace(/\./g,"-")]=1,Uw()?e["framework.cordova"]=1:oI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Uh.getInstance().currentlyOnline();return uy(this.interruptReasons_)&&e}}Rr.nextPersistentConnectionId_=0;Rr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ae(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ae(Na,e),s=new ae(Na,n);return this.compare(r,s)!==0}minPost(){return ae.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd;class SR extends Zf{static get __EMPTY_NODE(){return dd}static set __EMPTY_NODE(e){dd=e}compare(e,n){return rl(e.name,n.name)}isDefinedOn(e){throw Ja("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ae.MIN}maxPost(){return new ae(Ji,dd)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new ae(e,dd)}toString(){return".key"}}const la=new SR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class at{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??at.RED,this.left=s??Vt.EMPTY_NODE,this.right=i??Vt.EMPTY_NODE}copy(e,n,r,s,i){return new at(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Vt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class mW{copy(e,n,r,s,i){return this}insert(e,n,r){return new at(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Vt{constructor(e,n=Vt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Vt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(e){return new Vt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,at.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new hd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new hd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new hd(this.root_,null,this.comparator_,!0,e)}}Vt.EMPTY_NODE=new mW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(t,e){return rl(t.name,e.name)}function i0(t,e){return rl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by;function yW(t){by=t}const ER=function(t){return typeof t=="number"?"number:"+eR(t):"string:"+t},CR=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wr(e,".sv"),"Priority must be a string or number.")}else D(t===by||t.isEmpty(),"priority of unexpected type.");D(t===by||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pS;class it{static set __childrenNodeConstructor(e){pS=e}static get __childrenNodeConstructor(){return pS}constructor(e,n=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),CR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ce(e)?this:oe(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=oe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||Ws(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ER(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=eR(this.value_):e+=this.value_,this.lazyHash_=JI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=it.VALUE_TYPE_ORDER.indexOf(n),i=it.VALUE_TYPE_ORDER.indexOf(r);return D(s>=0,"Unknown leaf type: "+n),D(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TR,PR;function vW(t){TR=t}function wW(t){PR=t}class _W extends Zf{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?rl(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(Ji,new it("[PRIORITY-POST]",PR))}makePost(e,n){const r=TR(e);return new ae(n,new it("[PRIORITY-POST]",r))}toString(){return".priority"}}const He=new _W;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=Math.log(2);class xW{constructor(e){const n=i=>parseInt(Math.log(i)/bW,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vh=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new at(h,d.node,at.BLACK,null,null);{const f=parseInt(u/2,10)+l,g=s(l,f),m=s(f+1,c);return d=t[f],h=n?n(d):d,new at(h,d.node,at.BLACK,g,m)}},i=function(l){let c=null,u=null,d=t.length;const h=function(g,m){const _=d-g,w=d;d-=g;const y=s(_+1,w),b=t[_],x=n?n(b):b;f(new at(x,b.node,m,null,y))},f=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const m=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));m?h(_,at.BLACK):(h(_,at.BLACK),h(_,at.RED))}return u},o=new xW(t.length),a=i(o);return new Vt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm;const vo={};class kr{static get Default(){return D(vo&&He,"ChildrenNode.ts has not been loaded"),wm=wm||new kr({".priority":vo},{".priority":He}),wm}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ia(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Vt?n:null}hasIndex(e){return Wr(this.indexSet_,e.toString())}addIndex(e,n){D(e!==la,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ae.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Vh(r,e.getCompare()):a=vo;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=a,new kr(u,c)}addToIndexes(e,n){const r=Ah(this.indexes_,(s,i)=>{const o=Ia(this.indexSet_,i);if(D(o,"Missing index implementation for "+i),s===vo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ae.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Vh(a,o.getCompare())}else return vo;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new ae(e.name,a))),l.insert(e,e.node)}});return new kr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ah(this.indexes_,s=>{if(s===vo)return s;{const i=n.get(e.name);return i?s.remove(new ae(e.name,i)):s}});return new kr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;class Q{static get EMPTY_NODE(){return Tl||(Tl=new Q(new Vt(i0),null,kr.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&CR(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tl}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Tl:n}}getChild(e){const n=oe(e);return n===null?this:this.getImmediateChild(n).getChild(Pe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ae(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Tl:this.priorityNode_;return new Q(s,o,i)}}updateChild(e,n){const r=oe(e);if(r===null)return n;{D(oe(e)!==".priority"||Ws(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Pe(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(He,(o,a)=>{n[o]=a.val(e),r++,i&&Q.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ER(this.getPriority().val())+":"),this.forEachChild(He,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":JI(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ae(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ae(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ae(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ae.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ae.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pu?-1:0}withIndex(e){if(e===la||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===la||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(He),s=n.getIterator(He);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===la?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class SW extends Q{constructor(){super(new Vt(i0),Q.EMPTY_NODE,kr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const Pu=new SW;Object.defineProperties(ae,{MIN:{value:new ae(Na,Q.EMPTY_NODE)},MAX:{value:new ae(Ji,Pu)}});SR.__EMPTY_NODE=Q.EMPTY_NODE;it.__childrenNodeConstructor=Q;yW(Pu);wW(Pu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=!0;function lt(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new it(n,lt(e))}if(!(t instanceof Array)&&EW){const n=[];let r=!1;if(qt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=lt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ae(o,l)))}}),n.length===0)return Q.EMPTY_NODE;const i=Vh(n,gW,o=>o.name,i0);if(r){const o=Vh(n,He.getCompare());return new Q(i,lt(e),new kr({".priority":o},{".priority":He}))}else return new Q(i,lt(e),kr.Default)}else{let n=Q.EMPTY_NODE;return qt(t,(r,s)=>{if(Wr(t,r)&&r.substring(0,1)!=="."){const i=lt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(lt(e))}}vW(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW extends Zf{constructor(e){super(),this.indexPath_=e,D(!ce(e)&&oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?rl(e.name,n.name):i}makePost(e,n){const r=lt(e),s=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new ae(n,s)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,Pu);return new ae(Ji,e)}toString(){return _R(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW extends Zf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?rl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(e,n){const r=lt(e);return new ae(n,r)}toString(){return".value"}}const PW=new TW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){return{type:"value",snapshotNode:t}}function Oa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Hc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Kc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function kW(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Hc(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Oa(n,r)):o.trackChildChange(Kc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(He,(s,i)=>{n.hasChild(s)||r.trackChildChange(Hc(s,i))}),n.isLeafNode()||n.forEachChild(He,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Kc(s,i,o))}else r.trackChildChange(Oa(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.indexedFilter_=new o0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Gc.getStartPost_(e),this.endPost_=Gc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new ae(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Q.EMPTY_NODE);const i=this;return n.forEachChild(He,(o,a)=>{i.matches(new ae(o,a))||(s=s.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new ae(n,r))||(r=Q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Q.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Q.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new ae(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return i!=null&&i.trackChildChange(Kc(n,r,d)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Hc(n,d));const m=a.updateImmediateChild(n,Q.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(Oa(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Hc(c.name,c.node)),i.trackChildChange(Oa(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Na}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ji}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new a0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function RW(t){return t.loadsAllData()?new o0(t.getIndex()):t.hasLimit()?new IW(t):new Gc(t)}function mS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===PW?n="$value":t.index_===la?n="$key":(D(t.index_ instanceof CW,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=tt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=tt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+tt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=tt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends yR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Tu("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Bh.getListenId_(e,r),a={};this.listens_[o]=a;const l=mS(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),Ia(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=Bh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=mS(e._queryParams),r=e._path.toString(),s=new Gf;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Za(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Uc(a.responseText)}catch{Gt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Gt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(){return{value:null,children:new Map}}function IR(t,e,n){if(ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=oe(e);t.children.has(r)||t.children.set(r,Wh());const s=t.children.get(r);e=Pe(e),IR(s,e,n)}}function xy(t,e,n){t.value!==null?n(e,t.value):NW(t,(r,s)=>{const i=new Ce(e.toString()+"/"+r);xy(s,i,n)})}function NW(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&qt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=10*1e3,DW=30*1e3,LW=5*60*1e3;class MW{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new OW(e);const r=yS+(DW-yS)*Math.random();nc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;qt(e,(s,i)=>{i>0&&Wr(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),nc(this.reportStats_.bind(this),Math.floor(Math.random()*2*LW))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vn||(Vn={}));function RR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function l0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function c0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Vn.ACK_USER_WRITE,this.source=RR()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ce(e));return new zh(ge(),n,this.revert)}}else return D(oe(this.path)===e,"operationForChild called for unrelated child."),new zh(Pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.source=e,this.path=n,this.type=Vn.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new qc(this.source,ge()):new qc(this.source,Pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Vn.OVERWRITE}operationForChild(e){return ce(this.path)?new Xi(this.source,ge(),this.snap.getImmediateChild(e)):new Xi(this.source,Pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Vn.MERGE}operationForChild(e){if(ce(this.path)){const n=this.children.subtree(new Ce(e));return n.isEmpty()?null:n.value?new Xi(this.source,ge(),n.value):new Yc(this.source,ge(),n)}else return D(oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Yc(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=oe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $W(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(kW(o.childName,o.snapshotNode))}),Pl(t,s,"child_removed",e,r,n),Pl(t,s,"child_added",e,r,n),Pl(t,s,"child_moved",i,r,n),Pl(t,s,"child_changed",e,r,n),Pl(t,s,"value",e,r,n),s}function Pl(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>UW(t,a,l)),o.forEach(a=>{const l=FW(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function FW(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function UW(t,e,n){if(e.childName==null||n.childName==null)throw Ja("Should only compare child_ events.");const r=new ae(e.childName,e.snapshotNode),s=new ae(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e){return{eventCache:t,serverCache:e}}function rc(t,e,n,r){return ep(new zs(e,n,r),t.serverCache)}function AR(t,e,n,r){return ep(t.eventCache,new zs(e,n,r))}function Hh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m;const VW=()=>(_m||(_m=new Vt(T6)),_m);class Ae{static fromObject(e){let n=new Ae(null);return qt(e,(r,s)=>{n=n.set(new Ce(r),s)}),n}constructor(e,n=VW()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(ce(e))return null;{const r=oe(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Pe(e),n);return i!=null?{path:nt(new Ce(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const n=oe(e),r=this.children.get(n);return r!==null?r.subtree(Pe(e)):new Ae(null)}}set(e,n){if(ce(e))return new Ae(n,this.children);{const r=oe(e),i=(this.children.get(r)||new Ae(null)).set(Pe(e),n),o=this.children.insert(r,i);return new Ae(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new Ae(null):new Ae(null,this.children);{const n=oe(e),r=this.children.get(n);if(r){const s=r.remove(Pe(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Ae(null):new Ae(this.value,i)}else return this}}get(e){if(ce(e))return this.value;{const n=oe(e),r=this.children.get(n);return r?r.get(Pe(e)):null}}setTree(e,n){if(ce(e))return n;{const r=oe(e),i=(this.children.get(r)||new Ae(null)).setTree(Pe(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Ae(this.value,o)}}fold(e){return this.fold_(ge(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(nt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ge(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ce(e))return null;{const i=oe(e),o=this.children.get(i);return o?o.findOnPath_(Pe(e),nt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ge(),n)}foreachOnPath_(e,n,r){if(ce(e))return this;{this.value&&r(n,this.value);const s=oe(e),i=this.children.get(s);return i?i.foreachOnPath_(Pe(e),nt(n,s),r):new Ae(null)}}foreach(e){this.foreach_(ge(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(nt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.writeTree_=e}static empty(){return new zn(new Ae(null))}}function sc(t,e,n){if(ce(e))return new zn(new Ae(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Rt(s,e);return i=i.updateChild(o,n),new zn(t.writeTree_.set(s,i))}else{const s=new Ae(n),i=t.writeTree_.setTree(e,s);return new zn(i)}}}function vS(t,e,n){let r=t;return qt(n,(s,i)=>{r=sc(r,nt(e,s),i)}),r}function wS(t,e){if(ce(e))return zn.empty();{const n=t.writeTree_.setTree(e,new Ae(null));return new zn(n)}}function Sy(t,e){return uo(t,e)!=null}function uo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rt(n.path,e)):null}function _S(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(r,s)=>{e.push(new ae(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ae(r,s.value))}),e}function Os(t,e){if(ce(e))return t;{const n=uo(t,e);return n!=null?new zn(new Ae(n)):new zn(t.writeTree_.subtree(e))}}function Ey(t){return t.writeTree_.isEmpty()}function Da(t,e){return NR(ge(),t.writeTree_,e)}function NR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(D(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=NR(nt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(nt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t,e){return MR(e,t)}function BW(t,e,n,r,s){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=sc(t.visibleWrites,e,n)),t.lastWriteId=r}function WW(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function zW(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&HW(a,r.path)?s=!1:Un(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return KW(t),!0;if(r.snap)t.visibleWrites=wS(t.visibleWrites,r.path);else{const a=r.children;qt(a,l=>{t.visibleWrites=wS(t.visibleWrites,nt(r.path,l))})}return!0}else return!1}function HW(t,e){if(t.snap)return Un(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Un(nt(t.path,n),e))return!0;return!1}function KW(t){t.visibleWrites=OR(t.allWrites,GW,ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function GW(t){return t.visible}function OR(t,e,n){let r=zn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Un(n,o)?(a=Rt(n,o),r=sc(r,a,i.snap)):Un(o,n)&&(a=Rt(o,n),r=sc(r,ge(),i.snap.getChild(a)));else if(i.children){if(Un(n,o))a=Rt(n,o),r=vS(r,a,i.children);else if(Un(o,n))if(a=Rt(o,n),ce(a))r=vS(r,ge(),i.children);else{const l=Ia(i.children,oe(a));if(l){const c=l.getChild(Pe(a));r=sc(r,ge(),c)}}}else throw Ja("WriteRecord should have .snap or .children")}}return r}function DR(t,e,n,r,s){if(!r&&!s){const i=uo(t.visibleWrites,e);if(i!=null)return i;{const o=Os(t.visibleWrites,e);if(Ey(o))return n;if(n==null&&!Sy(o,ge()))return null;{const a=n||Q.EMPTY_NODE;return Da(o,a)}}}else{const i=Os(t.visibleWrites,e);if(!s&&Ey(i))return n;if(!s&&n==null&&!Sy(i,ge()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Un(c.path,e)||Un(e,c.path))},a=OR(t.allWrites,o,e),l=n||Q.EMPTY_NODE;return Da(a,l)}}}function qW(t,e,n){let r=Q.EMPTY_NODE;const s=uo(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(He,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Os(t.visibleWrites,e);return n.forEachChild(He,(o,a)=>{const l=Da(Os(i,new Ce(o)),a);r=r.updateImmediateChild(o,l)}),_S(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Os(t.visibleWrites,e);return _S(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function YW(t,e,n,r,s){D(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=nt(e,n);if(Sy(t.visibleWrites,i))return null;{const o=Os(t.visibleWrites,i);return Ey(o)?s.getChild(n):Da(o,s.getChild(n))}}function QW(t,e,n,r){const s=nt(e,n),i=uo(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Os(t.visibleWrites,s);return Da(o,r.getNode().getImmediateChild(n))}else return null}function JW(t,e){return uo(t.visibleWrites,e)}function XW(t,e,n,r,s,i,o){let a;const l=Os(t.visibleWrites,e),c=uo(l,ge());if(c!=null)a=c;else if(n!=null)a=Da(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<s;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function ZW(){return{visibleWrites:zn.empty(),allWrites:[],lastWriteId:-1}}function Kh(t,e,n,r){return DR(t.writeTree,t.treePath,e,n,r)}function u0(t,e){return qW(t.writeTree,t.treePath,e)}function bS(t,e,n,r){return YW(t.writeTree,t.treePath,e,n,r)}function Gh(t,e){return JW(t.writeTree,nt(t.treePath,e))}function ez(t,e,n,r,s,i){return XW(t.writeTree,t.treePath,e,n,r,s,i)}function d0(t,e,n){return QW(t.writeTree,t.treePath,e,n)}function LR(t,e){return MR(nt(t.treePath,e),t.writeTree)}function MR(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Kc(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Hc(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Oa(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Kc(r,e.snapshotNode,s.oldSnap));else throw Ja("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const jR=new nz;class h0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new zs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return d0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zi(this.viewCache_),i=ez(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){return{filter:t}}function sz(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function iz(t,e,n,r,s){const i=new tz;let o,a;if(n.type===Vn.OVERWRITE){const c=n;c.source.fromUser?o=Cy(t,e,c.path,c.snap,r,s,i):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ce(c.path),o=qh(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Vn.MERGE){const c=n;c.source.fromUser?o=az(t,e,c.path,c.children,r,s,i):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Ty(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Vn.ACK_USER_WRITE){const c=n;c.revert?o=uz(t,e,c.path,r,s,i):o=lz(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Vn.LISTEN_COMPLETE)o=cz(t,e,n.path,r,i);else throw Ja("Unknown operation type: "+n.type);const l=i.getChanges();return oz(e,o,l),{viewCache:o,changes:l}}function oz(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Hh(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(kR(Hh(e)))}}function $R(t,e,n,r,s,i){const o=e.eventCache;if(Gh(r,n)!=null)return e;{let a,l;if(ce(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Zi(e),u=c instanceof Q?c:Q.EMPTY_NODE,d=u0(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Kh(r,Zi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=oe(n);if(c===".priority"){D(Ws(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=bS(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Pe(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=bS(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=d0(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return rc(e,a,o.isFullyInitialized()||ce(n),t.filter.filtersNodes())}}function qh(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ce(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=oe(n);if(!l.isCompleteForPath(n)&&Ws(n)>1)return e;const g=Pe(n),_=l.getNode().getImmediateChild(f).updateChild(g,r);f===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),f,_,g,jR,null)}const d=AR(e,c,l.isFullyInitialized()||ce(n),u.filtersNodes()),h=new h0(s,d,i);return $R(t,d,n,s,h,a)}function Cy(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new h0(s,e,i);if(ce(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=rc(e,c,!0,t.filter.filtersNodes());else{const d=oe(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=rc(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Pe(n),f=a.getNode().getImmediateChild(d);let g;if(ce(h))g=r;else{const m=u.getCompleteChild(d);m!=null?wR(h)===".priority"&&m.getChild(bR(h)).isEmpty()?g=m:g=m.updateChild(h,r):g=Q.EMPTY_NODE}if(f.equals(g))l=e;else{const m=t.filter.updateChild(a.getNode(),d,g,h,u,o);l=rc(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function xS(t,e){return t.eventCache.isCompleteForChild(e)}function az(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=nt(n,l);xS(e,oe(u))&&(a=Cy(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=nt(n,l);xS(e,oe(u))||(a=Cy(t,a,u,c,s,i,o))}),a}function SS(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Ty(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ce(n)?c=r:c=new Ae(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),g=SS(t,f,h);l=qh(t,l,new Ce(d),g,s,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const g=e.serverCache.getNode().getImmediateChild(d),m=SS(t,g,h);l=qh(t,l,new Ce(d),m,s,i,o,a)}}),l}function lz(t,e,n,r,s,i,o){if(Gh(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ce(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return qh(t,e,n,l.getNode().getChild(n),s,i,a,o);if(ce(n)){let c=new Ae(null);return l.getNode().forEachChild(la,(u,d)=>{c=c.set(new Ce(u),d)}),Ty(t,e,n,c,s,i,a,o)}else return e}else{let c=new Ae(null);return r.foreach((u,d)=>{const h=nt(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Ty(t,e,n,c,s,i,a,o)}}function cz(t,e,n,r,s){const i=e.serverCache,o=AR(e,i.getNode(),i.isFullyInitialized()||ce(n),i.isFiltered());return $R(t,o,n,r,jR,s)}function uz(t,e,n,r,s,i){let o;if(Gh(r,n)!=null)return e;{const a=new h0(r,e,s),l=e.eventCache.getNode();let c;if(ce(n)||oe(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Kh(r,Zi(e));else{const d=e.serverCache.getNode();D(d instanceof Q,"serverChildren would be complete if leaf node"),u=u0(r,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=oe(n);let d=d0(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Pe(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Q.EMPTY_NODE,Pe(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Kh(r,Zi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Gh(r,ge())!=null,rc(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new o0(r.getIndex()),i=RW(r);this.processor_=rz(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),u=new zs(l,o.isFullyInitialized(),s.filtersNodes()),d=new zs(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ep(d,u),this.eventGenerator_=new jW(this.query_)}get query(){return this.query_}}function hz(t){return t.viewCache_.serverCache.getNode()}function fz(t){return Hh(t.viewCache_)}function pz(t,e){const n=Zi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ce(e)&&!n.getImmediateChild(oe(e)).isEmpty())?n.getChild(e):null}function ES(t){return t.eventRegistrations_.length===0}function mz(t,e){t.eventRegistrations_.push(e)}function CS(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function TS(t,e,n,r){e.type===Vn.MERGE&&e.source.queryId!==null&&(D(Zi(t.viewCache_),"We should always have a full cache before handling merges"),D(Hh(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=iz(t.processor_,s,e,n,r);return sz(t.processor_,i.viewCache),D(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,FR(t,i.changes,i.viewCache.eventCache.getNode(),null)}function gz(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(i,o)=>{r.push(Oa(i,o))}),n.isFullyInitialized()&&r.push(kR(n.getNode())),FR(t,r,n.getNode(),e)}function FR(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return $W(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh;class UR{constructor(){this.views=new Map}}function yz(t){D(!Yh,"__referenceConstructor has already been defined"),Yh=t}function vz(){return D(Yh,"Reference.ts has not been loaded"),Yh}function wz(t){return t.views.size===0}function f0(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return D(i!=null,"SyncTree gave us an op for an invalid query."),TS(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(TS(o,e,n,r));return i}}function VR(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Kh(n,s?r:null),l=!1;a?l=!0:r instanceof Q?(a=u0(n,r),l=!1):(a=Q.EMPTY_NODE,l=!1);const c=ep(new zs(a,l,!1),new zs(r,s,!1));return new dz(e,c)}return o}function _z(t,e,n,r,s,i){const o=VR(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),mz(o,n),gz(o,n)}function bz(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=Hs(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(CS(c,n,r)),ES(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(CS(l,n,r)),ES(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Hs(t)&&i.push(new(vz())(e._repo,e._path)),{removed:i,events:o}}function BR(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ds(t,e){let n=null;for(const r of t.views.values())n=n||pz(r,e);return n}function WR(t,e){if(e._queryParams.loadsAllData())return np(t);{const r=e._queryIdentifier;return t.views.get(r)}}function zR(t,e){return WR(t,e)!=null}function Hs(t){return np(t)!=null}function np(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh;function xz(t){D(!Qh,"__referenceConstructor has already been defined"),Qh=t}function Sz(){return D(Qh,"Reference.ts has not been loaded"),Qh}let Ez=1;class PS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ae(null),this.pendingWriteTree_=ZW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function HR(t,e,n,r,s){return BW(t.pendingWriteTree_,e,n,r,s),s?Iu(t,new Xi(RR(),e,n)):[]}function Si(t,e,n=!1){const r=WW(t.pendingWriteTree_,e);if(zW(t.pendingWriteTree_,e)){let i=new Ae(null);return r.snap!=null?i=i.set(ge(),!0):qt(r.children,o=>{i=i.set(new Ce(o),!0)}),Iu(t,new zh(r.path,i,n))}else return[]}function ku(t,e,n){return Iu(t,new Xi(l0(),e,n))}function Cz(t,e,n){const r=Ae.fromObject(n);return Iu(t,new Yc(l0(),e,r))}function Tz(t,e){return Iu(t,new qc(l0(),e))}function Pz(t,e,n){const r=m0(t,n);if(r){const s=g0(r),i=s.path,o=s.queryId,a=Rt(i,e),l=new qc(c0(o),a);return y0(t,i,l)}else return[]}function Jh(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||zR(o,e))){const l=bz(o,e,n,r);wz(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(h,f)=>Hs(f));if(u&&!d){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const f=Rz(h);for(let g=0;g<f.length;++g){const m=f[g],_=m.query,w=YR(t,m);t.listenProvider_.startListening(ic(_),Qc(t,_),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ic(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(rp(h));t.listenProvider_.stopListening(ic(h),f)}))}Az(t,c)}return a}function KR(t,e,n,r){const s=m0(t,r);if(s!=null){const i=g0(s),o=i.path,a=i.queryId,l=Rt(o,e),c=new Xi(c0(a),l,n);return y0(t,o,c)}else return[]}function kz(t,e,n,r){const s=m0(t,r);if(s){const i=g0(s),o=i.path,a=i.queryId,l=Rt(o,e),c=Ae.fromObject(n),u=new Yc(c0(a),l,c);return y0(t,o,u)}else return[]}function Py(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,f)=>{const g=Rt(h,s);i=i||Ds(f,g),o=o||Hs(f)});let a=t.syncPointTree_.get(s);a?(o=o||Hs(a),i=i||Ds(a,ge())):(a=new UR,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=Q.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((f,g)=>{const m=Ds(g,ge());m&&(i=i.updateImmediateChild(f,m))}));const c=zR(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=rp(e);D(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=Nz();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const u=tp(t.pendingWriteTree_,s);let d=_z(a,e,n,u,i,l);if(!c&&!o&&!r){const h=WR(a,e);d=d.concat(Oz(t,e,h))}return d}function p0(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Rt(o,e),c=Ds(a,l);if(c)return c});return DR(s,e,i,n,!0)}function Iz(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Rt(c,n);r=r||Ds(u,d)});let s=t.syncPointTree_.get(n);s?r=r||Ds(s,ge()):(s=new UR,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new zs(r,!0,!1):null,a=tp(t.pendingWriteTree_,e._path),l=VR(s,e,a,i?o.getNode():Q.EMPTY_NODE,i);return fz(l)}function Iu(t,e){return GR(e,t.syncPointTree_,null,tp(t.pendingWriteTree_,ge()))}function GR(t,e,n,r){if(ce(t.path))return qR(t,e,n,r);{const s=e.get(ge());n==null&&s!=null&&(n=Ds(s,ge()));let i=[];const o=oe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=LR(r,o);i=i.concat(GR(a,l,c,u))}return s&&(i=i.concat(f0(s,t,r,n))),i}}function qR(t,e,n,r){const s=e.get(ge());n==null&&s!=null&&(n=Ds(s,ge()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=LR(r,o),u=t.operationForChild(o);u&&(i=i.concat(qR(u,a,l,c)))}),s&&(i=i.concat(f0(s,t,r,n))),i}function YR(t,e){const n=e.query,r=Qc(t,n);return{hashFn:()=>(hz(e)||Q.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?Pz(t,n._path,r):Tz(t,n._path);{const i=I6(s,n);return Jh(t,n,null,i)}}}}function Qc(t,e){const n=rp(e);return t.queryToTagMap.get(n)}function rp(t){return t._path.toString()+"$"+t._queryIdentifier}function m0(t,e){return t.tagToQueryMap.get(e)}function g0(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ce(t.substr(0,e))}}function y0(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const s=tp(t.pendingWriteTree_,e);return f0(r,n,s,null)}function Rz(t){return t.fold((e,n,r)=>{if(n&&Hs(n))return[np(n)];{let s=[];return n&&(s=BR(n)),qt(r,(i,o)=>{s=s.concat(o)}),s}})}function ic(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Sz())(t._repo,t._path):t}function Az(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=rp(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function Nz(){return Ez++}function Oz(t,e,n){const r=e._path,s=Qc(t,e),i=YR(t,n),o=t.listenProvider_.startListening(ic(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)D(!Hs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ce(c)&&u&&Hs(u))return[np(u).query];{let h=[];return u&&(h=h.concat(BR(u).map(f=>f.query))),qt(d,(f,g)=>{h=h.concat(g)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ic(u),Qc(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new v0(n)}node(){return this.node_}}class w0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nt(this.path_,e);return new w0(this.syncTree_,n)}node(){return p0(this.syncTree_,this.path_)}}const Dz=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},kS=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Lz(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Mz(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Lz=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},Mz=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const s=e.node();if(D(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},jz=function(t,e,n,r){return _0(e,new w0(n,t),r)},QR=function(t,e,n){return _0(t,new v0(e),n)};function _0(t,e,n){const r=t.getPriority().val(),s=kS(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=kS(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new it(a,lt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new it(s))),o.forEachChild(He,(a,l)=>{const c=_0(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function x0(t,e){let n=e instanceof Ce?e:new Ce(e),r=t,s=oe(n);for(;s!==null;){const i=Ia(r.node.children,s)||{children:{},childCount:0};r=new b0(s,r,i),n=Pe(n),s=oe(n)}return r}function il(t){return t.node.value}function JR(t,e){t.node.value=e,ky(t)}function XR(t){return t.node.childCount>0}function $z(t){return il(t)===void 0&&!XR(t)}function sp(t,e){qt(t.node.children,(n,r)=>{e(new b0(n,t,r))})}function ZR(t,e,n,r){n&&!r&&e(t),sp(t,s=>{ZR(s,e,!0,r)}),n&&r&&e(t)}function Fz(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ru(t){return new Ce(t.parent===null?t.name:Ru(t.parent)+"/"+t.name)}function ky(t){t.parent!==null&&Uz(t.parent,t.name,t)}function Uz(t,e,n){const r=$z(n),s=Wr(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,ky(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,ky(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=/[\[\].#$\/\u0000-\u001F\u007F]/,Bz=/[\[\].#$\u0000-\u001F\u007F]/,bm=10*1024*1024,eA=function(t){return typeof t=="string"&&t.length!==0&&!Vz.test(t)},tA=function(t){return typeof t=="string"&&t.length!==0&&!Bz.test(t)},Wz=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tA(t)},nA=function(t,e,n,r){r&&e===void 0||S0(Vw(t,"value"),e,n)},S0=function(t,e,n){const r=n instanceof Ce?new lW(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+pi(r));if(typeof e=="function")throw new Error(t+"contains a function "+pi(r)+" with contents = "+e.toString());if(XI(e))throw new Error(t+"contains "+e.toString()+" "+pi(r));if(typeof e=="string"&&e.length>bm/3&&qf(e)>bm)throw new Error(t+"contains a string greater than "+bm+" utf8 bytes "+pi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(qt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!eA(o)))throw new Error(t+" contains an invalid key ("+o+") "+pi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cW(r,o),S0(t,a,r),uW(r)}),s&&i)throw new Error(t+' contains ".value" child '+pi(r)+" in addition to actual children.")}},rA=function(t,e,n,r){if(!tA(n))throw new Error(Vw(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zz=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rA(t,e,n)},sA=function(t,e){if(oe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Hz=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!eA(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Wz(n))throw new Error(Vw(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function E0(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!r0(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function iA(t,e,n){E0(t,n),oA(t,r=>r0(r,e))}function pr(t,e,n){E0(t,n),oA(t,r=>Un(r,e)||Un(e,r))}function oA(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(Gz(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Gz(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();tc&&xt("event: "+n.toString()),sl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="repo_interrupt",Yz=25;class Qz{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wh(),this.transactionQueueTree_=new b0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Jz(t,e,n){if(t.stats_=t0(t.repoInfo_),t.forceRestClient_||O6())t.server_=new Bh(t.repoInfo_,(r,s,i,o)=>{IS(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>RS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Rr(t.repoInfo_,e,(r,s,i,o)=>{IS(t,r,s,i,o)},r=>{RS(t,r)},r=>{Xz(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=$6(t.repoInfo_,()=>new MW(t.stats_,t.server_)),t.infoData_=new AW,t.infoSyncTree_=new PS({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ku(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),T0(t,"connected",!1),t.serverSyncTree_=new PS({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);pr(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function aA(t){const n=t.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function C0(t){return Dz({timestamp:aA(t)})}function IS(t,e,n,r,s){t.dataUpdateCount++;const i=new Ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Ah(n,c=>lt(c));o=kz(t.serverSyncTree_,i,l,s)}else{const l=lt(n);o=KR(t.serverSyncTree_,i,l,s)}else if(r){const l=Ah(n,c=>lt(c));o=Cz(t.serverSyncTree_,i,l)}else{const l=lt(n);o=ku(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=op(t,i)),pr(t.eventQueue_,a,o)}function RS(t,e){T0(t,"connected",e),e===!1&&tH(t)}function Xz(t,e){qt(e,(n,r)=>{T0(t,n,r)})}function T0(t,e,n){const r=new Ce("/.info/"+e),s=lt(n);t.infoData_.updateSnapshot(r,s);const i=ku(t.infoSyncTree_,r,s);pr(t.eventQueue_,r,i)}function lA(t){return t.nextWriteId_++}function Zz(t,e,n){const r=Iz(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=lt(s).withIndex(e._queryParams.getIndex());Py(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=ku(t.serverSyncTree_,e._path,i);else{const a=Qc(t.serverSyncTree_,e);o=KR(t.serverSyncTree_,e._path,i,a)}return pr(t.eventQueue_,e._path,o),Jh(t.serverSyncTree_,e,n,null,!0),i},s=>(ip(t,"get for query "+tt(e)+" failed: "+s),Promise.reject(new Error(s))))}function eH(t,e,n,r,s){ip(t,"set",{path:e.toString(),value:n,priority:r});const i=C0(t),o=lt(n,r),a=p0(t.serverSyncTree_,e),l=QR(o,a,i),c=lA(t),u=HR(t.serverSyncTree_,e,l,c,!0);E0(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{const g=h==="ok";g||Gt("set at "+e+" failed: "+h);const m=Si(t.serverSyncTree_,c,!g);pr(t.eventQueue_,e,m),iH(t,s,h,f)});const d=fA(t,e);op(t,d),pr(t.eventQueue_,d,[])}function tH(t){ip(t,"onDisconnectEvents");const e=C0(t),n=Wh();xy(t.onDisconnect_,ge(),(s,i)=>{const o=jz(s,i,t.serverSyncTree_,e);IR(n,s,o)});let r=[];xy(n,ge(),(s,i)=>{r=r.concat(ku(t.serverSyncTree_,s,i));const o=fA(t,s);op(t,o)}),t.onDisconnect_=Wh(),pr(t.eventQueue_,ge(),r)}function nH(t,e,n){let r;oe(e._path)===".info"?r=Py(t.infoSyncTree_,e,n):r=Py(t.serverSyncTree_,e,n),iA(t.eventQueue_,e._path,r)}function rH(t,e,n){let r;oe(e._path)===".info"?r=Jh(t.infoSyncTree_,e,n):r=Jh(t.serverSyncTree_,e,n),iA(t.eventQueue_,e._path,r)}function sH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(qz)}function ip(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),xt(n,...e)}function iH(t,e,n,r){e&&sl(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function cA(t,e,n){return p0(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function P0(t,e=t.transactionQueueTree_){if(e||ap(t,e),il(e)){const n=dA(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&oH(t,Ru(e),n)}else XR(e)&&sp(e,n=>{P0(t,n)})}function oH(t,e,n){const r=n.map(c=>c.currentWriteId),s=cA(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];D(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Rt(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ip(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Si(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();ap(t,x0(t.transactionQueueTree_,e)),P0(t,t.transactionQueueTree_),pr(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)sl(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Gt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}op(t,e)}},o)}function op(t,e){const n=uA(t,e),r=Ru(n),s=dA(t,n);return aH(t,s,r),r}function aH(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Rt(n,l.path);let u=!1,d;if(D(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(Si(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Yz)u=!0,d="maxretry",s=s.concat(Si(t.serverSyncTree_,l.currentWriteId,!0));else{const h=cA(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){S0("transaction failed: Data returned ",f,l.path);let g=lt(f);typeof f=="object"&&f!=null&&Wr(f,".priority")||(g=g.updatePriority(h.getPriority()));const _=l.currentWriteId,w=C0(t),y=QR(g,h,w);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=y,l.currentWriteId=lA(t),o.splice(o.indexOf(_),1),s=s.concat(HR(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),s=s.concat(Si(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",s=s.concat(Si(t.serverSyncTree_,l.currentWriteId,!0))}pr(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ap(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)sl(r[a]);P0(t,t.transactionQueueTree_)}function uA(t,e){let n,r=t.transactionQueueTree_;for(n=oe(e);n!==null&&il(r)===void 0;)r=x0(r,n),e=Pe(e),n=oe(e);return r}function dA(t,e){const n=[];return hA(t,e,n),n.sort((r,s)=>r.order-s.order),n}function hA(t,e,n){const r=il(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);sp(e,s=>{hA(t,s,n)})}function ap(t,e){const n=il(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,JR(e,n.length>0?n:void 0)}sp(e,r=>{ap(t,r)})}function fA(t,e){const n=Ru(uA(t,e)),r=x0(t.transactionQueueTree_,e);return Fz(r,s=>{xm(t,s)}),xm(t,r),ZR(r,s=>{xm(t,s)}),n}function xm(t,e){const n=il(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Si(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?JR(e,void 0):n.length=i+1,pr(t.eventQueue_,Ru(e),s);for(let o=0;o<r.length;o++)sl(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function cH(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Gt(`Invalid query segment '${n}' in query '${t}'`)}return e}const AS=function(t,e){const n=uH(t),r=n.namespace;n.domain==="firebase.com"&&Fr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Fr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||E6();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new uR(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ce(n.pathString)}},uH=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=lH(t.substring(u,d)));const h=cH(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dH=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=NS.charAt(n%64),n=Math.floor(n/64);D(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=NS.charAt(e[s]);return D(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class fH{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ce(this._path)?null:wR(this._path)}get ref(){return new zr(this._repo,this._path)}get _queryIdentifier(){const e=gS(this._queryParams),n=Zw(e);return n==="{}"?"default":n}get _queryObject(){return gS(this._queryParams)}isEqual(e){if(e=Ct(e),!(e instanceof k0))return!1;const n=this._repo===e._repo,r=r0(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+aW(this._path)}}class zr extends k0{constructor(e,n){super(e,n,new a0,!1)}get parent(){const e=bR(this._path);return e===null?null:new zr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Jc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ce(e),r=Xc(this.ref,e);return new Jc(this._node.getChild(n),r,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Jc(s,Xc(this.ref,r),He)))}hasChild(e){const n=new Ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function en(t,e){return t=Ct(t),t._checkNotDeleted("ref"),e!==void 0?Xc(t._root,e):t._root}function Xc(t,e){return t=Ct(t),oe(t._path)===null?zz("child","path",e):rA("child","path",e),new zr(t._repo,nt(t._path,e))}function pH(t,e){t=Ct(t),sA("push",t._path),nA("push",e,t._path,!0);const n=aA(t._repo),r=dH(n),s=Xc(t,r),i=Xc(t,r);let o;return e!=null?o=Mi(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function Mi(t,e){t=Ct(t),sA("set",t._path),nA("set",e,t._path,!1);const n=new Gf;return eH(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function mA(t){t=Ct(t);const e=new pA(()=>{}),n=new lp(e);return Zz(t._repo,t,n).then(r=>new Jc(r,new zr(t._repo,t._path),t._queryParams.getIndex()))}class lp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new hH("value",this,new Jc(e.snapshotNode,new zr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new fH(this,e,n):null}matches(e){return e instanceof lp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function mH(t,e,n,r,s){const i=new pA(n,void 0),o=new lp(i);return nH(t._repo,t,o),()=>rH(t._repo,t,o)}function Xh(t,e,n,r){return mH(t,"value",e)}yz(zr);xz(zr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH="FIREBASE_DATABASE_EMULATOR_HOST",Iy={};let yH=!1;function vH(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=Xa(i);t.repoInfo_=new uR(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function wH(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Fr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=AS(i,s),a=o.repoInfo,l;typeof process<"u"&&Xx&&(l=Xx[gH]),l?(i=`http://${l}?ns=${a.namespace}`,o=AS(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new L6(t.name,t.options,e);Hz("Invalid Firebase Database URL",o),ce(o.path)||Fr("Database URL must point to the root of a Firebase Database (not including a child path).");const u=bH(a,t,c,new D6(t,n));return new xH(u,t)}function _H(t,e){const n=Iy[e];(!n||n[t.key]!==t)&&Fr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),sH(t),delete n[t.key]}function bH(t,e,n,r){let s=Iy[e.name];s||(s={},Iy[e.name]=s);let i=s[t.toURLString()];return i&&Fr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Qz(t,yH,n,r),s[t.toURLString()]=i,i}class xH{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Jz(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zr(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_H(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Fr("Cannot call "+e+" on a deleted database.")}}function SH(t=hI(),e){const n=zw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=R3("database");r&&EH(n,...r)}return n}function EH(t,e,n,r={}){t=Ct(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&qi(r,i.repoInfo_.emulatorOptions))return;Fr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Fr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Hd(Hd.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:A3(r.mockUserToken,t.app.options.projectId);o=new Hd(a)}Xa(e)&&(sI(e),iI("Database",!0)),vH(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(t){v6(el),Ra(new Yi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return wH(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),As(Zx,eS,t),As(Zx,eS,"esm2020")}Rr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Rr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};CH();const TH={apiKey:"AIzaSyClGmWdBBiC5805nEGFKLnWv4p1qgAio40",authDomain:"medicine-indicator-1fbc8.firebaseapp.com",databaseURL:"https://medicine-indicator-1fbc8-default-rtdb.firebaseio.com",projectId:"medicine-indicator-1fbc8",storageBucket:"medicine-indicator-1fbc8.firebasestorage.app",messagingSenderId:"553743088878",appId:"1:553743088878:web:594db03aa078359f7d47ff",measurementId:"G-5EQ8TP9ER6"};let Sm,Bt,Zc;try{Sm=dI(TH),Zc=p6(Sm),Bt=SH(Sm),console.log("✅ Firebase initialized successfully")}catch(t){throw console.error("Firebase initialization error:",t),t}const PH=ww("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xe=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Vj:"button";return p.jsx(o,{className:we(PH({variant:e,size:n,className:t})),ref:i,...s})});Xe.displayName="Button";const ee=t=>typeof t=="string",kl=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},OS=t=>t==null?"":""+t,kH=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},IH=/###/g,DS=t=>t&&t.indexOf("###")>-1?t.replace(IH,"."):t,LS=t=>!t||ee(t),oc=(t,e,n)=>{const r=ee(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(LS(t))return{};const i=DS(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return LS(t)?{}:{obj:t,k:DS(r[s])}},MS=(t,e,n)=>{const{obj:r,k:s}=oc(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=oc(t,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=oc(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},RH=(t,e,n,r)=>{const{obj:s,k:i}=oc(t,e,Object);s[i]=s[i]||[],s[i].push(n)},Zh=(t,e)=>{const{obj:n,k:r}=oc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},AH=(t,e,n)=>{const r=Zh(t,n);return r!==void 0?r:Zh(e,n)},gA=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ee(t[r])||t[r]instanceof String||ee(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):gA(t[r],e[r],n):t[r]=e[r]);return t},wo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var NH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const OH=t=>ee(t)?t.replace(/[&<>"'\/]/g,e=>NH[e]):t;class DH{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const LH=[" ",",","?","!",";"],MH=new DH(20),jH=(t,e,n)=>{e=e||"",n=n||"";const r=LH.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=MH.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},Ry=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},eu=t=>t==null?void 0:t.replace("_","-"),$H={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class ef{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||$H,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(ee(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ef(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ef(this.logger,e)}}var ir=new ef;class cp{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[e,...n])})}}class jS extends cp{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){var c,u;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):ee(r)&&i?a.push(...r.split(i)):a.push(r)));const l=Zh(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!ee(r)?l:Ry((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),s=n,n=a[1]),this.addNamespaces(n),MS(this.data,a,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(ee(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let l=Zh(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?gA(l,r,i):l={...l,...r},MS(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var yA={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{var o;e=((o=this.processors[i])==null?void 0:o.process(e,n,r,s))??e}),e}};const vA=Symbol("i18next/PATH_KEY");function FH(){const t=[],e=Object.create(null);let n;return e.get=(r,s)=>{var i;return(i=n==null?void 0:n.revoke)==null||i.call(n),s===vA?t:(t.push(s),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Ay(t,e){const{[vA]:n}=t(FH());return n.join((e==null?void 0:e.keySeparator)??".")}const $S={},Em=t=>!ee(t)&&typeof t!="boolean"&&typeof t!="number";class tf extends cp{constructor(e,n={}){super(),kH(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ir.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);if((s==null?void 0:s.res)===void 0)return!1;const i=Em(s.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!jH(e,r,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:ee(i)?[i]:i};const c=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(s)}return{key:e,namespaces:ee(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Ay(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],s),c=l[l.length-1];let u=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=s.lng||this.language,h=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?i?{res:`${c}${u}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${u}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:a;const f=this.resolve(e,s);let g=f==null?void 0:f.res;const m=(f==null?void 0:f.usedKey)||a,_=(f==null?void 0:f.exactUsedKey)||a,w=["[object Number]","[object Function]","[object RegExp]"],y=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,x=s.count!==void 0&&!ee(s.count),S=tf.hasDefaultValue(s),E=x?this.pluralResolver.getSuffix(d,s.count,s):"",C=s.ordinal&&x?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",T=x&&!s.ordinal&&s.count===0,P=T&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${E}`]||s[`defaultValue${C}`]||s.defaultValue;let I=g;b&&!g&&S&&(I=P);const L=Em(I),F=Object.prototype.toString.apply(I);if(b&&I&&L&&w.indexOf(F)<0&&!(ee(y)&&Array.isArray(I))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,I,{...s,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(f.res=H,f.usedParams=this.getUsedParamsDetails(s),f):H}if(o){const H=Array.isArray(I),N=H?[]:{},G=H?_:m;for(const U in I)if(Object.prototype.hasOwnProperty.call(I,U)){const $=`${G}${o}${U}`;S&&!g?N[U]=this.translate($,{...s,defaultValue:Em(P)?P[U]:void 0,joinArrays:!1,ns:l}):N[U]=this.translate($,{...s,joinArrays:!1,ns:l}),N[U]===$&&(N[U]=I[U])}g=N}}else if(b&&ee(y)&&Array.isArray(g))g=g.join(y),g&&(g=this.extendTranslation(g,e,s,r));else{let H=!1,N=!1;!this.isValidLookup(g)&&S&&(H=!0,g=P),this.isValidLookup(g)||(N=!0,g=a);const U=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:g,$=S&&P!==g&&this.options.updateMissing;if(N||H||$){if(this.logger.log($?"updateKey":"missingKey",d,c,a,$?P:g),o){const z=this.resolve(a,{...s,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let k=[];const R=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&R&&R[0])for(let z=0;z<R.length;z++)k.push(R[z]);else this.options.saveMissingTo==="all"?k=this.languageUtils.toResolveHierarchy(s.lng||this.language):k.push(s.lng||this.language);const j=(z,W,X)=>{var xe;const Z=S&&X!==g?X:U;this.options.missingKeyHandler?this.options.missingKeyHandler(z,c,W,Z,$,s):(xe=this.backendConnector)!=null&&xe.saveMissing&&this.backendConnector.saveMissing(z,c,W,Z,$,s),this.emit("missingKey",z,c,W,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?k.forEach(z=>{const W=this.pluralResolver.getSuffixes(z,s);T&&s[`defaultValue${this.options.pluralSeparator}zero`]&&W.indexOf(`${this.options.pluralSeparator}zero`)<0&&W.push(`${this.options.pluralSeparator}zero`),W.forEach(X=>{j([z],a+X,s[`defaultValue${X}`]||P)})}):j(k,a,P))}g=this.extendTranslation(g,e,s,f,r),N&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${a}`),(N||H)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${a}`:a,H?g:void 0,s))}return i?(f.res=g,f.usedParams=this.getUsedParamsDetails(s),f):g}extendTranslation(e,n,r,s,i){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=ee(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let h=r.replace&&!ee(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;d<g&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>(i==null?void 0:i[0])===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${n[0]}`),null):this.translate(...f,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=ee(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=yA.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,o,a;return ee(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;s=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!ee(n.count),f=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(ee(n.context)||typeof n.context=="number")&&n.context!=="",m=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(_=>{var w,y;this.isValidLookup(r)||(a=_,!$S[`${m[0]}-${_}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((y=this.utils)!=null&&y.hasLoadedNamespace(a))&&($S[`${m[0]}-${_}`]=!0,this.logger.warn(`key "${s}" for languages "${m.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(b=>{var E;if(this.isValidLookup(r))return;o=b;const x=[u];if((E=this.i18nFormat)!=null&&E.addLookupKeys)this.i18nFormat.addLookupKeys(x,u,b,_,n);else{let C;h&&(C=this.pluralResolver.getSuffix(b,n.count,n));const T=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&C.indexOf(P)===0&&x.push(u+C.replace(P,this.options.pluralSeparator)),x.push(u+C),f&&x.push(u+T)),g){const I=`${u}${this.options.contextSeparator||"_"}${n.context}`;x.push(I),h&&(n.ordinal&&C.indexOf(P)===0&&x.push(I+C.replace(P,this.options.pluralSeparator)),x.push(I+C),f&&x.push(I+T))}}let S;for(;S=x.pop();)this.isValidLookup(r)||(i=S,r=this.getResource(b,_,S,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ee(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class FS{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ir.create("languageUtils")}getScriptPartFromCode(e){if(e=eu(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=eu(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ee(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ee(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ee(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):ee(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const US={zero:0,one:1,two:2,few:3,many:4,other:5},VS={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class UH{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=ir.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=eu(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),VS;if(!e.match(/-|_/))return VS;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[i]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>US[s]-US[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const BS=(t,e,n,r=".",s=!0)=>{let i=AH(t,e,n);return!i&&s&&ee(n)&&(i=Ry(t,n,r),i===void 0&&(i=Ry(e,n,r))),i},Cm=t=>t.replace(/\$/g,"$$$$");class VH{constructor(e={}){var n;this.logger=ir.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:m,nestingOptionsSeparator:_,maxReplaces:w,alwaysFormat:y}=e.interpolation;this.escape=n!==void 0?n:OH,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?wo(i):o||"{{",this.suffix=a?wo(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?wo(h):f||wo("$t("),this.nestingSuffix=g?wo(g):m||wo(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=w||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,s){var f;let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const y=BS(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...s,...n,interpolationkey:g}):y}const m=g.split(this.formatSeparator),_=m.shift().trim(),w=m.join(this.formatSeparator).trim();return this.format(BS(n,l,_,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...s,...n,interpolationkey:_})};this.resetRegExp();const u=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((f=s==null?void 0:s.interpolation)==null?void 0:f.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Cm(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Cm(this.escape(g)):Cm(g)}].forEach(g=>{for(a=0;i=g.regex.exec(e);){const m=i[1].trim();if(o=c(m),o===void 0)if(typeof u=="function"){const w=u(e,i,s);o=ee(w)?w:""}else if(s&&Object.prototype.hasOwnProperty.call(s,m))o="";else if(d){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else!ee(o)&&!this.useRawValueToEscape&&(o=OS(o));const _=g.safeValue(o);if(e=e.replace(i[0],_),d?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,o;const a=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,o);const f=h.match(/'/g),g=h.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),c&&(o={...c,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${u}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!ee(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const c=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(c!==-1&&(l=s[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),s[1]=s[1].slice(0,c)),i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&!ee(i))return i;ee(i)||(i=OS(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const BH=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},WS=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=e[o];return a||(a=t(eu(r),s),e[o]=a),a(n)}},WH=t=>(e,n,r)=>t(eu(n),r)(e);class zH{constructor(e={}){this.logger=ir.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?WS:WH;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return a=>o.format(a)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return a=>o.format(a)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return a=>o.format(a)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return a=>o.format(a,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=WS(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{var d;const{formatName:c,formatOptions:u}=BH(l);if(this.formats[c]){let h=a;try{const f=((d=s==null?void 0:s.formatParams)==null?void 0:d[s.interpolationkey])||{},g=f.locale||f.lng||s.locale||s.lng||r;h=this.formats[c](a,g,{...u,...s,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const HH=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class KH extends cp{constructor(e,n,r,s={}){var i,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=ir.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},a={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,u=!1,o[h]===void 0&&(o[h]=!0),i[h]===void 0&&(i[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(a[c]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{RH(l.loaded,[i],o),HH(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{a[c][d]===void 0&&(a[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,s=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ee(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ee(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,s,i,o={},a=()=>{}){var l,c,u,d,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const f={...o,isUpdate:i},g=this.backend.create.bind(this.backend);if(g.length<6)try{let m;g.length===5?m=g(e,n,r,s,f):m=g(e,n,r,s),m&&typeof m.then=="function"?m.then(_=>a(null,_)).catch(a):a(null,m)}catch(m){a(m)}else g(e,n,r,s,a,f)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const zS=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ee(t[1])&&(e.defaultValue=t[1]),ee(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),HS=t=>{var e,n;return ee(t.ns)&&(t.ns=[t.ns]),ee(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ee(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},fd=()=>{},GH=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class tu extends cp{constructor(e={},n){if(super(),this.options=HS(e),this.services={},this.logger=ir,this.modules={external:[]},GH(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(ee(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=zS();this.options={...r,...this.options,...HS(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?ir.init(s(this.modules.logger),this.options):ir.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=zH;const u=new FS(this.options);this.store=new jS(this.options.resources,this.options);const d=this.services;d.logger=ir,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new UH(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=s(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new VH(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new KH(s(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.languageDetector&&(d.languageDetector=s(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=s(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new tf(this.services,this.options),this.translator.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,n||(n=fd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const a=kl(),l=()=>{const c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=fd){var i,o;let r=n;const s=ee(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const s=kl();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=fd),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&yA.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=kl();this.emit("languageChanging",e);const s=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},i=(a,l)=>{l?this.isLanguageChangingTo===e&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(a,(...c)=>this.t(...c))},o=a=>{var u,d;!e&&!a&&this.services.languageDetector&&(a=[]);const l=ee(a)?a:a&&a[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(ee(a)?[a]:a);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,h=>{i(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const s=(i,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([i,o].concat(a)):l={...o},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(i)?u=i.map(d=>(typeof d=="function"&&(d=Ay(d,{...this.options,...o})),`${l.keyPrefix}${c}${d}`)):(typeof i=="function"&&(i=Ay(i,{...this.options,...o})),u=l.keyPrefix?`${l.keyPrefix}${c}${i}`:i),this.t(u,l)};return ee(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=kl();return this.options.ns?(ee(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=kl();ee(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new FS(zS());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new tu(e,n)}cloneInstance(e={},n=fd){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new tu(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});i.store=new jS(a,s),i.services.resourceStore=i.store}return i.translator=new tf(i.services,s),i.translator.on("*",(a,...l)=>{i.emit(a,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Tt=tu.createInstance();Tt.createInstance=tu.createInstance;Tt.createInstance;Tt.dir;Tt.init;Tt.loadResources;Tt.reloadResources;Tt.use;Tt.changeLanguage;Tt.getFixedT;Tt.t;Tt.exists;Tt.setDefaultNamespace;Tt.hasLoadedNamespace;Tt.loadNamespaces;Tt.loadLanguages;const qH=(t,e,n,r)=>{var i,o,a,l;const s=[n,{code:e,...r||{}}];if((o=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&o.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);ji(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},KS={},Ny=(t,e,n,r)=>{ji(n)&&KS[n]||(ji(n)&&(KS[n]=new Date),qH(t,e,n,r))},wA=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Oy=(t,e,n)=>{t.loadNamespaces(e,wA(t,n))},GS=(t,e,n,r)=>{if(ji(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Oy(t,n,r);n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,wA(t,r))},YH=(t,e,n={})=>!e.languages||!e.languages.length?(Ny(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}),ji=t=>typeof t=="string",QH=t=>typeof t=="object"&&t!==null,JH=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,XH={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},ZH=t=>XH[t],e8=t=>t.replace(JH,ZH);let Dy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e8};const t8=(t={})=>{Dy={...Dy,...t}},n8=()=>Dy;let _A;const r8=t=>{_A=t},s8=()=>_A,i8={type:"3rdParty",init(t){t8(t.options.react),r8(t)}},o8=v.createContext();class a8{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const l8=(t,e)=>{const n=v.useRef();return v.useEffect(()=>{n.current=t},[t,e]),n.current},bA=(t,e,n,r)=>t.getFixedT(e,n,r),c8=(t,e,n,r)=>v.useCallback(bA(t,e,n,r),[t,e,n,r]),gr=(t,e={})=>{var x,S,E,C;const{i18n:n}=e,{i18n:r,defaultNS:s}=v.useContext(o8)||{},i=n||r||s8();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new a8),!i){Ny(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const T=(I,L)=>ji(L)?L:QH(L)&&ji(L.defaultValue)?L.defaultValue:Array.isArray(I)?I[I.length-1]:I,P=[T,{},!1];return P.t=T,P.i18n={},P.ready=!1,P}(x=i.options.react)!=null&&x.wait&&Ny(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...n8(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=s||((S=i.options)==null?void 0:S.defaultNS);c=ji(c)?[c]:c||["translation"],(C=(E=i.reportNamespaces).addUsedNamespaces)==null||C.call(E,c);const u=(i.isInitialized||i.initializedStoreOnce)&&c.every(T=>YH(T,i,o)),d=c8(i,e.lng||null,o.nsMode==="fallback"?c:c[0],l),h=()=>d,f=()=>bA(i,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[g,m]=v.useState(h);let _=c.join();e.lng&&(_=`${e.lng}${_}`);const w=l8(_),y=v.useRef(!0);v.useEffect(()=>{const{bindI18n:T,bindI18nStore:P}=o;y.current=!0,!u&&!a&&(e.lng?GS(i,e.lng,c,()=>{y.current&&m(f)}):Oy(i,c,()=>{y.current&&m(f)})),u&&w&&w!==_&&y.current&&m(f);const I=()=>{y.current&&m(f)};return T&&(i==null||i.on(T,I)),P&&(i==null||i.store.on(P,I)),()=>{y.current=!1,i&&T&&(T==null||T.split(" ").forEach(L=>i.off(L,I))),P&&i&&P.split(" ").forEach(L=>i.store.off(L,I))}},[i,_]),v.useEffect(()=>{y.current&&u&&m(h)},[i,l,u]);const b=[g,i,u];if(b.t=g,b.i18n=i,b.ready=u,u||!u&&!a)return b;throw new Promise(T=>{e.lng?GS(i,e.lng,c,()=>T()):Oy(i,c,()=>T())})},I0=v.createContext({});function R0(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const A0=typeof window<"u",xA=A0?v.useLayoutEffect:v.useEffect,up=v.createContext(null);function N0(t,e){t.indexOf(e)===-1&&t.push(e)}function O0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ur=(t,e,n)=>n>e?e:n<t?t:n;let nf=()=>{};const Vr={},SA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function EA(t){return typeof t=="object"&&t!==null}const CA=t=>/^0[^.\s]+$/u.test(t);function D0(t){let e;return()=>(e===void 0&&(e=t()),e)}const yn=t=>t,u8=(t,e)=>n=>e(t(n)),Au=(...t)=>t.reduce(u8),nu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class L0{constructor(){this.subscriptions=[]}add(e){return N0(this.subscriptions,e),()=>O0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dr=t=>t*1e3,mn=t=>t/1e3;function TA(t,e){return e?t*(1e3/e):0}const PA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,d8=1e-7,h8=12;function f8(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=PA(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>d8&&++a<h8);return o}function Nu(t,e,n,r){if(t===e&&n===r)return yn;const s=i=>f8(i,0,1,t,n);return i=>i===0||i===1?i:PA(s(i),e,r)}const kA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,IA=t=>e=>1-t(1-e),RA=Nu(.33,1.53,.69,.99),M0=IA(RA),AA=kA(M0),NA=t=>(t*=2)<1?.5*M0(t):.5*(2-Math.pow(2,-10*(t-1))),j0=t=>1-Math.sin(Math.acos(t)),OA=IA(j0),DA=kA(j0),p8=Nu(.42,0,1,1),m8=Nu(0,0,.58,1),LA=Nu(.42,0,.58,1),g8=t=>Array.isArray(t)&&typeof t[0]!="number",MA=t=>Array.isArray(t)&&typeof t[0]=="number",qS={linear:yn,easeIn:p8,easeInOut:LA,easeOut:m8,circIn:j0,circInOut:DA,circOut:OA,backIn:M0,backInOut:AA,backOut:RA,anticipate:NA},y8=t=>typeof t=="string",YS=t=>{if(MA(t)){nf(t.length===4);const[e,n,r,s]=t;return Nu(e,n,r,s)}else if(y8(t))return nf(qS[t]!==void 0),qS[t];return t},pd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],QS={value:null,addProjectionMetrics:null};function v8(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(u.schedule(d),t()),l++,d(a)}const u={schedule:(d,h=!1,f=!1)=>{const m=f&&s?n:r;return h&&o.add(d),m.has(d)||m.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&QS.value&&QS.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const w8=40;function jA(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=pd.reduce((b,x)=>(b[x]=v8(i,e?x:void 0),b),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:g}=o,m=()=>{const b=Vr.useManualTiming?s.timestamp:performance.now();n=!1,Vr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,w8),1)),s.timestamp=b,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),g.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(m))},_=()=>{n=!0,r=!0,s.isProcessing||t(m)};return{schedule:pd.reduce((b,x)=>{const S=o[x];return b[x]=(E,C=!1,T=!1)=>(n||_(),S.schedule(E,C,T)),b},{}),cancel:b=>{for(let x=0;x<pd.length;x++)o[pd[x]].cancel(b)},state:s,steps:o}}const{schedule:Le,cancel:Ks,state:ft,steps:Tm}=jA(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0);let Kd;function _8(){Kd=void 0}const Wt={now:()=>(Kd===void 0&&Wt.set(ft.isProcessing||Vr.useManualTiming?ft.timestamp:performance.now()),Kd),set:t=>{Kd=t,queueMicrotask(_8)}},$A=t=>e=>typeof e=="string"&&e.startsWith(t),$0=$A("--"),b8=$A("var(--"),F0=t=>b8(t)?x8.test(t.split("/*")[0].trim()):!1,x8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ol={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ru={...ol,transform:t=>Ur(0,1,t)},md={...ol,default:1},ac=t=>Math.round(t*1e5)/1e5,U0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function S8(t){return t==null}const E8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,V0=(t,e)=>n=>!!(typeof n=="string"&&E8.test(n)&&n.startsWith(t)||e&&!S8(n)&&Object.prototype.hasOwnProperty.call(n,e)),FA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(U0);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},C8=t=>Ur(0,255,t),Pm={...ol,transform:t=>Math.round(C8(t))},Ei={test:V0("rgb","red"),parse:FA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Pm.transform(t)+", "+Pm.transform(e)+", "+Pm.transform(n)+", "+ac(ru.transform(r))+")"};function T8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ly={test:V0("#"),parse:T8,transform:Ei.transform},Ou=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ts=Ou("deg"),hr=Ou("%"),J=Ou("px"),P8=Ou("vh"),k8=Ou("vw"),JS={...hr,parse:t=>hr.parse(t)/100,transform:t=>hr.transform(t*100)},Ho={test:V0("hsl","hue"),parse:FA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+hr.transform(ac(e))+", "+hr.transform(ac(n))+", "+ac(ru.transform(r))+")"},Qe={test:t=>Ei.test(t)||Ly.test(t)||Ho.test(t),parse:t=>Ei.test(t)?Ei.parse(t):Ho.test(t)?Ho.parse(t):Ly.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ei.transform(t):Ho.transform(t),getAnimatableNone:t=>{const e=Qe.parse(t);return e.alpha=0,Qe.transform(e)}},I8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function R8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(U0))==null?void 0:e.length)||0)+(((n=t.match(I8))==null?void 0:n.length)||0)>0}const UA="number",VA="color",A8="var",N8="var(",XS="${}",O8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function su(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(O8,l=>(Qe.test(l)?(r.color.push(i),s.push(VA),n.push(Qe.parse(l))):l.startsWith(N8)?(r.var.push(i),s.push(A8),n.push(l)):(r.number.push(i),s.push(UA),n.push(parseFloat(l))),++i,XS)).split(XS);return{values:n,split:a,indexes:r,types:s}}function BA(t){return su(t).values}function WA(t){const{split:e,types:n}=su(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===UA?i+=ac(s[o]):a===VA?i+=Qe.transform(s[o]):i+=s[o]}return i}}const D8=t=>typeof t=="number"?0:Qe.test(t)?Qe.getAnimatableNone(t):t;function L8(t){const e=BA(t);return WA(t)(e.map(D8))}const Gs={test:R8,parse:BA,createTransformer:WA,getAnimatableNone:L8};function km(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function M8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=km(l,a,t+1/3),i=km(l,a,t),o=km(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function rf(t,e){return n=>n>0?e:t}const je=(t,e,n)=>t+(e-t)*n,Im=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},j8=[Ly,Ei,Ho],$8=t=>j8.find(e=>e.test(t));function ZS(t){const e=$8(t);if(!e)return!1;let n=e.parse(t);return e===Ho&&(n=M8(n)),n}const eE=(t,e)=>{const n=ZS(t),r=ZS(e);if(!n||!r)return rf(t,e);const s={...n};return i=>(s.red=Im(n.red,r.red,i),s.green=Im(n.green,r.green,i),s.blue=Im(n.blue,r.blue,i),s.alpha=je(n.alpha,r.alpha,i),Ei.transform(s))},My=new Set(["none","hidden"]);function F8(t,e){return My.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function U8(t,e){return n=>je(t,e,n)}function B0(t){return typeof t=="number"?U8:typeof t=="string"?F0(t)?rf:Qe.test(t)?eE:W8:Array.isArray(t)?zA:typeof t=="object"?Qe.test(t)?eE:V8:rf}function zA(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>B0(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function V8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=B0(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function B8(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const W8=(t,e)=>{const n=Gs.createTransformer(e),r=su(t),s=su(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?My.has(t)&&!s.values.length||My.has(e)&&!r.values.length?F8(t,e):Au(zA(B8(r,s),s.values),n):rf(t,e)};function HA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?je(t,e,n):B0(t)(t,e)}const z8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Le.update(e,n),stop:()=>Ks(e),now:()=>ft.isProcessing?ft.timestamp:Wt.now()}},KA=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},sf=2e4;function W0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sf;)e+=n,r=t.next(e);return e>=sf?1/0:e}function H8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(W0(r),sf);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:mn(s)}}const K8=5;function GA(t,e,n){const r=Math.max(e-K8,0);return TA(n-t(r),e-r)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rm=.001;function G8({duration:t=We.duration,bounce:e=We.bounce,velocity:n=We.velocity,mass:r=We.mass}){let s,i,o=1-e;o=Ur(We.minDamping,We.maxDamping,o),t=Ur(We.minDuration,We.maxDuration,mn(t)),o<1?(s=c=>{const u=c*o,d=u*t,h=u-n,f=jy(c,o),g=Math.exp(-d);return Rm-h/f*g},i=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),m=jy(Math.pow(c,2),o);return(-s(c)+Rm>0?-1:1)*((h-f)*g)/m}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Rm+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=Y8(s,i,a);if(t=dr(t),isNaN(l))return{stiffness:We.stiffness,damping:We.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const q8=12;function Y8(t,e,n){let r=n;for(let s=1;s<q8;s++)r=r-t(r)/e(r);return r}function jy(t,e){return t*Math.sqrt(1-e*e)}const Q8=["duration","bounce"],J8=["stiffness","damping","mass"];function tE(t,e){return e.some(n=>t[n]!==void 0)}function X8(t){let e={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...t};if(!tE(t,J8)&&tE(t,Q8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ur(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:We.mass,stiffness:s,damping:i}}else{const n=G8(t);e={...e,...n,mass:We.mass},e.isResolvedFromDuration=!0}return e}function of(t=We.visualDuration,e=We.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=X8({...n,velocity:-mn(n.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),_=o-i,w=mn(Math.sqrt(l/u)),y=Math.abs(_)<5;r||(r=y?We.restSpeed.granular:We.restSpeed.default),s||(s=y?We.restDelta.granular:We.restDelta.default);let b;if(m<1){const S=jy(w,m);b=E=>{const C=Math.exp(-m*w*E);return o-C*((g+m*w*_)/S*Math.sin(S*E)+_*Math.cos(S*E))}}else if(m===1)b=S=>o-Math.exp(-w*S)*(_+(g+w*_)*S);else{const S=w*Math.sqrt(m*m-1);b=E=>{const C=Math.exp(-m*w*E),T=Math.min(S*E,300);return o-C*((g+m*w*_)*Math.sinh(T)+S*_*Math.cosh(T))/S}}const x={calculatedDuration:f&&d||null,next:S=>{const E=b(S);if(f)a.done=S>=d;else{let C=S===0?g:0;m<1&&(C=S===0?dr(g):GA(b,S,E));const T=Math.abs(C)<=r,P=Math.abs(o-E)<=s;a.done=T&&P}return a.value=a.done?o:E,a},toString:()=>{const S=Math.min(W0(x),sf),E=KA(C=>x.next(S*C).value,S,30);return S+"ms "+E},toTransition:()=>{}};return x}of.applyToOptions=t=>{const e=H8(t,100,of);return t.ease=e.ease,t.duration=dr(e.duration),t.type="keyframes",t};function $y({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=T=>a!==void 0&&T<a||l!==void 0&&T>l,g=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let m=n*e;const _=d+m,w=o===void 0?_:o(_);w!==_&&(m=w-d);const y=T=>-m*Math.exp(-T/r),b=T=>w+y(T),x=T=>{const P=y(T),I=b(T);h.done=Math.abs(P)<=c,h.value=h.done?w:I};let S,E;const C=T=>{f(h.value)&&(S=T,E=of({keyframes:[h.value,g(h.value)],velocity:GA(b,T,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let P=!1;return!E&&S===void 0&&(P=!0,x(T),C(T)),S!==void 0&&T>=S?E.next(T-S):(!P&&x(T),h)}}}function Z8(t,e,n){const r=[],s=n||Vr.mix||HA,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||yn:e;a=Au(l,a)}r.push(a)}return r}function eK(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(nf(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Z8(e,r,s),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=nu(t[d],t[d+1],u);return a[d](h)};return n?u=>c(Ur(t[0],t[i-1],u)):c}function tK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=nu(0,e,r);t.push(je(n,1,s))}}function nK(t){const e=[0];return tK(e,t.length-1),e}function rK(t,e){return t.map(n=>n*e)}function sK(t,e){return t.map(()=>e||LA).splice(0,t.length-1)}function lc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=g8(r)?r.map(YS):YS(r),i={done:!1,value:e[0]},o=rK(n&&n.length===e.length?n:nK(e),t),a=eK(o,e,{ease:Array.isArray(s)?s:sK(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const iK=t=>t!==null;function z0(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(iK),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const oK={decay:$y,inertia:$y,tween:lc,keyframes:lc,spring:of};function qA(t){typeof t.type=="string"&&(t.type=oK[t.type])}class H0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const aK=t=>t/100;class K0 extends H0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Wt.now()&&this.tick(Wt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qA(e);const{type:n=lc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||lc;l!==lc&&typeof a[0]!="number"&&(this.mixKeyframes=Au(aK,HA(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=W0(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:f,type:g,onUpdate:m,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,x=r;if(d){const T=Math.min(this.currentTime,s)/a;let P=Math.floor(T),I=T%1;!I&&T>=1&&(I=1),I===1&&P--,P=Math.min(P,d+1),!!(P%2)&&(h==="reverse"?(I=1-I,f&&(I-=f/a)):h==="mirror"&&(x=o)),b=Ur(0,1,I)*a}const S=y?{done:!1,value:u[0]}:x.next(b);i&&(S.value=i(S.value));let{done:E}=S;!y&&l!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return C&&g!==$y&&(S.value=z0(u,this.options,_,this.speed)),m&&m(S.value),C&&this.finish(),S}then(e,n){return this.finished.then(e,n)}get duration(){return mn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mn(e)}get time(){return mn(this.currentTime)}set time(e){var n;e=dr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Wt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=mn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=z8,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function lK(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ci=t=>t*180/Math.PI,Fy=t=>{const e=Ci(Math.atan2(t[1],t[0]));return Uy(e)},cK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Fy,rotateZ:Fy,skewX:t=>Ci(Math.atan(t[1])),skewY:t=>Ci(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Uy=t=>(t=t%360,t<0&&(t+=360),t),nE=Fy,rE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),uK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rE,scaleY:sE,scale:t=>(rE(t)+sE(t))/2,rotateX:t=>Uy(Ci(Math.atan2(t[6],t[5]))),rotateY:t=>Uy(Ci(Math.atan2(-t[2],t[0]))),rotateZ:nE,rotate:nE,skewX:t=>Ci(Math.atan(t[4])),skewY:t=>Ci(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Vy(t){return t.includes("scale")?1:0}function By(t,e){if(!t||t==="none")return Vy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=uK,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=cK,s=a}if(!s)return Vy(e);const i=r[e],o=s[1].split(",").map(hK);return typeof i=="function"?i(o):o[i]}const dK=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return By(n,e)};function hK(t){return parseFloat(t.trim())}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ll=new Set(al),iE=t=>t===ol||t===J,fK=new Set(["x","y","z"]),pK=al.filter(t=>!fK.has(t));function mK(t){const e=[];return pK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $i={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>By(e,"x"),y:(t,{transform:e})=>By(e,"y")};$i.translateX=$i.x;$i.translateY=$i.y;const Fi=new Set;let Wy=!1,zy=!1,Hy=!1;function YA(){if(zy){const t=Array.from(Fi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=mK(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zy=!1,Wy=!1,Fi.forEach(t=>t.complete(Hy)),Fi.clear()}function QA(){Fi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zy=!0)})}function gK(){Hy=!0,QA(),YA(),Hy=!1}class G0{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Fi.add(this),Wy||(Wy=!0,Le.read(QA),Le.resolveKeyframes(YA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}lK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fi.delete(this)}cancel(){this.state==="scheduled"&&(Fi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yK=t=>t.startsWith("--");function vK(t,e,n){yK(e)?t.style.setProperty(e,n):t.style[e]=n}const wK=D0(()=>window.ScrollTimeline!==void 0),_K={};function bK(t,e){const n=D0(t);return()=>_K[e]??n()}const JA=bK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,oE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fl([0,.65,.55,1]),circOut:Fl([.55,0,1,.45]),backIn:Fl([.31,.01,.66,-.59]),backOut:Fl([.33,1.53,.69,.99])};function XA(t,e){if(t)return typeof t=="function"?JA()?KA(t,e):"ease-out":MA(t)?Fl(t):Array.isArray(t)?t.map(n=>XA(n,e)||oE.easeOut):oE[t]}function xK(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=XA(a,s);Array.isArray(d)&&(u.easing=d);const h={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),t.animate(u,h)}function ZA(t){return typeof t=="function"&&"applyToOptions"in t}function SK({type:t,...e}){return ZA(t)&&JA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class EK extends H0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,nf(typeof e.type!="string");const c=SK(e);this.animation=xK(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=z0(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):vK(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return mn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mn(e)}get time(){return mn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=dr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&wK()?(this.animation.timeline=e,yn):n(this)}}const eN={anticipate:NA,backInOut:AA,circInOut:DA};function CK(t){return t in eN}function TK(t){typeof t.ease=="string"&&CK(t.ease)&&(t.ease=eN[t.ease])}const aE=10;class PK extends EK{constructor(e){TK(e),qA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new K0({...o,autoplay:!1}),l=dr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-aE).value,a.sample(l).value,aE),a.stop()}}const lE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gs.test(t)||t==="0")&&!t.startsWith("url("));function kK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function IK(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=lE(s,e),a=lE(i,e);return!o||!a?!1:kK(t)||(n==="spring"||ZA(n))&&r}function Ky(t){t.duration=0,t.type="keyframes"}const RK=new Set(["opacity","clipPath","filter","transform"]),AK=D0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NK(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return AK()&&n&&RK.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const OK=40;class DK extends H0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var g;super(),this.stop=()=>{var m,_;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Wt.now();const h={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...d},f=(u==null?void 0:u.KeyframeResolver)||G0;this.keyframeResolver=new f(a,(m,_,w)=>this.onKeyframesResolved(m,_,h,!w),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Wt.now(),IK(e,i,o,a)||((Vr.instantAnimations||!l)&&(u==null||u(z0(e,r,n))),e[0]=e[e.length-1],Ky(r),r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>OK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},f=!c&&NK(h)?new PK({...h,element:h.motionValue.owner.current}):new K0(h);f.finished.then(()=>this.notifyFinished()).catch(yn),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),gK()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const LK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MK(t){const e=LK.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function tN(t,e,n=1){const[r,s]=MK(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return SA(o)?parseFloat(o):o}return F0(s)?tN(s,e,n+1):s}function q0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const nN=new Set(["width","height","top","left","right","bottom",...al]),jK={test:t=>t==="auto",parse:t=>t},rN=t=>e=>e.test(t),sN=[ol,J,hr,ts,k8,P8,jK],cE=t=>sN.find(rN(t));function $K(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||CA(t):!0}const FK=new Set(["brightness","contrast","saturate","opacity"]);function UK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(U0)||[];if(!r)return t;const s=n.replace(r,"");let i=FK.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const VK=/\b([a-z-]*)\(.*?\)/gu,Gy={...Gs,getAnimatableNone:t=>{const e=t.match(VK);return e?e.map(UK).join(" "):t}},uE={...ol,transform:Math.round},BK={rotate:ts,rotateX:ts,rotateY:ts,rotateZ:ts,scale:md,scaleX:md,scaleY:md,scaleZ:md,skew:ts,skewX:ts,skewY:ts,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:ru,originX:JS,originY:JS,originZ:J},Y0={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,backgroundPositionX:J,backgroundPositionY:J,...BK,zIndex:uE,fillOpacity:ru,strokeOpacity:ru,numOctaves:uE},WK={...Y0,color:Qe,backgroundColor:Qe,outlineColor:Qe,fill:Qe,stroke:Qe,borderColor:Qe,borderTopColor:Qe,borderRightColor:Qe,borderBottomColor:Qe,borderLeftColor:Qe,filter:Gy,WebkitFilter:Gy},iN=t=>WK[t];function oN(t,e){let n=iN(t);return n!==Gy&&(n=Gs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zK=new Set(["auto","none","0"]);function HK(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!zK.has(i)&&su(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=oN(n,s)}class KK extends G0{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),F0(c))){const u=tN(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!nN.has(r)||e.length!==2)return;const[s,i]=e,o=cE(s),a=cE(i);if(o!==a)if(iE(o)&&iE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else $i[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||$K(e[s]))&&r.push(s);r.length&&HK(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$i[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=$i[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function GK(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const aN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function lN(t){return EA(t)&&"offsetHeight"in t}const dE=30,qK=t=>!isNaN(parseFloat(t));class YK{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Wt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Wt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new L0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dE);return TA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(t,e){return new YK(t,e)}const{schedule:Q0,cancel:xoe}=jA(queueMicrotask,!1),kn={x:!1,y:!1};function cN(){return kn.x||kn.y}function QK(t){return t==="x"||t==="y"?kn[t]?null:(kn[t]=!0,()=>{kn[t]=!1}):kn.x||kn.y?null:(kn.x=kn.y=!0,()=>{kn.x=kn.y=!1})}function uN(t,e){const n=GK(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function hE(t){return!(t.pointerType==="touch"||cN())}function JK(t,e,n={}){const[r,s,i]=uN(t,n),o=a=>{if(!hE(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{hE(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const dN=(t,e)=>e?t===e?!0:dN(t,e.parentElement):!1,J0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZK(t){return XK.has(t.tagName)||t.tabIndex!==-1}const Gd=new WeakSet;function fE(t){return e=>{e.key==="Enter"&&t(e)}}function Am(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=fE(()=>{if(Gd.has(n))return;Am(n,"down");const s=fE(()=>{Am(n,"up")}),i=()=>Am(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function pE(t){return J0(t)&&!cN()}function tG(t,e,n={}){const[r,s,i]=uN(t,n),o=a=>{const l=a.currentTarget;if(!pE(a))return;Gd.add(l);const c=e(l,a),u=(f,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),Gd.has(l)&&Gd.delete(l),pE(f)&&typeof c=="function"&&c(f,{success:g})},d=f=>{u(f,l===window||l===document||n.useGlobalTarget||dN(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),lN(a)&&(a.addEventListener("focus",c=>eG(c,s)),!ZK(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function hN(t){return EA(t)&&"ownerSVGElement"in t}function nG(t){return hN(t)&&t.tagName==="svg"}const St=t=>!!(t&&t.getVelocity),rG=[...sN,Qe,Gs],sG=t=>rG.find(rN(t)),X0=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function mE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function iG(...t){return e=>{let n=!1;const r=t.map(s=>{const i=mE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():mE(t[s],null)}}}}function oG(...t){return v.useCallback(iG(...t),t)}class aG extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=lN(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lG({children:t,isPresent:e,anchorX:n,root:r}){const s=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(X0),l=oG(i,t==null?void 0:t.ref);return v.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h,right:f}=o.current;if(e||!i.current||!c||!u)return;const g=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=s;const m=document.createElement("style");a&&(m.nonce=a);const _=r??document.head;return _.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${d}px !important;
          }
        `),()=>{_.contains(m)&&_.removeChild(m)}},[e]),p.jsx(aG,{isPresent:e,childRef:i,sizeRef:o,children:v.cloneElement(t,{ref:l})})}const cG=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=R0(uG),u=v.useId();let d=!0,h=v.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:f=>{c.set(f,!0);for(const g of c.values())if(!g)return;r&&r()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,r]);return i&&d&&(h={...h}),v.useMemo(()=>{c.forEach((f,g)=>c.set(g,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(lG,{isPresent:n,anchorX:a,root:l,children:t})),p.jsx(up.Provider,{value:h,children:t})};function uG(){return new Map}function fN(t=!0){const e=v.useContext(up);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=v.useId();v.useEffect(()=>{if(t)return s(i)},[t]);const o=v.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const gd=t=>t.key||"";function gE(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const pN=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=fN(o),d=v.useMemo(()=>gE(t),[t]),h=o&&!c?[]:d.map(gd),f=v.useRef(!0),g=v.useRef(d),m=R0(()=>new Map),[_,w]=v.useState(d),[y,b]=v.useState(d);xA(()=>{f.current=!1,g.current=d;for(let E=0;E<y.length;E++){const C=gd(y[E]);h.includes(C)?m.delete(C):m.get(C)!==!0&&m.set(C,!1)}},[y,h.length,h.join("-")]);const x=[];if(d!==_){let E=[...d];for(let C=0;C<y.length;C++){const T=y[C],P=gd(T);h.includes(P)||(E.splice(C,0,T),x.push(T))}return i==="wait"&&x.length&&(E=x),b(gE(E)),w(d),null}const{forceRender:S}=v.useContext(I0);return p.jsx(p.Fragment,{children:y.map(E=>{const C=gd(E),T=o&&!c?!1:d===y||h.includes(C),P=()=>{if(m.has(C))m.set(C,!0);else return;let I=!0;m.forEach(L=>{L||(I=!1)}),I&&(S==null||S(),b(g.current),o&&(u==null||u()),r&&r())};return p.jsx(cG,{isPresent:T,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:T?void 0:P,anchorX:a,children:E},C)})})},mN=v.createContext({strict:!1}),yE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ma={};for(const t in yE)Ma[t]={isEnabled:e=>yE[t].some(n=>!!e[n])};function dG(t){for(const e in t)Ma[e]={...Ma[e],...t[e]}}const hG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function af(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hG.has(t)}let gN=t=>!af(t);function fG(t){typeof t=="function"&&(gN=e=>e.startsWith("on")?!af(e):t(e))}try{fG(require("@emotion/is-prop-valid").default)}catch{}function pG(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(gN(s)||n===!0&&af(s)||!e&&!af(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const dp=v.createContext({});function hp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function iu(t){return typeof t=="string"||Array.isArray(t)}const Z0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e_=["initial",...Z0];function fp(t){return hp(t.animate)||e_.some(e=>iu(t[e]))}function yN(t){return!!(fp(t)||t.variants)}function mG(t,e){if(fp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||iu(n)?n:void 0,animate:iu(r)?r:void 0}}return t.inherit!==!1?e:{}}function gG(t){const{initial:e,animate:n}=mG(t,v.useContext(dp));return v.useMemo(()=>({initial:e,animate:n}),[vE(e),vE(n)])}function vE(t){return Array.isArray(t)?t.join(" "):t}const ou={};function yG(t){for(const e in t)ou[e]=t[e],$0(e)&&(ou[e].isCSSVariable=!0)}function vN(t,{layout:e,layoutId:n}){return ll.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ou[t]||t==="opacity")}const vG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wG=al.length;function _G(t,e,n){let r="",s=!0;for(let i=0;i<wG;i++){const o=al[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=aN(a,Y0[o]);if(!l){s=!1;const u=vG[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function t_(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ll.has(l)){o=!0;continue}else if($0(l)){s[l]=c;continue}else{const u=aN(c,Y0[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=_G(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const n_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wN(t,e,n){for(const r in e)!St(e[r])&&!vN(r,n)&&(t[r]=e[r])}function bG({transformTemplate:t},e){return v.useMemo(()=>{const n=n_();return t_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function xG(t,e){const n=t.style||{},r={};return wN(r,n,t),Object.assign(r,bG(t,e)),r}function SG(t,e){const n={},r=xG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const EG={offset:"stroke-dashoffset",array:"stroke-dasharray"},CG={offset:"strokeDashoffset",array:"strokeDasharray"};function TG(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?EG:CG;t[i.offset]=J.transform(-r);const o=J.transform(e),a=J.transform(n);t[i.array]=`${o} ${a}`}function _N(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(t_(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&TG(d,s,i,o,!1)}const bN=()=>({...n_(),attrs:{}}),xN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PG(t,e,n,r){const s=v.useMemo(()=>{const i=bN();return _N(i,e,xN(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};wN(i,t.style,t),s.style={...i,...s.style}}return s}const kG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r_(t){return typeof t!="string"||t.includes("-")?!1:!!(kG.indexOf(t)>-1||/[A-Z]/u.test(t))}function IG(t,e,n,{latestValues:r},s,i=!1){const a=(r_(t)?PG:SG)(e,r,s,t),l=pG(e,typeof t=="string",i),c=t!==v.Fragment?{...l,...a,ref:n}:{},{children:u}=e,d=v.useMemo(()=>St(u)?u.get():u,[u]);return v.createElement(t,{...c,children:d})}function wE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function s_(t,e,n,r){if(typeof e=="function"){const[s,i]=wE(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=wE(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function qd(t){return St(t)?t.get():t}function RG({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:AG(n,r,s,t),renderState:e()}}function AG(t,e,n,r){const s={},i=r(t,{});for(const h in i)s[h]=qd(i[h]);let{initial:o,animate:a}=t;const l=fp(t),c=yN(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!hp(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const g=s_(t,h[f]);if(g){const{transitionEnd:m,transition:_,...w}=g;for(const y in w){let b=w[y];if(Array.isArray(b)){const x=u?b.length-1:0;b=b[x]}b!==null&&(s[y]=b)}for(const y in m)s[y]=m[y]}}}return s}const SN=t=>(e,n)=>{const r=v.useContext(dp),s=v.useContext(up),i=()=>RG(t,e,r,s);return n?i():R0(i)};function i_(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(St(r[o])||e.style&&St(e.style[o])||vN(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const NG=SN({scrapeMotionValuesFromProps:i_,createRenderState:n_});function EN(t,e,n){const r=i_(t,e,n);for(const s in t)if(St(t[s])||St(e[s])){const i=al.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const OG=SN({scrapeMotionValuesFromProps:EN,createRenderState:bN}),DG=Symbol.for("motionComponentSymbol");function Ko(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LG(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ko(n)&&(n.current=r))},[e])}const o_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),MG="framerAppearId",CN="data-"+o_(MG),TN=v.createContext({});function jG(t,e,n,r,s){var m,_;const{visualElement:i}=v.useContext(dp),o=v.useContext(mN),a=v.useContext(up),l=v.useContext(X0).reducedMotion,c=v.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=v.useContext(TN);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&$G(c.current,n,s,d);const h=v.useRef(!1);v.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const f=n[CN],g=v.useRef(!!f&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,f))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,f)));return xA(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,f)}),g.current=!1),u.enteringChildren=void 0)}),u}function $G(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:PN(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ko(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function PN(t){if(t)return t.options.allowProjection!==!1?t.projection:PN(t.parent)}function Nm(t,{forwardMotionProps:e=!1}={},n,r){n&&dG(n);const s=r_(t)?OG:NG;function i(a,l){let c;const u={...v.useContext(X0),...a,layoutId:FG(a)},{isStatic:d}=u,h=gG(a),f=s(a,d);if(!d&&A0){UG();const g=VG(u);c=g.MeasureLayout,h.visualElement=jG(t,f,u,r,g.ProjectionNode)}return p.jsxs(dp.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...u}):null,IG(t,a,LG(f,h.visualElement,l),f,d,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=v.forwardRef(i);return o[DG]=t,o}function FG({layoutId:t}){const e=v.useContext(I0).id;return e&&t!==void 0?e+"-"+t:t}function UG(t,e){v.useContext(mN).strict}function VG(t){const{drag:e,layout:n}=Ma;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function BG(t,e){if(typeof Proxy>"u")return Nm;const n=new Map,r=(i,o)=>Nm(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Nm(o,void 0,t,e)),n.get(o))})}function kN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function WG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Om(t){return t===void 0||t===1}function qy({scale:t,scaleX:e,scaleY:n}){return!Om(t)||!Om(e)||!Om(n)}function mi(t){return qy(t)||IN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IN(t){return _E(t.x)||_E(t.y)}function _E(t){return t&&t!=="0%"}function lf(t,e,n){const r=t-n,s=e*r;return n+s}function bE(t,e,n,r,s){return s!==void 0&&(t=lf(t,s,r)),lf(t,n,r)+e}function Yy(t,e=0,n=1,r,s){t.min=bE(t.min,e,n,r,s),t.max=bE(t.max,e,n,r,s)}function RN(t,{x:e,y:n}){Yy(t.x,e.translate,e.scale,e.originPoint),Yy(t.y,n.translate,n.scale,n.originPoint)}const xE=.999999999999,SE=1.0000000000001;function HG(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qo(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,RN(t,o)),r&&mi(i.latestValues)&&qo(t,i.latestValues))}e.x<SE&&e.x>xE&&(e.x=1),e.y<SE&&e.y>xE&&(e.y=1)}function Go(t,e){t.min=t.min+e,t.max=t.max+e}function EE(t,e,n,r,s=.5){const i=je(t.min,t.max,s);Yy(t,e,n,i,r)}function qo(t,e){EE(t.x,e.x,e.scaleX,e.scale,e.originX),EE(t.y,e.y,e.scaleY,e.scale,e.originY)}function AN(t,e){return kN(zG(t.getBoundingClientRect(),e))}function KG(t,e,n){const r=AN(t,n),{scroll:s}=e;return s&&(Go(r.x,s.offset.x),Go(r.y,s.offset.y)),r}const CE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yo=()=>({x:CE(),y:CE()}),TE=()=>({min:0,max:0}),Ke=()=>({x:TE(),y:TE()}),Qy={current:null},NN={current:!1};function GG(){if(NN.current=!0,!!A0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qy.current=t.matches;t.addEventListener("change",e),e()}else Qy.current=!1}const qG=new WeakMap;function YG(t,e,n){for(const r in e){const s=e[r],i=n[r];if(St(s))t.addValue(r,s);else if(St(i))t.addValue(r,La(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,La(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const PE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=G0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Wt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Le.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=fp(n),this.isVariantNode=yN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const f=d[h];l[h]!==void 0&&St(f)&&f.set(l[h])}}mount(e){var n;this.current=e,qG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),NN.current||GG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qy.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ll.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Le.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ma){const n=Ma[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ke()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<PE.length;r++){const s=PE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=YG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=La(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(SA(r)||CA(r))?r=parseFloat(r):!sG(r)&&Gs.test(n)&&(r=oN(e,n)),this.setBaseTarget(e,St(r)?r.get():r)),St(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=s_(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!St(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new L0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Q0.render(this.render)}}class ON extends QG{constructor(){super(...arguments),this.KeyframeResolver=KK}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;St(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DN(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function JG(t){return window.getComputedStyle(t)}class XG extends ON{constructor(){super(...arguments),this.type="html",this.renderInstance=DN}readValueFromInstance(e,n){var r;if(ll.has(n))return(r=this.projection)!=null&&r.isProjecting?Vy(n):dK(e,n);{const s=JG(e),i=($0(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return AN(e,n)}build(e,n,r){t_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return i_(e,n,r)}}const LN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZG(t,e,n,r){DN(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(LN.has(s)?s:o_(s),e.attrs[s])}class e9 extends ON{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ke}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ll.has(n)){const r=iN(n);return r&&r.default||0}return n=LN.has(n)?n:o_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return EN(e,n,r)}build(e,n,r){_N(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){ZG(e,n,r,s)}mount(e){this.isSVGTag=xN(e.tagName),super.mount(e)}}const t9=(t,e)=>r_(t)?new e9(e):new XG(e,{allowProjection:t!==v.Fragment});function ca(t,e,n){const r=t.getProps();return s_(r,e,n!==void 0?n:r.custom,t)}const Jy=t=>Array.isArray(t);function n9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,La(n))}function r9(t){return Jy(t)?t[t.length-1]||0:t}function s9(t,e){const n=ca(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=r9(i[o]);n9(t,o,a)}}function i9(t){return!!(St(t)&&t.add)}function Xy(t,e){const n=t.getValue("willChange");if(i9(n))return n.add(e);if(!n&&Vr.WillChange){const r=new Vr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function MN(t){return t.props[CN]}const o9=t=>t!==null;function a9(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(o9),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const l9={type:"spring",stiffness:500,damping:25,restSpeed:10},c9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),u9={type:"keyframes",duration:.8},d9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h9=(t,{keyframes:e})=>e.length>2?u9:ll.has(t)?t.startsWith("scale")?c9(e[1]):l9:d9;function f9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const a_=(t,e,n,r={},s,i)=>o=>{const a=q0(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-dr(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};f9(a)||Object.assign(u,h9(t,u)),u.duration&&(u.duration=dr(u.duration)),u.repeatDelay&&(u.repeatDelay=dr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Ky(u),u.delay===0&&(d=!0)),(Vr.instantAnimations||Vr.skipAnimations)&&(d=!0,Ky(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!i&&e.get()!==void 0){const h=a9(u.keyframes,a);if(h!==void 0){Le.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new K0(u):new DK(u)};function p9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function jN(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const u in a){const d=t.getValue(u,t.latestValues[u]??null),h=a[u];if(h===void 0||c&&p9(c,u))continue;const f={delay:n,...q0(i||{},u)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===g&&!f.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const w=MN(t);if(w){const y=window.MotionHandoffAnimation(w,u,Le);y!==null&&(f.startTime=y,m=!0)}}Xy(t,u),d.start(a_(u,d,h,t.shouldReduceMotion&&nN.has(u)?{type:!1}:f,t,m));const _=d.animation;_&&l.push(_)}return o&&Promise.all(l).then(()=>{Le.update(()=>{o&&s9(t,o)})}),l}function $N(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Zy(t,e,n={}){var l;const r=ca(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(jN(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return m9(t,e,c,u,d,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function m9(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Zy(l,e,{...o,delay:n+(typeof r=="function"?0:r)+$N(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function g9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Zy(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Zy(t,e,n);else{const s=typeof e=="function"?ca(t,e,n.custom):e;r=Promise.all(jN(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function FN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const y9=e_.length;function UN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?UN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<y9;n++){const r=e_[n],s=t.props[r];(iu(s)||s===!1)&&(e[r]=s)}return e}const v9=[...Z0].reverse(),w9=Z0.length;function _9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>g9(t,n,r)))}function b9(t){let e=_9(t),n=kE(),r=!0;const s=l=>(c,u)=>{var h;const d=ca(t,u,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:g,...m}=d;c={...c,...m,...g}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=UN(t.parent)||{},d=[],h=new Set;let f={},g=1/0;for(let _=0;_<w9;_++){const w=v9[_],y=n[w],b=c[w]!==void 0?c[w]:u[w],x=iu(b),S=w===l?y.isActive:null;S===!1&&(g=_);let E=b===u[w]&&b!==c[w]&&x;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),y.protectedKeys={...f},!y.isActive&&S===null||!b&&!y.prevProp||hp(b)||typeof b=="boolean")continue;const C=x9(y.prevProp,b);let T=C||w===l&&y.isActive&&!E&&x||_>g&&x,P=!1;const I=Array.isArray(b)?b:[b];let L=I.reduce(s(w),{});S===!1&&(L={});const{prevResolvedValues:F={}}=y,H={...F,...L},N=$=>{T=!0,h.has($)&&(P=!0,h.delete($)),y.needsAnimating[$]=!0;const k=t.getValue($);k&&(k.liveStyle=!1)};for(const $ in H){const k=L[$],R=F[$];if(f.hasOwnProperty($))continue;let j=!1;Jy(k)&&Jy(R)?j=!FN(k,R):j=k!==R,j?k!=null?N($):h.add($):k!==void 0&&h.has($)?N($):y.protectedKeys[$]=!0}y.prevProp=b,y.prevResolvedValues=L,y.isActive&&(f={...f,...L}),r&&t.blockInitialAnimation&&(T=!1);const G=E&&C;T&&(!G||P)&&d.push(...I.map($=>{const k={type:w};if(typeof $=="string"&&r&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:R}=t,j=ca(R,$);if(R.enteringChildren&&j){const{delayChildren:z}=j.transition||{};k.delay=$N(R.enteringChildren,t,z)}}return{animation:$,options:k}}))}if(h.size){const _={};if(typeof c.initial!="boolean"){const w=ca(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(_.transition=w.transition)}h.forEach(w=>{const y=t.getBaseTarget(w),b=t.getValue(w);b&&(b.liveStyle=!0),_[w]=y??null}),d.push({animation:_})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=kE()}}}function x9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FN(e,t):!1}function li(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kE(){return{animate:li(!0),whileInView:li(),whileHover:li(),whileTap:li(),whileDrag:li(),whileFocus:li(),exit:li()}}class ei{constructor(e){this.isMounted=!1,this.node=e}update(){}}class S9 extends ei{constructor(e){super(e),e.animationState||(e.animationState=b9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let E9=0;class C9 extends ei{constructor(){super(...arguments),this.id=E9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const T9={animation:{Feature:S9},exit:{Feature:C9}};function au(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Du(t){return{point:{x:t.pageX,y:t.pageY}}}const P9=t=>e=>J0(e)&&t(e,Du(e));function cc(t,e,n,r){return au(t,e,P9(n),r)}const VN=1e-4,k9=1-VN,I9=1+VN,BN=.01,R9=0-BN,A9=0+BN;function At(t){return t.max-t.min}function N9(t,e,n){return Math.abs(t-e)<=n}function IE(t,e,n,r=.5){t.origin=r,t.originPoint=je(e.min,e.max,t.origin),t.scale=At(n)/At(e),t.translate=je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=k9&&t.scale<=I9||isNaN(t.scale))&&(t.scale=1),(t.translate>=R9&&t.translate<=A9||isNaN(t.translate))&&(t.translate=0)}function uc(t,e,n,r){IE(t.x,e.x,n.x,r?r.originX:void 0),IE(t.y,e.y,n.y,r?r.originY:void 0)}function RE(t,e,n){t.min=n.min+e.min,t.max=t.min+At(e)}function O9(t,e,n){RE(t.x,e.x,n.x),RE(t.y,e.y,n.y)}function AE(t,e,n){t.min=e.min-n.min,t.max=t.min+At(e)}function dc(t,e,n){AE(t.x,e.x,n.x),AE(t.y,e.y,n.y)}function un(t){return[t("x"),t("y")]}const WN=({current:t})=>t?t.ownerDocument.defaultView:null,NE=(t,e)=>Math.abs(t-e);function D9(t,e){const n=NE(t.x,e.x),r=NE(t.y,e.y);return Math.sqrt(n**2+r**2)}class zN{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Lm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=D9(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!g)return;const{point:m}=h,{timestamp:_}=ft;this.history.push({...m,timestamp:_});const{onStart:w,onMove:y}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Dm(f,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Lm(h.type==="pointercancel"?this.lastMoveEventInfo:Dm(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,w),m&&m(h,w)},!J0(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Du(e),l=Dm(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=ft;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Lm(l,this.history)),this.removeListeners=Au(cc(this.contextWindow,"pointermove",this.handlePointerMove),cc(this.contextWindow,"pointerup",this.handlePointerUp),cc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ks(this.updatePoint)}}function Dm(t,e){return e?{point:e(t.point)}:t}function OE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lm({point:t},e){return{point:t,delta:OE(t,HN(e)),offset:OE(t,L9(e)),velocity:M9(e,.1)}}function L9(t){return t[0]}function HN(t){return t[t.length-1]}function M9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=HN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>dr(e)));)n--;if(!r)return{x:0,y:0};const i=mn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function j9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?je(n,t,r.max):Math.min(t,n)),t}function DE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $9(t,{top:e,left:n,bottom:r,right:s}){return{x:DE(t.x,n,s),y:DE(t.y,e,r)}}function LE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function F9(t,e){return{x:LE(t.x,e.x),y:LE(t.y,e.y)}}function U9(t,e){let n=.5;const r=At(t),s=At(e);return s>r?n=nu(e.min,e.max-r,t.min):r>s&&(n=nu(t.min,t.max-s,e.min)),Ur(0,1,n)}function V9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ev=.35;function B9(t=ev){return t===!1?t=0:t===!0&&(t=ev),{x:ME(t,"left","right"),y:ME(t,"top","bottom")}}function ME(t,e,n){return{min:jE(t,e),max:jE(t,n)}}function jE(t,e){return typeof t=="number"?t:t[e]||0}const W9=new WeakMap;class z9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Du(d).point)},o=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:m}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QK(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(w=>{let y=this.getAxisMotionValue(w).get()||0;if(hr.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[w];x&&(y=At(x)*(parseFloat(y)/100))}}this.originPoint[w]=y}),m&&Le.postRender(()=>m(d,h)),Xy(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:m,onDrag:_}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=h;if(g&&this.currentDirection===null){this.currentDirection=H9(w),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),_&&_(d,h)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>un(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new zN(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:WN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Le.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!yd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=j9(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Ko(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=$9(r.layoutBox,e):this.constraints=!1,this.elastic=B9(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&un(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=V9(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ko(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=KG(r,s.root,this.visualElement.getTransformPagePoint());let o=F9(s.layout.layoutBox,i);if(n){const a=n(WG(o));this.hasMutatedConstraints=!!a,a&&(o=kN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=un(u=>{if(!yd(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=s?200:1e6,f=s?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Xy(this.visualElement,e),r.start(a_(e,r,0,n,this.visualElement,!1))}stopAnimation(){un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){un(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){un(n=>{const{drag:r}=this.getProps();if(!yd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ko(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};un(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=U9({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),un(o=>{if(!yd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(je(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;W9.set(this.visualElement,this);const e=this.visualElement.current,n=cc(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ko(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Le.read(r);const o=au(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(un(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ev,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function yd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function H9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class K9 extends ei{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new z9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const $E=t=>(e,n)=>{t&&Le.postRender(()=>t(e,n))};class G9 extends ei{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new zN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:$E(e),onStart:$E(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Le.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=cc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Il={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(J.test(t))t=parseFloat(t);else return t;const n=FE(t,e.target.x),r=FE(t,e.target.y);return`${n}% ${r}%`}},q9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Gs.parse(t);if(s.length>5)return r;const i=Gs.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=je(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let Mm=!1;class Y9 extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;yG(Q9),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Mm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Yd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Mm=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Le.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Q0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Mm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KN(t){const[e,n]=fN(),r=v.useContext(I0);return p.jsx(Y9,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(TN),isPresent:e,safeToRemove:n})}const Q9={borderRadius:{...Il,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Il,borderTopRightRadius:Il,borderBottomLeftRadius:Il,borderBottomRightRadius:Il,boxShadow:q9};function J9(t,e,n){const r=St(t)?t:La(t);return r.start(a_("",r,e,n)),r.animation}const X9=(t,e)=>t.depth-e.depth;class Z9{constructor(){this.children=[],this.isDirty=!1}add(e){N0(this.children,e),this.isDirty=!0}remove(e){O0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(X9),this.isDirty=!1,this.children.forEach(e)}}function e7(t,e){const n=Wt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ks(r),t(i-e))};return Le.setup(r,!0),()=>Ks(r)}const GN=["TopLeft","TopRight","BottomLeft","BottomRight"],t7=GN.length,UE=t=>typeof t=="string"?parseFloat(t):t,VE=t=>typeof t=="number"||J.test(t);function n7(t,e,n,r,s,i){s?(t.opacity=je(0,n.opacity??1,r7(r)),t.opacityExit=je(e.opacity??1,0,s7(r))):i&&(t.opacity=je(e.opacity??1,n.opacity??1,r));for(let o=0;o<t7;o++){const a=`border${GN[o]}Radius`;let l=BE(e,a),c=BE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||VE(l)===VE(c)?(t[a]=Math.max(je(UE(l),UE(c),r),0),(hr.test(c)||hr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=je(e.rotate||0,n.rotate||0,r))}function BE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const r7=qN(0,.5,OA),s7=qN(.5,.95,yn);function qN(t,e,n){return r=>r<t?0:r>e?1:n(nu(t,e,r))}function WE(t,e){t.min=e.min,t.max=e.max}function cn(t,e){WE(t.x,e.x),WE(t.y,e.y)}function zE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HE(t,e,n,r,s){return t-=e,t=lf(t,1/n,r),s!==void 0&&(t=lf(t,1/s,r)),t}function i7(t,e=0,n=1,r=.5,s,i=t,o=t){if(hr.test(e)&&(e=parseFloat(e),e=je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=je(i.min,i.max,r);t===i&&(a-=e),t.min=HE(t.min,e,n,a,s),t.max=HE(t.max,e,n,a,s)}function KE(t,e,[n,r,s],i,o){i7(t,e[n],e[r],e[s],e.scale,i,o)}const o7=["x","scaleX","originX"],a7=["y","scaleY","originY"];function GE(t,e,n,r){KE(t.x,e,o7,n?n.x:void 0,r?r.x:void 0),KE(t.y,e,a7,n?n.y:void 0,r?r.y:void 0)}function qE(t){return t.translate===0&&t.scale===1}function YN(t){return qE(t.x)&&qE(t.y)}function YE(t,e){return t.min===e.min&&t.max===e.max}function l7(t,e){return YE(t.x,e.x)&&YE(t.y,e.y)}function QE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function QN(t,e){return QE(t.x,e.x)&&QE(t.y,e.y)}function JE(t){return At(t.x)/At(t.y)}function XE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class c7{constructor(){this.members=[]}add(e){N0(this.members,e),e.scheduleRender()}remove(e){if(O0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function u7(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),f&&(r+=`skewX(${f}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const jm=["","X","Y","Z"],d7=1e3;let h7=0;function $m(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function JN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=MN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Le,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&JN(r)}function XN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=h7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(m7),this.nodes.forEach(w7),this.nodes.forEach(_7),this.nodes.forEach(g7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new L0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=hN(o)&&!nG(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,d=0;const h=()=>this.root.updateBlockedByResize=!1;Le.read(()=>{d=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,u&&u(),u=e7(h,250),Yd.hasAnimatedSinceResize&&(Yd.hasAnimatedSinceResize=!1,this.nodes.forEach(tC)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||C7,{onLayoutAnimationStart:m,onLayoutAnimationComplete:_}=c.getProps(),w=!this.targetLayout||!QN(this.targetLayout,f),y=!d&&h;if(this.options.layoutRoot||this.resumeFrom||y||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...q0(g,"layout"),onPlay:m,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,y)}else d||tC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(v7),this.nodes.forEach(f7),this.nodes.forEach(p7)):this.nodes.forEach(eC),this.clearAllSnapshots();const a=Wt.now();ft.delta=Ur(0,1e3/60,a-ft.timestamp),ft.timestamp=a,ft.isProcessing=!0,Tm.update.process(ft),Tm.preRender.process(ft),Tm.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Q0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(y7),this.sharedNodes.forEach(x7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!YN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||mi(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),T7(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ke();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(P7))){const{scroll:u}=this.root;u&&(Go(a.x,u.offset.x),Go(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Ke();if(cn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&cn(a,o),Go(a.x,d.offset.x),Go(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Ke();cn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&qo(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),mi(u.latestValues)&&qo(l,u.latestValues)}return mi(this.latestValues)&&qo(l,this.latestValues),l}removeTransform(o){const a=Ke();cn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!mi(c.latestValues))continue;qy(c.latestValues)&&c.updateSnapshot();const u=Ke(),d=c.measurePageBox();cn(u,d),GE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return mi(this.latestValues)&&GE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),dc(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ke(),this.targetWithTransforms=Ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),RN(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),dc(this.relativeTargetOrigin,this.target,f.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qy(this.parent.latestValues)||IN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;cn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;HG(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ke());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zE(this.prevProjectionDelta.x,this.projectionDelta.x),zE(this.prevProjectionDelta.y,this.projectionDelta.y)),uc(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!XE(this.projectionDelta.x,this.prevProjectionDelta.x)||!XE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yo(),this.projectionDelta=Yo(),this.projectionDeltaWithTransform=Yo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ke(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=f!==g,_=this.getStack(),w=!_||_.members.length<=1,y=!!(m&&!w&&this.options.crossfade===!0&&!this.path.some(E7));this.animationProgress=0;let b;this.mixTargetDelta=x=>{const S=x/1e3;nC(d.x,o.x,S),nC(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),S7(this.relativeTarget,this.relativeTargetOrigin,h,S),b&&l7(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ke()),cn(b,this.relativeTarget)),m&&(this.animationValues=u,n7(u,c,this.latestValues,S,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Yd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=La(0)),this.currentAnimation=J9(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&ZN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ke();const d=At(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=At(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}cn(a,l),qo(a,u),uc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new c7),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&$m("z",o,c,this.animationValues);for(let u=0;u<jm.length;u++)$m(`rotate${jm[u]}`,o,c,this.animationValues),$m(`skew${jm[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=qd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=qd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!mi(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=u7(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in ou){if(u[g]===void 0)continue;const{correct:m,applyTo:_,isCSSVariable:w}=ou[g],y=d==="none"?u[g]:m(u[g],c);if(_){const b=_.length;for(let x=0;x<b;x++)o[_[x]]=y}else w?this.options.visualElement.renderState.vars[g]=y:o[g]=y}this.options.layoutId&&(o.pointerEvents=c===this?qd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(ZE),this.root.sharedNodes.clear()}}}function f7(t){t.updateLayout()}function p7(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?un(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=At(h);h.min=r[d].min,h.max=h.min+f}):ZN(i,e.layoutBox,r)&&un(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=At(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Yo();uc(a,r,e.layoutBox);const l=Yo();o?uc(l,t.applyTransform(s,!0),e.measuredBox):uc(l,r,e.layoutBox);const c=!YN(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const g=Ke();dc(g,e.layoutBox,h.layoutBox);const m=Ke();dc(m,r,f.layoutBox),QN(g,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function m7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function g7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function y7(t){t.clearSnapshot()}function ZE(t){t.clearMeasurements()}function eC(t){t.isLayoutDirty=!1}function v7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function w7(t){t.resolveTargetDelta()}function _7(t){t.calcProjection()}function b7(t){t.resetSkewAndRotation()}function x7(t){t.removeLeadSnapshot()}function nC(t,e,n){t.translate=je(e.translate,0,n),t.scale=je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rC(t,e,n,r){t.min=je(e.min,n.min,r),t.max=je(e.max,n.max,r)}function S7(t,e,n,r){rC(t.x,e.x,n.x,r),rC(t.y,e.y,n.y,r)}function E7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const C7={duration:.45,ease:[.4,0,.1,1]},sC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),iC=sC("applewebkit/")&&!sC("chrome/")?Math.round:yn;function oC(t){t.min=iC(t.min),t.max=iC(t.max)}function T7(t){oC(t.x),oC(t.y)}function ZN(t,e,n){return t==="position"||t==="preserve-aspect"&&!N9(JE(e),JE(n),.2)}function P7(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const k7=XN({attachResizeListener:(t,e)=>au(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fm={current:void 0},eO=XN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fm.current){const t=new k7({});t.mount(window),t.setOptions({layoutScroll:!0}),Fm.current=t}return Fm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),I7={pan:{Feature:G9},drag:{Feature:K9,ProjectionNode:eO,MeasureLayout:KN}};function aC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Le.postRender(()=>i(e,Du(e)))}class R7 extends ei{mount(){const{current:e}=this.node;e&&(this.unmount=JK(e,(n,r)=>(aC(this.node,r,"Start"),s=>aC(this.node,s,"End"))))}unmount(){}}class A7 extends ei{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Au(au(this.node.current,"focus",()=>this.onFocus()),au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Le.postRender(()=>i(e,Du(e)))}class N7 extends ei{mount(){const{current:e}=this.node;e&&(this.unmount=tG(e,(n,r)=>(lC(this.node,r,"Start"),(s,{success:i})=>lC(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tv=new WeakMap,Um=new WeakMap,O7=t=>{const e=tv.get(t.target);e&&e(t)},D7=t=>{t.forEach(O7)};function L7({root:t,...e}){const n=t||document;Um.has(n)||Um.set(n,{});const r=Um.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(D7,{root:t,...e})),r[s]}function M7(t,e,n){const r=L7(e);return tv.set(t,n),r.observe(t),()=>{tv.delete(t),r.unobserve(t)}}const j7={some:0,all:1};class $7 extends ei{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:j7[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return M7(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(F7(e,n))&&this.startObserver()}unmount(){}}function F7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const U7={inView:{Feature:$7},tap:{Feature:N7},focus:{Feature:A7},hover:{Feature:R7}},V7={layout:{ProjectionNode:eO,MeasureLayout:KN}},B7={...T9,...U7,...I7,...V7},K=BG(B7,t9);function nv(t,[e,n]){return Math.min(n,Math.max(e,t))}var W7=v.createContext(void 0);function tO(t){const e=v.useContext(W7);return t||e||"ltr"}var Vm=0;function z7(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cC()),document.body.insertAdjacentElement("beforeend",t[1]??cC()),Vm++,()=>{Vm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Vm--}},[])}function cC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bm="focusScope.autoFocusOnMount",Wm="focusScope.autoFocusOnUnmount",uC={bubbles:!1,cancelable:!0},H7="FocusScope",nO=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=ct(s),u=ct(i),d=v.useRef(null),h=ve(e,m=>l(m)),f=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let m=function(b){if(f.paused||!a)return;const x=b.target;a.contains(x)?d.current=x:ns(d.current,{select:!0})},_=function(b){if(f.paused||!a)return;const x=b.relatedTarget;x!==null&&(a.contains(x)||ns(d.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&ns(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",_);const y=new MutationObserver(w);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",_),y.disconnect()}}},[r,a,f.paused]),v.useEffect(()=>{if(a){hC.add(f);const m=document.activeElement;if(!a.contains(m)){const w=new CustomEvent(Bm,uC);a.addEventListener(Bm,c),a.dispatchEvent(w),w.defaultPrevented||(K7(J7(rO(a)),{select:!0}),document.activeElement===m&&ns(a))}return()=>{a.removeEventListener(Bm,c),setTimeout(()=>{const w=new CustomEvent(Wm,uC);a.addEventListener(Wm,u),a.dispatchEvent(w),w.defaultPrevented||ns(m??document.body,{select:!0}),a.removeEventListener(Wm,u),hC.remove(f)},0)}}},[a,c,u,f]);const g=v.useCallback(m=>{if(!n&&!r||f.paused)return;const _=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(_&&w){const y=m.currentTarget,[b,x]=G7(y);b&&x?!m.shiftKey&&w===x?(m.preventDefault(),n&&ns(b,{select:!0})):m.shiftKey&&w===b&&(m.preventDefault(),n&&ns(x,{select:!0})):w===y&&m.preventDefault()}},[n,r,f.paused]);return p.jsx(le.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});nO.displayName=H7;function K7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ns(r,{select:e}),document.activeElement!==n)return}function G7(t){const e=rO(t),n=dC(e,t),r=dC(e.reverse(),t);return[n,r]}function rO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dC(t,e){for(const n of t)if(!q7(n,{upTo:e}))return n}function q7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Y7(t){return t instanceof HTMLInputElement&&"select"in t}function ns(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Y7(t)&&e&&t.select()}}var hC=Q7();function Q7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=fC(t,e),t.unshift(e)},remove(e){var n;t=fC(t,e),(n=t[0])==null||n.resume()}}}function fC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function J7(t){return t.filter(e=>e.tagName!=="A")}function sO(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var X7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_o=new WeakMap,vd=new WeakMap,wd={},zm=0,iO=function(t){return t&&(t.host||iO(t.parentNode))},Z7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=iO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},eq=function(t,e,n,r){var s=Z7(e,Array.isArray(t)?t:[t]);wd[n]||(wd[n]=new WeakMap);var i=wd[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(r),g=f!==null&&f!=="false",m=(_o.get(h)||0)+1,_=(i.get(h)||0)+1;_o.set(h,m),i.set(h,_),o.push(h),m===1&&g&&vd.set(h,!0),_===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return u(e),a.clear(),zm++,function(){o.forEach(function(d){var h=_o.get(d)-1,f=i.get(d)-1;_o.set(d,h),i.set(d,f),h||(vd.has(d)||d.removeAttribute(r),vd.delete(d)),f||d.removeAttribute(n)}),zm--,zm||(_o=new WeakMap,_o=new WeakMap,vd=new WeakMap,wd={})}},tq=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=X7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),eq(r,s,n,"aria-hidden")):function(){return null}},rr=function(){return rr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rr.apply(this,arguments)};function oO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function nq(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Qd="right-scroll-bar-position",Jd="width-before-scroll-bar",rq="with-scroll-bars-hidden",sq="--removed-body-scroll-bar-size";function Hm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function iq(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var oq=typeof window<"u"?v.useLayoutEffect:v.useEffect,pC=new WeakMap;function aq(t,e){var n=iq(null,function(r){return t.forEach(function(s){return Hm(s,r)})});return oq(function(){var r=pC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Hm(a,null)}),i.forEach(function(a){s.has(a)||Hm(a,o)})}pC.set(n,t)},[t]),n}function lq(t){return t}function cq(t,e){e===void 0&&(e=lq);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function uq(t){t===void 0&&(t={});var e=cq(null);return e.options=rr({async:!0,ssr:!1},t),e}var aO=function(t){var e=t.sideCar,n=oO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,rr({},n))};aO.isSideCarExport=!0;function dq(t,e){return t.useMedium(e),aO}var lO=uq(),Km=function(){},pp=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Km,onWheelCapture:Km,onTouchMoveCapture:Km}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noRelative,g=t.noIsolation,m=t.inert,_=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,b=t.gapMode,x=oO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=aq([n,e]),C=rr(rr({},x),s);return v.createElement(v.Fragment,null,u&&v.createElement(S,{sideCar:lO,removeScrollBar:c,shards:d,noRelative:f,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:b}),o?v.cloneElement(v.Children.only(a),rr(rr({},C),{ref:E})):v.createElement(y,rr({},C,{className:l,ref:E}),a))});pp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pp.classNames={fullWidth:Jd,zeroRight:Qd};var hq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=hq();return e&&t.setAttribute("nonce",e),t}function pq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function mq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var gq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=fq())&&(pq(e,n),mq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yq=function(){var t=gq();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},cO=function(){var t=yq(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},vq={left:0,top:0,right:0,gap:0},Gm=function(t){return parseInt(t||"",10)||0},wq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Gm(n),Gm(r),Gm(s)]},_q=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vq;var e=wq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},bq=cO(),ua="data-scroll-locked",xq=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(rq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ua,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Jd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Qd," .").concat(Qd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jd," .").concat(Jd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ua,`] {
    `).concat(sq,": ").concat(a,`px;
  }
`)},mC=function(){var t=parseInt(document.body.getAttribute(ua)||"0",10);return isFinite(t)?t:0},Sq=function(){v.useEffect(function(){return document.body.setAttribute(ua,(mC()+1).toString()),function(){var t=mC()-1;t<=0?document.body.removeAttribute(ua):document.body.setAttribute(ua,t.toString())}},[])},Eq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Sq();var i=v.useMemo(function(){return _q(s)},[s]);return v.createElement(bq,{styles:xq(i,!e,s,n?"":"!important")})},rv=!1;if(typeof window<"u")try{var _d=Object.defineProperty({},"passive",{get:function(){return rv=!0,!0}});window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{rv=!1}var bo=rv?{passive:!1}:!1,Cq=function(t){return t.tagName==="TEXTAREA"},uO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Cq(t)&&n[e]==="visible")},Tq=function(t){return uO(t,"overflowY")},Pq=function(t){return uO(t,"overflowX")},gC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=dO(t,r);if(s){var i=hO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Iq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},dO=function(t,e){return t==="v"?Tq(e):Pq(e)},hO=function(t,e){return t==="v"?kq(e):Iq(e)},Rq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Aq=function(t,e,n,r,s){var i=Rq(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{if(!a)break;var f=hO(t,a),g=f[0],m=f[1],_=f[2],w=m-_-i*g;(g||w)&&dO(t,a)&&(d+=w,h+=g);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(c=!0),c},bd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yC=function(t){return[t.deltaX,t.deltaY]},vC=function(t){return t&&"current"in t?t.current:t},Nq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Oq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Dq=0,xo=[];function Lq(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(Dq++)[0],i=v.useState(cO)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=nq([t.lockRef.current],(t.shards||[]).map(vC),!0).filter(Boolean);return m.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(m,_){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var w=bd(m),y=n.current,b="deltaX"in m?m.deltaX:y[0]-w[0],x="deltaY"in m?m.deltaY:y[1]-w[1],S,E=m.target,C=Math.abs(b)>Math.abs(x)?"h":"v";if("touches"in m&&C==="h"&&E.type==="range")return!1;var T=gC(C,E);if(!T)return!0;if(T?S=C:(S=C==="v"?"h":"v",T=gC(C,E)),!T)return!1;if(!r.current&&"changedTouches"in m&&(b||x)&&(r.current=S),!S)return!0;var P=r.current||S;return Aq(P,_,m,P==="h"?b:x,!0)},[]),l=v.useCallback(function(m){var _=m;if(!(!xo.length||xo[xo.length-1]!==i)){var w="deltaY"in _?yC(_):bd(_),y=e.current.filter(function(S){return S.name===_.type&&(S.target===_.target||_.target===S.shadowParent)&&Nq(S.delta,w)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(vC).filter(Boolean).filter(function(S){return S.contains(_.target)}),x=b.length>0?a(_,b[0]):!o.current.noIsolation;x&&_.cancelable&&_.preventDefault()}}},[]),c=v.useCallback(function(m,_,w,y){var b={name:m,delta:_,target:w,should:y,shadowParent:Mq(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(x){return x!==b})},1)},[]),u=v.useCallback(function(m){n.current=bd(m),r.current=void 0},[]),d=v.useCallback(function(m){c(m.type,yC(m),m.target,a(m,t.lockRef.current))},[]),h=v.useCallback(function(m){c(m.type,bd(m),m.target,a(m,t.lockRef.current))},[]);v.useEffect(function(){return xo.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,bo),document.addEventListener("touchmove",l,bo),document.addEventListener("touchstart",u,bo),function(){xo=xo.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,bo),document.removeEventListener("touchmove",l,bo),document.removeEventListener("touchstart",u,bo)}},[]);var f=t.removeScrollBar,g=t.inert;return v.createElement(v.Fragment,null,g?v.createElement(i,{styles:Oq(s)}):null,f?v.createElement(Eq,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Mq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jq=dq(lO,Lq);var fO=v.forwardRef(function(t,e){return v.createElement(pp,rr({},t,{ref:e,sideCar:jq}))});fO.classNames=pp.classNames;var $q=[" ","Enter","ArrowUp","ArrowDown"],Fq=[" ","Enter"],eo="Select",[mp,gp,Uq]=pP(eo),[cl,Eoe]=Js(eo,[Uq,Ff]),yp=Ff(),[Vq,ti]=cl(eo),[Bq,Wq]=cl(eo),pO=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:f,form:g}=t,m=yp(e),[_,w]=v.useState(null),[y,b]=v.useState(null),[x,S]=v.useState(!1),E=tO(c),[C,T]=xh({prop:r,defaultProp:s??!1,onChange:i,caller:eo}),[P,I]=xh({prop:o,defaultProp:a,onChange:l,caller:eo}),L=v.useRef(null),F=_?g||!!_.closest("form"):!0,[H,N]=v.useState(new Set),G=Array.from(H).map(U=>U.props.value).join(";");return p.jsx(jU,{...m,children:p.jsxs(Vq,{required:f,scope:e,trigger:_,onTriggerChange:w,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:x,onValueNodeHasChildrenChange:S,contentId:xw(),value:P,onValueChange:I,open:C,onOpenChange:T,dir:E,triggerPointerDownPosRef:L,disabled:h,children:[p.jsx(mp.Provider,{scope:e,children:p.jsx(Bq,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(U=>{N($=>new Set($).add(U))},[]),onNativeOptionRemove:v.useCallback(U=>{N($=>{const k=new Set($);return k.delete(U),k})},[]),children:n})}),F?p.jsxs($O,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:U=>I(U.target.value),disabled:h,form:g,children:[P===void 0?p.jsx("option",{value:""}):null,Array.from(H)]},G):null]})})};pO.displayName=eo;var mO="SelectTrigger",gO=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=yp(n),o=ti(mO,n),a=o.disabled||r,l=ve(e,o.onTriggerChange),c=gp(n),u=v.useRef("touch"),[d,h,f]=UO(m=>{const _=c().filter(b=>!b.disabled),w=_.find(b=>b.value===o.value),y=VO(_,m,w);y!==void 0&&o.onValueChange(y.value)}),g=m=>{a||(o.onOpenChange(!0),f()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return p.jsx(Sk,{asChild:!0,...i,children:p.jsx(le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":FO(o.value)?"":void 0,...s,ref:l,onClick:ne(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:ne(s.onPointerDown,m=>{u.current=m.pointerType;const _=m.target;_.hasPointerCapture(m.pointerId)&&_.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:ne(s.onKeyDown,m=>{const _=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(_&&m.key===" ")&&$q.includes(m.key)&&(g(),m.preventDefault())})})})});gO.displayName=mO;var yO="SelectValue",vO=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ti(yO,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=ve(e,l.onValueNodeChange);return dt(()=>{c(u)},[c,u]),p.jsx(le.span,{...a,ref:d,style:{pointerEvents:"none"},children:FO(l.value)?p.jsx(p.Fragment,{children:o}):i})});vO.displayName=yO;var zq="SelectIcon",wO=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return p.jsx(le.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});wO.displayName=zq;var Hq="SelectPortal",_O=t=>p.jsx(mw,{asChild:!0,...t});_O.displayName=Hq;var to="SelectContent",bO=v.forwardRef((t,e)=>{const n=ti(to,t.__scopeSelect),[r,s]=v.useState();if(dt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?oo.createPortal(p.jsx(xO,{scope:t.__scopeSelect,children:p.jsx(mp.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),i):null}return p.jsx(SO,{...t,ref:e})});bO.displayName=to;var In=10,[xO,ni]=cl(to),Kq="SelectContentImpl",Gq=Nc("SelectContent.RemoveScroll"),SO=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:m,avoidCollisions:_,...w}=t,y=ti(to,n),[b,x]=v.useState(null),[S,E]=v.useState(null),C=ve(e,V=>x(V)),[T,P]=v.useState(null),[I,L]=v.useState(null),F=gp(n),[H,N]=v.useState(!1),G=v.useRef(!1);v.useEffect(()=>{if(b)return tq(b)},[b]),z7();const U=v.useCallback(V=>{const[_e,...Ve]=F().map(pe=>pe.ref.current),[ye]=Ve.slice(-1),he=document.activeElement;for(const pe of V)if(pe===he||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===_e&&S&&(S.scrollTop=0),pe===ye&&S&&(S.scrollTop=S.scrollHeight),pe==null||pe.focus(),document.activeElement!==he))return},[F,S]),$=v.useCallback(()=>U([T,b]),[U,T,b]);v.useEffect(()=>{H&&$()},[H,$]);const{onOpenChange:k,triggerPointerDownPosRef:R}=y;v.useEffect(()=>{if(b){let V={x:0,y:0};const _e=ye=>{var he,pe;V={x:Math.abs(Math.round(ye.pageX)-(((he=R.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((pe=R.current)==null?void 0:pe.y)??0))}},Ve=ye=>{V.x<=10&&V.y<=10?ye.preventDefault():b.contains(ye.target)||k(!1),document.removeEventListener("pointermove",_e),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[b,k,R]),v.useEffect(()=>{const V=()=>k(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[k]);const[j,z]=UO(V=>{const _e=F().filter(he=>!he.disabled),Ve=_e.find(he=>he.ref.current===document.activeElement),ye=VO(_e,V,Ve);ye&&setTimeout(()=>ye.ref.current.focus())}),W=v.useCallback((V,_e,Ve)=>{const ye=!G.current&&!Ve;(y.value!==void 0&&y.value===_e||ye)&&(P(V),ye&&(G.current=!0))},[y.value]),X=v.useCallback(()=>b==null?void 0:b.focus(),[b]),Z=v.useCallback((V,_e,Ve)=>{const ye=!G.current&&!Ve;(y.value!==void 0&&y.value===_e||ye)&&L(V)},[y.value]),xe=r==="popper"?sv:EO,Ue=xe===sv?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:m,avoidCollisions:_}:{};return p.jsx(xO,{scope:n,content:b,viewport:S,onViewportChange:E,itemRefCallback:W,selectedItem:T,onItemLeave:X,itemTextRefCallback:Z,focusSelectedItem:$,selectedItemText:I,position:r,isPositioned:H,searchRef:j,children:p.jsx(fO,{as:Gq,allowPinchZoom:!0,children:p.jsx(nO,{asChild:!0,trapped:y.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:ne(s,V=>{var _e;(_e=y.trigger)==null||_e.focus({preventScroll:!0}),V.preventDefault()}),children:p.jsx(Of,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:p.jsx(xe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:V=>V.preventDefault(),...w,...Ue,onPlaced:()=>N(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ne(w.onKeyDown,V=>{const _e=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!_e&&V.key.length===1&&z(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let ye=F().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(V.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const he=V.target,pe=ye.indexOf(he);ye=ye.slice(pe+1)}setTimeout(()=>U(ye)),V.preventDefault()}})})})})})})});SO.displayName=Kq;var qq="SelectItemAlignedPosition",EO=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ti(to,n),o=ni(to,n),[a,l]=v.useState(null),[c,u]=v.useState(null),d=ve(e,C=>u(C)),h=gp(n),f=v.useRef(!1),g=v.useRef(!0),{viewport:m,selectedItem:_,selectedItemText:w,focusSelectedItem:y}=o,b=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&_&&w){const C=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),I=w.getBoundingClientRect();if(i.dir!=="rtl"){const he=I.left-T.left,pe=P.left-he,gt=C.left-pe,an=C.width+gt,si=Math.max(an,T.width),Hr=window.innerWidth-In,ii=nv(pe,[In,Math.max(In,Hr-si)]);a.style.minWidth=an+"px",a.style.left=ii+"px"}else{const he=T.right-I.right,pe=window.innerWidth-P.right-he,gt=window.innerWidth-C.right-pe,an=C.width+gt,si=Math.max(an,T.width),Hr=window.innerWidth-In,ii=nv(pe,[In,Math.max(In,Hr-si)]);a.style.minWidth=an+"px",a.style.right=ii+"px"}const L=h(),F=window.innerHeight-In*2,H=m.scrollHeight,N=window.getComputedStyle(c),G=parseInt(N.borderTopWidth,10),U=parseInt(N.paddingTop,10),$=parseInt(N.borderBottomWidth,10),k=parseInt(N.paddingBottom,10),R=G+U+H+k+$,j=Math.min(_.offsetHeight*5,R),z=window.getComputedStyle(m),W=parseInt(z.paddingTop,10),X=parseInt(z.paddingBottom,10),Z=C.top+C.height/2-In,xe=F-Z,Ue=_.offsetHeight/2,V=_.offsetTop+Ue,_e=G+U+V,Ve=R-_e;if(_e<=Z){const he=L.length>0&&_===L[L.length-1].ref.current;a.style.bottom="0px";const pe=c.clientHeight-m.offsetTop-m.offsetHeight,gt=Math.max(xe,Ue+(he?X:0)+pe+$),an=_e+gt;a.style.height=an+"px"}else{const he=L.length>0&&_===L[0].ref.current;a.style.top="0px";const gt=Math.max(Z,G+m.offsetTop+(he?W:0)+Ue)+Ve;a.style.height=gt+"px",m.scrollTop=_e-Z+m.offsetTop}a.style.margin=`${In}px 0`,a.style.minHeight=j+"px",a.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[h,i.trigger,i.valueNode,a,c,m,_,w,i.dir,r]);dt(()=>b(),[b]);const[x,S]=v.useState();dt(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const E=v.useCallback(C=>{C&&g.current===!0&&(b(),y==null||y(),g.current=!1)},[b,y]);return p.jsx(Qq,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:p.jsx(le.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});EO.displayName=qq;var Yq="SelectPopperPosition",sv=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=In,...i}=t,o=yp(n);return p.jsx(Ek,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sv.displayName=Yq;var[Qq,l_]=cl(to,{}),iv="SelectViewport",CO=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ni(iv,n),o=l_(iv,n),a=ve(e,i.onViewportChange),l=v.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(mp.Slot,{scope:n,children:p.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ne(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(l.current-u.scrollTop);if(f>0){const g=window.innerHeight-In*2,m=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),w=Math.max(m,_);if(w<g){const y=w+f,b=Math.min(g,y),x=y-b;d.style.height=b+"px",d.style.bottom==="0px"&&(u.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});CO.displayName=iv;var TO="SelectGroup",[Jq,Xq]=cl(TO),Zq=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=xw();return p.jsx(Jq,{scope:n,id:s,children:p.jsx(le.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Zq.displayName=TO;var PO="SelectLabel",kO=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Xq(PO,n);return p.jsx(le.div,{id:s.id,...r,ref:e})});kO.displayName=PO;var cf="SelectItem",[eY,IO]=cl(cf),RO=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ti(cf,n),l=ni(cf,n),c=a.value===r,[u,d]=v.useState(i??""),[h,f]=v.useState(!1),g=ve(e,y=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,y,r,s)}),m=xw(),_=v.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(eY,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:v.useCallback(y=>{d(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:p.jsx(mp.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:p.jsx(le.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:ne(o.onFocus,()=>f(!0)),onBlur:ne(o.onBlur,()=>f(!1)),onClick:ne(o.onClick,()=>{_.current!=="mouse"&&w()}),onPointerUp:ne(o.onPointerUp,()=>{_.current==="mouse"&&w()}),onPointerDown:ne(o.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:ne(o.onPointerMove,y=>{var b;_.current=y.pointerType,s?(b=l.onItemLeave)==null||b.call(l):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:ne(o.onKeyDown,y=>{var x;((x=l.searchRef)==null?void 0:x.current)!==""&&y.key===" "||(Fq.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});RO.displayName=cf;var Ul="SelectItemText",AO=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ti(Ul,n),a=ni(Ul,n),l=IO(Ul,n),c=Wq(Ul,n),[u,d]=v.useState(null),h=ve(e,w=>d(w),l.onItemTextChange,w=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,w,l.value,l.disabled)}),f=u==null?void 0:u.textContent,g=v.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:_}=c;return dt(()=>(m(g),()=>_(g)),[m,_,g]),p.jsxs(p.Fragment,{children:[p.jsx(le.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?oo.createPortal(i.children,o.valueNode):null]})});AO.displayName=Ul;var NO="SelectItemIndicator",OO=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return IO(NO,n).isSelected?p.jsx(le.span,{"aria-hidden":!0,...r,ref:e}):null});OO.displayName=NO;var ov="SelectScrollUpButton",DO=v.forwardRef((t,e)=>{const n=ni(ov,t.__scopeSelect),r=l_(ov,t.__scopeSelect),[s,i]=v.useState(!1),o=ve(e,r.onScrollButtonChange);return dt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(MO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});DO.displayName=ov;var av="SelectScrollDownButton",LO=v.forwardRef((t,e)=>{const n=ni(av,t.__scopeSelect),r=l_(av,t.__scopeSelect),[s,i]=v.useState(!1),o=ve(e,r.onScrollButtonChange);return dt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(MO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});LO.displayName=av;var MO=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ni("SelectScrollButton",n),o=v.useRef(null),a=gp(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),dt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),p.jsx(le.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ne(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ne(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ne(s.onPointerLeave,()=>{l()})})}),tY="SelectSeparator",jO=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(le.div,{"aria-hidden":!0,...r,ref:e})});jO.displayName=tY;var lv="SelectArrow",nY=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=yp(n),i=ti(lv,n),o=ni(lv,n);return i.open&&o.position==="popper"?p.jsx(Ck,{...s,...r,ref:e}):null});nY.displayName=lv;var rY="SelectBubbleInput",$O=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=v.useRef(null),i=ve(r,s),o=sO(e);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),p.jsx(le.select,{...n,style:{...wP,...n.style},ref:i,defaultValue:e})});$O.displayName=rY;function FO(t){return t===""||t===void 0}function UO(t){const e=ct(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function VO(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=sY(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function sY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var iY=pO,BO=gO,oY=vO,aY=wO,lY=_O,WO=bO,cY=CO,zO=kO,HO=RO,uY=AO,dY=OO,KO=DO,GO=LO,qO=jO;const Ui=iY,Vi=oY,Ls=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(BO,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(aY,{asChild:!0,children:p.jsx(Ha,{className:"h-4 w-4 opacity-50"})})]}));Ls.displayName=BO.displayName;const YO=v.forwardRef(({className:t,...e},n)=>p.jsx(KO,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(vu,{className:"h-4 w-4"})}));YO.displayName=KO.displayName;const QO=v.forwardRef(({className:t,...e},n)=>p.jsx(GO,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(Ha,{className:"h-4 w-4"})}));QO.displayName=GO.displayName;const Ms=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>p.jsx(lY,{children:p.jsxs(WO,{ref:s,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(YO,{}),p.jsx(cY,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(QO,{})]})}));Ms.displayName=WO.displayName;const hY=v.forwardRef(({className:t,...e},n)=>p.jsx(zO,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));hY.displayName=zO.displayName;const js=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(HO,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(dY,{children:p.jsx(L2,{className:"h-4 w-4"})})}),p.jsx(uY,{children:e})]}));js.displayName=HO.displayName;const fY=v.forwardRef(({className:t,...e},n)=>p.jsx(qO,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));fY.displayName=qO.displayName;const pY=[{code:"en",name:"English"},{code:"hi",name:"हिंदी"},{code:"mr",name:"मराठी"},{code:"ta",name:"தமிழ்"},{code:"te",name:"తెలుగు"}],c_=()=>{const{i18n:t}=gr();return p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(B2,{className:"w-4 h-4 text-muted-foreground"}),p.jsxs(Ui,{value:t.language,onValueChange:e=>t.changeLanguage(e),children:[p.jsx(Ls,{className:"w-32 bg-background border-input",children:p.jsx(Vi,{})}),p.jsx(Ms,{children:pY.map(e=>p.jsx(js,{value:e.code,children:e.name},e.code))})]})]})},mY=()=>{const t=jw(),{t:e}=gr();return v.useEffect(()=>{const n=$I(Zc,r=>{r&&t("/dashboard")});return()=>n()},[t]),p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted to-background relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[p.jsx(K.div,{animate:{y:[0,-20,0],x:[0,10,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-20 left-10 opacity-10",children:p.jsx(W2,{className:"w-32 h-32 text-primary"})}),p.jsx(K.div,{animate:{y:[0,20,0],x:[0,-15,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 right-10 opacity-10",children:p.jsx(Us,{className:"w-40 h-40 text-accent"})})]}),p.jsx("header",{className:"absolute top-0 right-0 p-6 z-10",children:p.jsx(c_,{})}),p.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:p.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-3xl",children:[p.jsx(K.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,repeatDelay:2},className:"inline-block mb-6",children:p.jsx(wu,{className:"w-24 h-24 text-primary mx-auto"})}),p.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-primary via-accent to-secondary bg-clip-text text-transparent",children:e("appTitle")}),p.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:e("manageYourFarm")}),p.jsx(K.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:p.jsx(Xe,{onClick:()=>t("/auth"),size:"lg",className:"bg-gradient-to-r from-primary to-accent hover:opacity-90 transition-opacity text-primary-foreground font-semibold px-12 py-6 text-lg shadow-[var(--shadow-glow)]",children:e("login")})}),p.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8 text-left",children:[p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card/50 backdrop-blur-sm p-6 rounded-lg border border-border",children:[p.jsx(BP,{className:"w-8 h-8 text-primary mb-3"}),p.jsx("h3",{className:"font-semibold text-lg mb-2 text-foreground",children:e("autoMode")}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e("autoModeDesc")})]}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-card/50 backdrop-blur-sm p-6 rounded-lg border border-border",children:[p.jsx(zP,{className:"w-8 h-8 text-primary mb-3"}),p.jsx("h3",{className:"font-semibold text-lg mb-2 text-foreground",children:e("laserSystem")}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e("laserSystemDesc")})]}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-card/50 backdrop-blur-sm p-6 rounded-lg border border-border",children:[p.jsx(Us,{className:"w-8 h-8 text-primary mb-3"}),p.jsx("h3",{className:"font-semibold text-lg mb-2 text-foreground",children:e("pump")}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e("pumpDesc")})]})]})]})})]})},no=v.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));no.displayName="Input";var gY="Label",JO=v.forwardRef((t,e)=>p.jsx(le.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));JO.displayName=gY;var XO=JO;const yY=ww("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ja=v.forwardRef(({className:t,...e},n)=>p.jsx(XO,{ref:n,className:we(yY(),t),...e}));ja.displayName=XO.displayName;const Yt=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Yt.displayName="Card";const $a=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));$a.displayName="CardHeader";const Lu=v.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));Lu.displayName="CardTitle";const Mu=v.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Mu.displayName="CardDescription";const Fa=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));Fa.displayName="CardContent";const vY=v.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));vY.displayName="CardFooter";const wY=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(!1),o=jw(),{toast:a}=ao(),{t:l}=gr(),c=async u=>{u.preventDefault(),i(!0);try{await e5(Zc,t,n),a({title:l("welcomeBack"),description:l("manageYourFarm")}),o("/dashboard")}catch{a({title:l("error"),description:l("loginError"),variant:"destructive"})}finally{i(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted p-4",children:p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:p.jsxs(Yt,{className:"p-8 bg-card border-border shadow-[var(--shadow-card)]",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(K.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:p.jsx(wu,{className:"w-10 h-10 text-primary"})}),p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:l("appTitle")})]}),p.jsx(c_,{})]}),p.jsxs("form",{onSubmit:c,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(ja,{htmlFor:"email",className:"text-foreground",children:l("email")}),p.jsxs("div",{className:"relative",children:[p.jsx(G2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(no,{id:"email",type:"email",value:t,onChange:u=>e(u.target.value),required:!0,className:"pl-10 bg-background border-input",placeholder:"your@email.com"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(ja,{htmlFor:"password",className:"text-foreground",children:l("password")}),p.jsxs("div",{className:"relative",children:[p.jsx(H2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(no,{id:"password",type:"password",value:n,onChange:u=>r(u.target.value),required:!0,className:"pl-10 bg-background border-input",placeholder:"••••••••"})]})]}),p.jsx(Xe,{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-primary to-accent hover:opacity-90 transition-opacity text-primary-foreground font-semibold py-6 text-lg",children:s?"...":l("signIn")})]}),p.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:p.jsx("p",{children:l("manageYourFarm")})})]})})})};var vp="Switch",[_Y,Coe]=Js(vp),[bY,xY]=_Y(vp),ZO=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[h,f]=v.useState(null),g=ve(e,b=>f(b)),m=v.useRef(!1),_=h?u||!!h.closest("form"):!0,[w,y]=xh({prop:s,defaultProp:i??!1,onChange:c,caller:vp});return p.jsxs(bY,{scope:n,checked:w,disabled:a,children:[p.jsx(le.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":rD(w),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:g,onClick:ne(t.onClick,b=>{y(x=>!x),_&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),_&&p.jsx(nD,{control:h,bubbles:!m.current,name:r,value:l,checked:w,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});ZO.displayName=vp;var eD="SwitchThumb",tD=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=xY(eD,n);return p.jsx(le.span,{"data-state":rD(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});tD.displayName=eD;var SY="SwitchBubbleInput",nD=v.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=v.useRef(null),a=ve(o,i),l=sO(n),c=fk(e);return v.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&f){const g=new Event("click",{bubbles:r});f.call(u,n),u.dispatchEvent(g)}},[l,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nD.displayName=SY;function rD(t){return t?"checked":"unchecked"}var sD=ZO,EY=tD;const iD=v.forwardRef(({className:t,...e},n)=>p.jsx(sD,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:p.jsx(EY,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));iD.displayName=sD.displayName;const qm=({label:t,description:e,checked:n,onChange:r,icon:s})=>p.jsx(K.div,{whileHover:{scale:1.02},transition:{duration:.2},children:p.jsx(Yt,{className:"p-6 bg-card border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300",children:p.jsxs("div",{className:"flex items-start justify-between gap-4",children:[p.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[p.jsx(K.div,{animate:{scale:n?[1,1.2,1]:1,rotate:n?[0,10,-10,0]:0},transition:{duration:.5},className:"text-primary",children:s}),p.jsxs("div",{className:"flex-1",children:[p.jsx(ja,{htmlFor:t,className:"text-lg font-semibold text-foreground cursor-pointer",children:t}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e}),p.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},className:`mt-2 text-xs font-medium ${n?"text-[hsl(var(--success))]":"text-muted-foreground"}`,children:n?"● Active":"○ Inactive"})]})]}),p.jsx(iD,{id:t,checked:n,onCheckedChange:r,className:"data-[state=checked]:bg-primary"})]})})}),CY=({label:t,description:e,value:n,onChange:r})=>p.jsx(K.div,{whileHover:{scale:1.02},transition:{duration:.2},children:p.jsx(Yt,{className:"p-6 bg-card border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(M2,{className:"w-5 h-5 text-primary"}),p.jsxs("div",{children:[p.jsx(ja,{htmlFor:t,className:"text-lg font-semibold text-foreground",children:t}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e})]})]}),p.jsx(no,{id:t,type:"time",value:n,onChange:s=>r(s.target.value),className:"text-lg font-mono bg-background border-input focus:ring-primary"})]})})}),TY=({label:t,description:e,value:n,onChange:r})=>{const s=i=>{const o=i.target.value;o.length<=5&&r(o)};return p.jsx(K.div,{whileHover:{scale:1.02},transition:{duration:.2},children:p.jsx(Yt,{className:"p-6 bg-card border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(t$,{className:"w-5 h-5 text-primary"}),p.jsxs("div",{children:[p.jsx(ja,{htmlFor:t,className:"text-lg font-semibold text-foreground",children:t}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e})]})]}),p.jsx(no,{id:t,type:"text",value:n,onChange:s,placeholder:"00:00",pattern:"[0-9]{2}:[0-9]{2}",className:"text-lg font-mono bg-background border-input focus:ring-primary"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: HH:MM"})]})})})},Rl=({label:t,value:e,max:n,unit:r,icon:s,color:i})=>{const o=e??0,a=Math.min(o/n*100,100),l=2*Math.PI*45,c=l-a/100*l;return p.jsx(K.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},whileHover:{scale:1.05},className:"w-full",children:p.jsx(Yt,{className:"p-4 sm:p-6 bg-card border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300 h-full",children:p.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s,p.jsx("h3",{className:"text-xs sm:text-sm font-semibold truncate max-w-full",children:t})]}),p.jsxs("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32 flex-shrink-0",children:[p.jsxs("svg",{className:"transform -rotate-90 w-full h-full",viewBox:"0 0 128 128",children:[p.jsx("circle",{cx:"64",cy:"64",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-muted"}),p.jsx(K.circle,{cx:"64",cy:"64",r:"45",stroke:i,strokeWidth:"8",fill:"none",strokeLinecap:"round",initial:{strokeDashoffset:l},animate:{strokeDashoffset:c},transition:{duration:1,ease:"easeInOut"},style:{strokeDasharray:l}})]}),p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center px-2",children:[p.jsx(K.span,{className:"text-2xl sm:text-3xl font-bold text-foreground leading-none",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:o.toFixed(1)}),p.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:r})]})]}),p.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:p.jsx(K.div,{className:"h-full rounded-full",style:{backgroundColor:i},initial:{width:0},animate:{width:`${a}%`},transition:{duration:1,ease:"easeOut"}})})]})})})},PY="modulepreload",kY=function(t){return"/SMART_FARMING/"+t},wC={},ju=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=kY(l),l in wC)return;wC[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":PY,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},IY=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ju(async()=>{const{default:r}=await Promise.resolve().then(()=>ul);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class u_ extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class _C extends u_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bC extends u_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xC extends u_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cv||(cv={}));var RY=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class AY{constructor(e,{headers:n={},customFetch:r,region:s=cv.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=IY(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return RY(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:a,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(c["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(c["Content-Type"]="application/json",h=JSON.stringify(a)));const f=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:l}).catch(w=>{throw w.name==="AbortError"?w:new _C(w)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new bC(f);if(!f.ok)throw new xC(f);let m=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return m==="application/json"?_=yield f.json():m==="application/octet-stream"?_=yield f.blob():m==="text/event-stream"?_=f:m==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new _C(i)}:{data:null,error:i,response:i instanceof xC||i instanceof bC?i.context:void 0}}})}}var Ft={},d_={},wp={},$u={},_p={},bp={},NY=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ua=NY();const OY=Ua.fetch,oD=Ua.fetch.bind(Ua),aD=Ua.Headers,DY=Ua.Request,LY=Ua.Response,ul=Object.freeze(Object.defineProperty({__proto__:null,Headers:aD,Request:DY,Response:LY,default:oD,fetch:OY},Symbol.toStringTag,{value:"Module"})),MY=cL(ul);var xp={};Object.defineProperty(xp,"__esModule",{value:!0});let jY=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};xp.default=jY;var lD=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bp,"__esModule",{value:!0});const $Y=lD(MY),FY=lD(xp);let UY=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$Y.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=y:d=JSON.parse(y))}const _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&_===""?(f=204,g="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new FY.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};bp.default=UY;var VY=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_p,"__esModule",{value:!0});const BY=VY(bp);let WY=class extends BY.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};_p.default=WY;var zY=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($u,"__esModule",{value:!0});const HY=zY(_p);let KY=class extends HY.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};$u.default=KY;var GY=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wp,"__esModule",{value:!0});const Al=GY($u);let qY=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,n){const{head:r=!1,count:s}=n??{},i=r?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),s&&this.headers.append("Prefer",`count=${s}`),new Al.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Al.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Al.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Al.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Al.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};wp.default=qY;var cD=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(d_,"__esModule",{value:!0});const YY=cD(wp),QY=cD($u);let JY=class uD{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new YY.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new uD(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=n);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new QY.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};d_.default=JY;var dl=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.PostgrestError=Ft.PostgrestBuilder=Ft.PostgrestTransformBuilder=Ft.PostgrestFilterBuilder=Ft.PostgrestQueryBuilder=Ft.PostgrestClient=void 0;const dD=dl(d_);Ft.PostgrestClient=dD.default;const hD=dl(wp);Ft.PostgrestQueryBuilder=hD.default;const fD=dl($u);Ft.PostgrestFilterBuilder=fD.default;const pD=dl(_p);Ft.PostgrestTransformBuilder=pD.default;const mD=dl(bp);Ft.PostgrestBuilder=mD.default;const gD=dl(xp);Ft.PostgrestError=gD.default;var XY=Ft.default={PostgrestClient:dD.default,PostgrestQueryBuilder:hD.default,PostgrestFilterBuilder:fD.default,PostgrestTransformBuilder:pD.default,PostgrestBuilder:mD.default,PostgrestError:gD.default};const{PostgrestClient:ZY,PostgrestQueryBuilder:Aoe,PostgrestFilterBuilder:Noe,PostgrestTransformBuilder:Ooe,PostgrestBuilder:Doe,PostgrestError:Loe}=XY;class eQ{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const tQ="2.75.1",nQ=`realtime-js/${tQ}`,rQ="1.0.0",uv=1e4,sQ=1e3,iQ=100;var hc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hc||(hc={}));var Ze;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ze||(Ze={}));var Ln;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ln||(Ln={}));var dv;(function(t){t.websocket="websocket"})(dv||(dv={}));var yi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yi||(yi={}));class oQ{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class yD{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Te||(Te={}));const SC=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=aQ(o,t,e,s),i),{}):{}},aQ=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?vD(i,o):hv(o)},vD=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return dQ(e,n)}switch(t){case Te.bool:return lQ(e);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return cQ(e);case Te.json:case Te.jsonb:return uQ(e);case Te.timestamp:return hQ(e);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return hv(e);default:return hv(e)}},hv=t=>t,lQ=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},cQ=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uQ=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},dQ=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>vD(e,a))}return t},hQ=t=>typeof t=="string"?t.replace(" ","T"):t,wD=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ym{constructor(e,n,r={},s=uv){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var EC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(EC||(EC={}));class fc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=fc.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=fc.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),g=u.filter(_=>f.indexOf(_.presence_ref)<0),m=d.filter(_=>h.indexOf(_.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var CC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(CC||(CC={}));var pc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(pc||(pc={}));var br;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(br||(br={}));class h_{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ym(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new yD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new fc(this),this.broadcastEndpointURL=wD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[pc.PRESENCE]&&this.bindings[pc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(br.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(br.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){e==null||e(br.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,_=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,w=[];for(let y=0;y<_;y++){const b=m[y],{filter:{event:x,schema:S,table:E,filter:C}}=b,T=f&&f[y];if(T&&T.event===x&&T.schema===S&&T.table===E&&T.filter===C)w.push(Object.assign(Object.assign({},b),{id:T.id}));else{this.unsubscribe(),this.state=Ze.errored,e==null||e(br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(br.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ze.errored,e==null||e(br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Ze.joined&&e===pc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Ym(this,Ln.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ym(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>iQ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ln;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var g,m,_;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(m=f.filter)===null||m===void 0?void 0:m.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,m,_,w,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,S=(g=f.filter)===null||g===void 0?void 0:g.event;return x&&((m=n.ids)===null||m===void 0?void 0:m.includes(x))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(y=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:_,commit_timestamp:w,type:y,errors:b}=g;h=Object.assign(Object.assign({},{schema:m,table:_,commit_timestamp:w,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&h_.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ln.close,{},e)}_onError(e){this._on(Ln.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=SC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=SC(e.columns,e.old_record)),n}}const Qm=()=>{},xd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fQ=[1e3,2e3,5e3,1e4],pQ=1e4,mQ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gQ{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uv,this.transport=null,this.heartbeatIntervalMs=xd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qm,this.ref=0,this.reconnectTimer=null,this.logger=Qm,this.conn=null,this.sendBuffer=[],this.serializer=new oQ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ju(async()=>{const{default:a}=await Promise.resolve().then(()=>ul);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${dv.websocket}`,this.httpEndpoint=wD(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eQ.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rQ}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hc.connecting:return yi.Connecting;case hc.open:return yi.Open;case hc.closing:return yi.Closing;default:return yi.Closed}}isConnected(){return this.connectionState()===yi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new h_(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(sQ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},xd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ln.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([mQ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:nQ};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ln.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new yD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:uv,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:xd.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Qm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>fQ[d-1]||pQ,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class f_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class yQ extends f_{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fv extends f_{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var vQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const _D=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ju(async()=>{const{default:r}=await Promise.resolve().then(()=>ul);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},wQ=()=>vQ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ju(()=>Promise.resolve().then(()=>ul),void 0)).Response:Response}),pv=t=>{if(Array.isArray(t))return t.map(n=>pv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=pv(r)}),e},_Q=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ho=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Jm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bQ=(t,e,n)=>ho(void 0,void 0,void 0,function*(){const r=yield wQ();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new yQ(Jm(s),i,o))}).catch(s=>{e(new fv(Jm(s),s))}):e(new fv(Jm(t),t))}),xQ=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(_Q(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Fu(t,e,n,r,s,i){return ho(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,xQ(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>bQ(l,a,r))})})}function uf(t,e,n,r){return ho(this,void 0,void 0,function*(){return Fu(t,"GET",e,n,r)})}function Jn(t,e,n,r,s){return ho(this,void 0,void 0,function*(){return Fu(t,"POST",e,r,s,n)})}function mv(t,e,n,r,s){return ho(this,void 0,void 0,function*(){return Fu(t,"PUT",e,r,s,n)})}function SQ(t,e,n,r){return ho(this,void 0,void 0,function*(){return Fu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function bD(t,e,n,r,s){return ho(this,void 0,void 0,function*(){return Fu(t,"DELETE",e,r,s,n)})}var EQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class CQ{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return EQ(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}}var TQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},xD;class PQ{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[xD]="BlobDownloadBuilder",this.promise=null}asStream(){return new CQ(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return TQ(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}}xD=Symbol.toStringTag;var Mt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const kQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},TC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class IQ{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=_D(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Mt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},TC),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?mv:Jn)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Mt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:TC.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield mv(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Mt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Jn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new f_("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}update(e,n,r){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Mt(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Mt(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Mt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Jn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Mt(this,void 0,void 0,function*(){try{const s=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>uf(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new PQ(l,this.shouldThrowOnError)}info(e){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield uf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}exists(e){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield SQ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r)&&r instanceof fv){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield bD(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}list(e,n,r){return Mt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},kQ),n),{prefix:e||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}listV2(e,n){return Mt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Jn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const RQ="2.75.1",AQ={"X-Client-Info":`storage-js/${RQ}`};var So=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class NQ{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AQ),n),this.fetch=_D(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return So(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}getBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}createBucket(e){return So(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return So(this,void 0,void 0,function*(){try{return{data:yield mv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}emptyBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}deleteBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield bD(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}}class OQ extends NQ{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new IQ(this.url,this.headers,e,this.fetch)}}const DQ="2.75.1";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const LQ={"X-Client-Info":`supabase-js-${Vl}/${DQ}`},MQ={headers:LQ},jQ={schema:"public"},$Q={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FQ={};var UQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const VQ=t=>{let e;return t?e=t:typeof fetch>"u"?e=oD:e=fetch,(...n)=>e(...n)},BQ=()=>typeof Headers>"u"?aD:Headers,WQ=(t,e,n)=>{const r=VQ(n),s=BQ();return(i,o)=>UQ(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var zQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function HQ(t){return t.endsWith("/")?t:t+"/"}function KQ(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>zQ(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function GQ(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HQ(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const SD="2.75.1",Io=30*1e3,gv=3,Xm=gv*Io,qQ="http://localhost:9999",YQ="supabase.auth.token",QQ={"X-Client-Info":`gotrue-js/${SD}`},yv="X-Supabase-Api-Version",ED={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XQ=10*60*1e3;class lu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ZQ extends lu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function eJ(t){return q(t)&&t.name==="AuthApiError"}class vi extends lu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ri extends lu{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class rs extends ri{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tJ(t){return q(t)&&t.name==="AuthSessionMissingError"}class Eo extends ri{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sd extends ri{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ed extends ri{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nJ(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}class PC extends ri{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vv extends ri{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Zm(t){return q(t)&&t.name==="AuthRetryableFetchError"}class kC extends ri{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wv extends ri{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IC=` 	
\r=`.split(""),rJ=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<IC.length;e+=1)t[IC[e].charCodeAt(0)]=-2;for(let e=0;e<df.length;e+=1)t[df[e].charCodeAt(0)]=e;return t})();function RC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(df[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(df[r]),e.queuedBits-=6}}function CD(t,e,n){const r=rJ[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function AC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{oJ(o,r,n)};for(let o=0;o<t.length;o+=1)CD(t.charCodeAt(o),s,i);return e.join("")}function sJ(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iJ(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}sJ(r,e)}}function oJ(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function da(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)CD(t.charCodeAt(s),n,r);return new Uint8Array(e)}function aJ(t){const e=[];return iJ(t,n=>e.push(n)),new Uint8Array(e)}function Ti(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>RC(s,n,r)),RC(null,n,r),e.join("")}function lJ(t){return Math.round(Date.now()/1e3)+t}function cJ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qt=()=>typeof window<"u"&&typeof document<"u",ci={tested:!1,writable:!1},TD=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ci.tested)return ci.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ci.tested=!0,ci.writable=!0}catch{ci.tested=!0,ci.writable=!1}return ci.writable};function uJ(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const PD=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ju(async()=>{const{default:r}=await Promise.resolve().then(()=>ul);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},dJ=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ro=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ui=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zr=async(t,e)=>{await t.removeItem(e)};class Sp{constructor(){this.promise=new Sp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Sp.promiseConstructor=Promise;function eg(t){const e=t.split(".");if(e.length!==3)throw new wv("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!JQ.test(e[r]))throw new wv("JWT not in base64url format");return{header:JSON.parse(AC(e[0])),payload:JSON.parse(AC(e[1])),signature:da(e[2]),raw:{header:e[0],payload:e[1]}}}async function hJ(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function fJ(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function pJ(t){return("0"+t.toString(16)).substr(-2)}function mJ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,pJ).join("")}async function gJ(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function yJ(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await gJ(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Co(t,e,n=!1){const r=mJ();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ro(t,`${e}-code-verifier`,s);const i=await yJ(r);return[i,r===i?"plain":"s256"]}const vJ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wJ(t){const e=t.headers.get(yv);if(!e||!e.match(vJ))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _J(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function bJ(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xJ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function To(t){if(!xJ.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function NC(t){return JSON.parse(JSON.stringify(t))}var SJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const gi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),EJ=[502,503,504];async function OC(t){var e;if(!dJ(t))throw new vv(gi(t),0);if(EJ.includes(t.status))throw new vv(gi(t),t.status);let n;try{n=await t.json()}catch(i){throw new vi(gi(i),i)}let r;const s=wJ(t);if(s&&s.getTime()>=ED["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new kC(gi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new rs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new kC(gi(n),t.status,n.weak_password.reasons);throw new ZQ(gi(n),t.status||500,r)}const CJ=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function te(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[yv]||(i[yv]=ED["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await TJ(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function TJ(t,e,n,r,s,i){const o=CJ(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new vv(gi(l),0)}if(a.ok||await OC(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await OC(l)}}function Pn(t){var e;let n=null;IJ(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=lJ(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function DC(t){const e=Pn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PJ(t){return{data:t,error:null}}function kJ(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=SJ(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function LC(t){return t}function IJ(t){return t.access_token&&t.refresh_token&&t.expires_in}const ng=["global","local","others"];var RJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class AJ{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=PD(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ng[0]){if(ng.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ng.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hs})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=RJ(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:kJ,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hs})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:LC});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);c[`${_}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){To(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hs})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){To(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:hs})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){To(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:hs})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){To(e.userId);try{const{data:n,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(e){To(e.userId),To(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:LC});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);c[`${_}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(q(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}}function MC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Po={debug:!!(globalThis&&TD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kD extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NJ extends kD{}async function OJ(t,e,n){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new NJ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Po.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function DJ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ID(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function LJ(t){return parseInt(t,16)}function MJ(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function jJ(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=ID(t.address),g=u?`${u}://${r}`:r,m=t.statement?`${t.statement}
`:"",_=`${g} wants you to sign in with your Ethereum account:
${f}

${m}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);y+=`
- ${b}`}w+=y}return`${_}
${w}`}class qe extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class hf extends qe{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function $J({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(AD(o)){if(i.rp.id!==o)return new qe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function FJ({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(AD(r)){if(n.rpId!==r)return new qe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var RD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class UJ{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const VJ=new UJ;function BJ(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=RD(t,["challenge","user","excludeCredentials"]),i=da(e).buffer,o=Object.assign(Object.assign({},n),{id:da(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:da(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function WJ(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=RD(t,["challenge","allowCredentials"]),s=da(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:da(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function zJ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ti(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ti(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function HJ(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ti(new Uint8Array(s.authenticatorData)),clientDataJSON:Ti(new Uint8Array(s.clientDataJSON)),signature:Ti(new Uint8Array(s.signature)),userHandle:s.userHandle?Ti(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function AD(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function jC(){var t,e;return!!(Qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function KJ(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hf("Browser returned unexpected credential type",e)}:{data:null,error:new hf("Empty credential response",e)}}catch(e){return{data:null,error:$J({error:e,options:t})}}}async function GJ(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hf("Browser returned unexpected credential type",e)}:{data:null,error:new hf("Empty credential response",e)}}catch(e){return{data:null,error:FJ({error:e,options:t})}}}const qJ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},YJ={userVerification:"preferred",hints:["security-key"]};function ff(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=ff(a,o):r[i]=ff(o)}else r[i]=o}return r}function QJ(t,e){return ff(qJ,t,e||{})}function JJ(t,e){return ff(YJ,t,e||{})}class XJ{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??VJ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=QJ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:d}=await KJ({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=JJ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:d}=await GJ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new vi("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new lu("rpId is required for WebAuthn authentication")};try{if(!jC())return{data:null,error:new vi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new vi("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new lu("rpId is required for WebAuthn registration")};try{if(!jC())return{data:null,error:new vi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new vi("Unexpected error in register",o)}}}}DJ();const ZJ={url:qQ,storageKey:YQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $C(t,e,n){return await n()}const ko={};class cu{get jwks(){var e,n;return(n=(e=ko[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ko[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cu.nextInstanceID,cu.nextInstanceID+=1,this.instanceID>0&&Qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ZJ),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new AJ({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=PD(s.fetch),this.lock=s.lock||$C,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=OJ:this.lock=$C,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new XJ(this)},this.persistSession?(s.storage?this.storage=s.storage:TD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=MC(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=MC(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${SD}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=uJ(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Qt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nJ(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new vi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Pn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Co(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:Pn})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pn})}else throw new Sd("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:DC})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:DC})}else throw new Sd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Eo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,c,u,d,h;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:m,wallet:_,statement:w,options:y}=e;let b;if(Qt())if(typeof _=="object")b=_;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=_}const x=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=ID(S[0]);let C=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const P=await b.request({method:"eth_chainId"});C=LJ(P)}const T={domain:x.host,address:E,statement:w,uri:x.href,version:"1",chainId:C,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=jJ(T),g=await b.request({method:"personal_sign",params:[MJ(f),E]})}try{const{data:m,error:_}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Pn});if(_)throw _;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Eo}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:_})}catch(m){if(q(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(e){var n,r,s,i,o,a,l,c,u,d,h,f;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:_,wallet:w,statement:y,options:b}=e;let x;if(Qt())if(typeof w=="object")x=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(g),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:_,error:w}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ti(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Pn});if(w)throw w;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Eo}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:w})}catch(_){if(q(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await ui(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Pn});if(await Zr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Eo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Eo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Co(this.storage,this.storageKey));const{error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Sd("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Pn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Co(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:PJ})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new rs;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Sd("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Xm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ui(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=tg()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hs}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:hs})})}catch(n){if(q(n))return tJ(n)&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new rs;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Co(this.storage,this.storageKey));const{data:c,error:u}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:hs});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rs;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=eg(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new rs;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Qt())throw new Ed("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ed(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new PC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ed("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new PC("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Ed("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Io&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:m,error:_}=await this._getUser(i);if(_)throw _;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ui(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(eJ(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=cJ(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Co(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Qt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Pn}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Eo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fJ(async s=>(s>0&&await hJ(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Zm(i)&&Date.now()+o-r<Io})}catch(r){if(this._debug(n,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Qt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ui(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ro(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:tg()}else if(s&&!s.user&&!s.user){const o=await ui(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Zr(this.storage,this.storageKey+"-user"),await Ro(this.storage,this.storageKey,s)):s.user=tg()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Xm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Xm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Zm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Sp;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new rs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),q(i)){const o={data:null,error:i};return Zm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ro(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=NC(s);await Ro(this.storage,this.storageKey,i)}else{const s=NC(n);await Ro(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Zr(this.storage,this.storageKey),await Zr(this.storage,this.storageKey+"-code-verifier"),await Zr(this.storage,this.storageKey+"-user"),this.userStorage&&await Zr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Io);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Io);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Io}ms, refresh threshold is ${gv} ticks`),s<=gv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kD)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Co(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await te(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zJ(e.webauthn.credential_response):HJ(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:BJ(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:WJ(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=eg(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+XQ>s)return r;const{data:i,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=eg(r);n!=null&&n.allowExpired||_J(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const u=bJ(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,aJ(`${a}.${l}`)))throw new wv("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}cu.nextInstanceID=0;const eX=cu;class tX extends eX{constructor(e){super(e)}}var nX=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class rX{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=GQ(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:jQ,realtime:FQ,auth:Object.assign(Object.assign({},$Q),{storageKey:l}),global:MQ},u=KQ(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=WQ(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ZY(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new OQ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new AY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return nX(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tX({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new gQ(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sX=(t,e,n)=>new rX(t,e,n);function iX(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}iX()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const oX="https://xibiayicnyvvfbmdcuai.supabase.co",aX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhpYmlheWljbnl2dmZibWRjdWFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA3NzU3NDEsImV4cCI6MjA3NjM1MTc0MX0.gMt64zlbZQ__E8wLa5ZwcSKUuqwfGaQm3YTR3aAcGo8",ro=sX(oX,aX,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});var p_="Progress",m_=100,[lX,Moe]=Js(p_),[cX,uX]=lX(p_),ND=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=dX,...o}=t;(s||s===0)&&!FC(s)&&console.error(hX(`${s}`,"Progress"));const a=FC(s)?s:m_;r!==null&&!UC(r,a)&&console.error(fX(`${r}`,"Progress"));const l=UC(r,a)?r:null,c=pf(l)?i(l,a):void 0;return p.jsx(cX,{scope:n,value:l,max:a,children:p.jsx(le.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":pf(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":LD(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});ND.displayName=p_;var OD="ProgressIndicator",DD=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=uX(OD,n);return p.jsx(le.div,{"data-state":LD(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});DD.displayName=OD;function dX(t,e){return`${Math.round(t/e*100)}%`}function LD(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function pf(t){return typeof t=="number"}function FC(t){return pf(t)&&!isNaN(t)&&t>0}function UC(t,e){return pf(t)&&!isNaN(t)&&t<=e&&t>=0}function hX(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${m_}\`.`}function fX(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${m_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MD=ND,pX=DD;const jD=v.forwardRef(({className:t,value:e,...n},r)=>p.jsx(MD,{ref:r,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:p.jsx(pX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));jD.displayName=MD.displayName;const rg=[{value:"rice",duration:120},{value:"wheat",duration:120},{value:"corn",duration:90},{value:"tomato",duration:80},{value:"potato",duration:90},{value:"cotton",duration:150},{value:"sugarcane",duration:365},{value:"beans",duration:60}],mX=({sensorData:t,predictedCrop:e})=>{const{t:n,i18n:r}=gr(),[s,i]=v.useState({active:!1,startDate:null,farmerCrop:null,cropDuration:null,dailyInstructions:{}}),[o,a]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[h,f]=v.useState(!0),g=new Date().toISOString().split("T")[0],m=s.dailyInstructions[g],_=s.startDate?Math.floor((new Date().getTime()-new Date(s.startDate).getTime())/(1e3*60*60*24)):0,w=s.cropDuration?Math.min(_/s.cropDuration*100,100):0;v.useEffect(()=>{const S=en(Bt,"guide"),E=Xh(S,C=>{const T=C.val();T&&(i({active:T.active||!1,startDate:T.startDate||null,farmerCrop:T.farmerCrop||null,cropDuration:T.cropDuration||null,dailyInstructions:T.dailyInstructions||{}}),T.farmerCrop&&a(T.farmerCrop))});return()=>E()},[]),v.useEffect(()=>{if(e&&!o&&!s.farmerCrop){const S=rg.find(E=>E.value.toLowerCase()===e.toLowerCase()||n(`crops.${E.value}`).toLowerCase()===e.toLowerCase());S&&a(S.value)}},[e,o,s.farmerCrop,n]);const y=async()=>{if(!o){Xn.error(n("selectCropFirst")||"Please select a crop first");return}c(!0);try{const S=rg.find(C=>C.value===o),E=new Date().toISOString().split("T")[0];await Mi(en(Bt,"guide"),{active:!0,startDate:E,farmerCrop:o,cropDuration:(S==null?void 0:S.duration)||90,dailyInstructions:{}}),Xn.success(n("guideStarted")||"Smart Farm Guide started successfully!"),await b()}catch(S){console.error("Error starting guide:",S),Xn.error(n("guideFailed")||"Failed to start guide")}finally{c(!1)}},b=async()=>{d(!0);try{const{data:S,error:E}=await ro.functions.invoke("daily-guide",{body:{crop:s.farmerCrop||o,sensorData:t,daysSincePlanting:_,cropDuration:s.cropDuration,language:r.language}});if(E)throw E;const C=en(Bt,`guide/dailyInstructions/${g}`);await Mi(C,{instructions:S.instructions,generatedAt:S.generatedAt}),Xn.success(n("instructionsGenerated")||"Daily instructions generated!")}catch(S){console.error("Error generating instructions:",S),Xn.error(n("instructionsFailed")||"Failed to generate instructions")}finally{d(!1)}},x=async()=>{try{await Mi(en(Bt,"guide/active"),!1),Xn.success(n("guideStopped")||"Guide stopped")}catch(S){console.error("Error stopping guide:",S),Xn.error(n("guideStopFailed")||"Failed to stop guide")}};return p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:p.jsxs(Yt,{className:"bg-gradient-to-br from-card to-card/50 border-primary/20",children:[p.jsxs($a,{children:[p.jsxs(Lu,{className:"flex items-center gap-2",children:[p.jsx(Xl,{className:"w-5 h-5 text-primary"}),n("smartFarmGuide")||"Smart Farm Guide"]}),p.jsx(Mu,{children:n("aiPoweredGuidance")||"AI-powered daily farming guidance"})]}),p.jsx(Fa,{className:"space-y-6",children:s.active?p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:n("currentCrop")||"Current Crop"}),p.jsx("p",{className:"text-lg font-semibold capitalize",children:s.farmerCrop})]}),p.jsx(Xe,{variant:"outline",size:"sm",onClick:x,children:n("stopGuide")||"Stop Guide"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(WP,{className:"w-4 h-4"}),n("growthProgress")||"Growth Progress"]}),p.jsxs("span",{className:"font-medium",children:[_," / ",s.cropDuration," ",n("days")||"days"]})]}),p.jsx(jD,{value:w,className:"h-2"}),p.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[w.toFixed(1),"% ",n("complete")||"complete"]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[p.jsx(D2,{className:"w-4 h-4"}),n("todayInstructions")||"Today's Instructions"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Xe,{variant:"outline",size:"sm",onClick:b,disabled:u,children:u?n("generating")||"Generating...":n("refresh")||"Refresh"}),m&&p.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>f(!h),children:h?p.jsx(vu,{className:"w-4 h-4"}):p.jsx(Ha,{className:"w-4 h-4"})})]})]}),m?p.jsx(K.div,{initial:!1,animate:{height:h?"auto":0,opacity:h?1:0},transition:{duration:.3},style:{overflow:"hidden"},children:p.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[p.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:p.jsx("div",{className:"whitespace-pre-wrap text-sm",children:m.instructions})}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[n("generated")||"Generated",": ",new Date(m.generatedAt).toLocaleString()]})]})}):p.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-center",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:n("noInstructions")||"No instructions for today yet"}),p.jsx(Xe,{variant:"link",size:"sm",onClick:b,disabled:u,className:"mt-2",children:n("generateNow")||"Generate Now"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[(t==null?void 0:t.soilMoisture)<30&&p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-destructive/10 rounded-lg border border-destructive/20",children:[p.jsx(Us,{className:"w-4 h-4 text-destructive"}),p.jsx("span",{className:"text-xs",children:n("lowMoisture")||"Low Moisture"})]}),(t==null?void 0:t.temperature)>35&&p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-destructive/10 rounded-lg border border-destructive/20",children:[p.jsx(Oc,{className:"w-4 h-4 text-destructive"}),p.jsx("span",{className:"text-xs",children:n("highTemp")||"High Temp"})]}),(t==null?void 0:t.rainDetected)&&p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[p.jsx(n$,{className:"w-4 h-4 text-primary"}),p.jsx("span",{className:"text-xs",children:n("rainDetected")||"Rain Detected"})]})]})]}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:n("selectCrop")||"Select Crop"}),p.jsxs(Ui,{value:o,onValueChange:a,children:[p.jsx(Ls,{children:p.jsx(Vi,{placeholder:n("chooseCrop")||"Choose a crop"})}),p.jsx(Ms,{children:rg.map(S=>p.jsxs(js,{value:S.value,children:[n(`crops.${S.value}`)," (",S.duration," ",n("days")||"days",")"]},S.value))})]}),e&&p.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[p.jsx(Xl,{className:"w-3 h-3"}),n("aiPredicted")||"AI Predicted",": ",e]})]}),p.jsxs(Xe,{onClick:y,disabled:l||!o,className:"w-full",children:[p.jsx(Q2,{className:"w-4 h-4 mr-2"}),l?n("starting")||"Starting...":n("startGuide")||"Start Guide"]})]})})]})})};function Cd({className:t,...e}){return p.jsx("div",{className:we("animate-pulse rounded-md bg-muted",t),...e})}const VC=t=>t.includes("01")?p.jsx(Oc,{className:"w-12 h-12 text-yellow-500"}):t.includes("02")||t.includes("03")||t.includes("04")?p.jsx($2,{className:"w-12 h-12 text-gray-400"}):t.includes("09")||t.includes("10")||t.includes("11")?p.jsx(j2,{className:"w-12 h-12 text-blue-500"}):p.jsx(Oc,{className:"w-12 h-12 text-yellow-500"}),gX=()=>{const{t}=gr(),[e,n]=v.useState(null),[r,s]=v.useState(!0),[i,o]=v.useState(!1),[a,l]=v.useState(""),c=async(f,g)=>{try{const{data:m,error:_}=await ro.functions.invoke("weather",{body:{lat:f,lon:g}});if(_)throw _;n(m)}catch(m){console.error("Weather fetch error:",m),Xn.error("Failed to fetch weather data")}finally{s(!1)}},u=async f=>{o(!0);try{const{data:g,error:m}=await ro.functions.invoke("weather",{body:{city:f}});if(m)throw m;n(g),Xn.success(`Weather loaded for ${g.current.city}`)}catch(g){console.error("Weather fetch error:",g),Xn.error("Failed to fetch weather for this city")}finally{o(!1)}};v.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(f=>{c(f.coords.latitude,f.coords.longitude)},f=>{console.error("Geolocation error:",f),u("London")}):u("London")},[]);const d=f=>{f.preventDefault(),a.trim()&&u(a.trim())},h=f=>new Date(f).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return r?p.jsxs(Yt,{className:"w-full",children:[p.jsxs($a,{children:[p.jsx(Cd,{className:"h-8 w-48"}),p.jsx(Cd,{className:"h-4 w-64 mt-2"})]}),p.jsx(Fa,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsx(Cd,{className:"h-32 w-full"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[...Array(5)].map((f,g)=>p.jsx(Cd,{className:"h-32"},g))})]})})]}):e?p.jsxs(Yt,{className:"w-full overflow-hidden border-2 border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300",children:[p.jsx($a,{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent",children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsxs(Lu,{className:"flex items-center gap-2 text-2xl",children:[p.jsx(Oc,{className:"w-6 h-6 text-primary"}),t("weatherForecast")]}),p.jsxs(Mu,{className:"flex items-center gap-1 mt-2",children:[p.jsx(q2,{className:"w-4 h-4"}),e.current.city,", ",e.current.country]})]}),p.jsxs("form",{onSubmit:d,className:"flex gap-2 w-full md:w-auto",children:[p.jsx(no,{type:"text",placeholder:t("searchCity"),value:a,onChange:f=>l(f.target.value),className:"w-full md:w-64"}),p.jsx(Xe,{type:"submit",disabled:i,size:"icon",children:i?p.jsx(z2,{className:"w-4 h-4 animate-spin"}):p.jsx(J2,{className:"w-4 h-4"})})]})]})}),p.jsxs(Fa,{className:"p-6",children:[p.jsx("div",{className:"mb-8 p-6 rounded-lg bg-gradient-to-br from-primary/5 to-primary/10 border border-border",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[VC(e.current.icon),p.jsxs("div",{children:[p.jsxs("div",{className:"text-5xl font-bold text-foreground",children:[e.current.temp,"°C"]}),p.jsx("div",{className:"text-muted-foreground capitalize",children:e.current.description}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[t("feelsLike"),": ",e.current.feels_like,"°C"]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 text-center md:text-left",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Us,{className:"w-5 h-5 text-blue-500"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-muted-foreground",children:t("humidity")}),p.jsxs("div",{className:"text-lg font-semibold",children:[e.current.humidity,"%"]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(zb,{className:"w-5 h-5 text-gray-500"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-muted-foreground",children:t("windSpeed")}),p.jsxs("div",{className:"text-lg font-semibold",children:[e.current.wind_speed," km/h"]})]})]})]})]})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-semibold mb-4 text-foreground",children:t("fiveDayForecast")}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:e.forecast.map((f,g)=>p.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border hover:border-primary transition-all duration-200 hover:shadow-md",children:[p.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:h(f.date)}),p.jsx("div",{className:"flex justify-center mb-2",children:VC(f.icon)}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[f.temp,"°C"]}),p.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.temp_min,"° / ",f.temp_max,"°"]}),p.jsx("div",{className:"text-xs text-muted-foreground mt-2 capitalize",children:f.description}),p.jsxs("div",{className:"flex justify-center gap-3 mt-3 text-xs",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(Us,{className:"w-3 h-3"}),f.humidity,"%"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(zb,{className:"w-3 h-3"}),f.wind_speed]})]})]})]},g))})]})]})]}):null},yX=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(!0);v.useEffect(()=>{const l=en(Bt,"SMART_FARM/webUrl"),c=Xh(l,u=>{const d=u.val();d&&e(d)});return()=>c()},[]);const o=()=>{if(t.trim()){let l=t.trim();!l.startsWith("http://")&&!l.startsWith("https://")&&(l="https://"+l),r(""),setTimeout(()=>r(l),0)}},a=()=>{r("")};return p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:p.jsxs(Yt,{className:"overflow-hidden border-2 border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300 bg-card",children:[p.jsx("div",{className:"p-4 border-b border-border bg-muted/30",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Wb,{className:"w-5 h-5 text-primary"}),p.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Web Viewer"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Xe,{onClick:o,disabled:!t.trim(),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Go"}),n&&p.jsx(Xe,{onClick:a,variant:"outline",className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:p.jsx(_w,{className:"w-4 h-4"})}),p.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>i(!s),className:"hover:bg-muted",children:s?p.jsx(vu,{className:"w-4 h-4"}):p.jsx(Ha,{className:"w-4 h-4"})})]})]})}),p.jsx(pN,{children:s&&n&&p.jsx(K.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:p.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:p.jsx("iframe",{src:n,className:"absolute top-0 left-0 w-full h-full border-none",title:"Embedded Webpage",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups",loading:"lazy"})})})}),s&&!n&&p.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},className:"p-12 text-center",children:[p.jsx(Wb,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),p.jsx("p",{className:"text-muted-foreground",children:"Enter a URL above to view a webpage"})]})]})})};function vX(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var g_="ScrollArea",[$D,joe]=Js(g_),[wX,bn]=$D(g_),FD=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=v.useState(null),[c,u]=v.useState(null),[d,h]=v.useState(null),[f,g]=v.useState(null),[m,_]=v.useState(null),[w,y]=v.useState(0),[b,x]=v.useState(0),[S,E]=v.useState(!1),[C,T]=v.useState(!1),P=ve(e,L=>l(L)),I=tO(s);return p.jsx(wX,{scope:n,type:r,dir:I,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:_,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:y,onCornerHeightChange:x,children:p.jsx(le.div,{dir:I,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});FD.displayName=g_;var UD="ScrollAreaViewport",VD=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=bn(UD,n),a=v.useRef(null),l=ve(e,a,o.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),p.jsx(le.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});VD.displayName=UD;var yr="ScrollAreaScrollbar",y_=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bn(yr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return v.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?p.jsx(_X,{...r,ref:e,forceMount:n}):s.type==="scroll"?p.jsx(bX,{...r,ref:e,forceMount:n}):s.type==="auto"?p.jsx(BD,{...r,ref:e,forceMount:n}):s.type==="always"?p.jsx(v_,{...r,ref:e}):null});y_.displayName=yr;var _X=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bn(yr,t.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),p.jsx(lo,{present:n||i,children:p.jsx(BD,{"data-state":i?"visible":"hidden",...r,ref:e})})}),bX=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bn(yr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Cp(()=>l("SCROLL_END"),100),[a,l]=vX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),v.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const f=c[u];d!==f&&(l("SCROLL"),o()),d=f};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[s.viewport,i,l,o]),p.jsx(lo,{present:n||a!=="hidden",children:p.jsx(v_,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ne(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ne(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),BD=v.forwardRef((t,e)=>{const n=bn(yr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=v.useState(!1),a=t.orientation==="horizontal",l=Cp(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return Va(n.viewport,l),Va(n.content,l),p.jsx(lo,{present:r||i,children:p.jsx(v_,{"data-state":i?"visible":"hidden",...s,ref:e})})}),v_=v.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=bn(yr,t.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[a,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=GD(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,f){return PX(h,o.current,a,f)}return n==="horizontal"?p.jsx(xX,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,f=BC(h,a,s.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,s.dir))}}):n==="vertical"?p.jsx(SX,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,f=BC(h,a);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),xX=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=bn(yr,t.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=ve(e,l,i.onScrollbarXChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(zD,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ep(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),YD(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:gf(o.paddingLeft),paddingEnd:gf(o.paddingRight)}})}})}),SX=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=bn(yr,t.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=ve(e,l,i.onScrollbarYChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(zD,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ep(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),YD(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:gf(o.paddingTop),paddingEnd:gf(o.paddingBottom)}})}})}),[EX,WD]=$D(yr),zD=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=t,f=bn(yr,n),[g,m]=v.useState(null),_=ve(e,P=>m(P)),w=v.useRef(null),y=v.useRef(""),b=f.viewport,x=r.content-r.viewport,S=ct(u),E=ct(l),C=Cp(d,10);function T(P){if(w.current){const I=P.clientX-w.current.left,L=P.clientY-w.current.top;c({x:I,y:L})}}return v.useEffect(()=>{const P=I=>{const L=I.target;(g==null?void 0:g.contains(L))&&S(I,x)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,g,x,S]),v.useEffect(E,[r,E]),Va(g,C),Va(f.content,C),p.jsx(EX,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:ct(i),onThumbPointerUp:ct(o),onThumbPositionChange:E,onThumbPointerDown:ct(a),children:p.jsx(le.div,{...h,ref:_,style:{position:"absolute",...h.style},onPointerDown:ne(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),w.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),T(P))}),onPointerMove:ne(t.onPointerMove,T),onPointerUp:ne(t.onPointerUp,P=>{const I=P.target;I.hasPointerCapture(P.pointerId)&&I.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=y.current,f.viewport&&(f.viewport.style.scrollBehavior=""),w.current=null})})})}),mf="ScrollAreaThumb",HD=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=WD(mf,t.__scopeScrollArea);return p.jsx(lo,{present:n||s.hasThumb,children:p.jsx(CX,{ref:e,...r})})}),CX=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=bn(mf,n),o=WD(mf,n),{onThumbPositionChange:a}=o,l=ve(e,d=>o.onThumbChange(d)),c=v.useRef(void 0),u=Cp(()=>{c.current&&(c.current(),c.current=void 0)},100);return v.useEffect(()=>{const d=i.viewport;if(d){const h=()=>{if(u(),!c.current){const f=kX(d,a);c.current=f,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[i.viewport,u,a]),p.jsx(le.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ne(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),g=d.clientX-f.left,m=d.clientY-f.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:ne(t.onPointerUp,o.onThumbPointerUp)})});HD.displayName=mf;var w_="ScrollAreaCorner",KD=v.forwardRef((t,e)=>{const n=bn(w_,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(TX,{...t,ref:e}):null});KD.displayName=w_;var TX=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=bn(w_,n),[i,o]=v.useState(0),[a,l]=v.useState(0),c=!!(i&&a);return Va(s.scrollbarX,()=>{var d;const u=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),Va(s.scrollbarY,()=>{var d;const u=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?p.jsx(le.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function gf(t){return t?parseInt(t,10):0}function GD(t,e){const n=t/e;return isNaN(n)?0:n}function Ep(t){const e=GD(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function PX(t,e,n,r="ltr"){const s=Ep(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return qD([l,c],d)(t)}function BC(t,e,n="ltr"){const r=Ep(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=nv(t,l);return qD([0,o],[0,a])(c)}function qD(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function YD(t,e){return t>0&&t<e}var kX=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Cp(t,e){const n=ct(t),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Va(t,e){const n=ct(e);dt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var QD=FD,IX=VD,RX=KD;const JD=v.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(QD,{ref:r,className:we("relative overflow-hidden",t),...n,children:[p.jsx(IX,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(XD,{}),p.jsx(RX,{})]}));JD.displayName=QD.displayName;const XD=v.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(y_,{ref:r,orientation:e,className:we("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(HD,{className:"relative flex-1 rounded-full bg-border"})}));XD.displayName=y_.displayName;const AX=({sensorData:t,predictedCrop:e})=>{const[n,r]=v.useState(!1),[s,i]=v.useState([{role:"assistant",content:"Hello! I'm your smart farming assistant. How can I help you today?"}]),[o,a]=v.useState(""),[l,c]=v.useState(!1),{toast:u}=ao(),{i18n:d}=gr(),h=async()=>{if(!o.trim())return;const f={role:"user",content:o};i(g=>[...g,f]),a(""),c(!0);try{const{data:g,error:m}=await ro.functions.invoke("gemini-chat",{body:{messages:[f],sensorData:t,predictedCrop:e,language:d.language}});if(m)throw m;const _={role:"assistant",content:g.response};i(w=>[...w,_])}catch(g){console.error("Chat error:",g),u({title:"Error",description:"Failed to get response. Please try again.",variant:"destructive"})}finally{c(!1)}};return p.jsxs(p.Fragment,{children:[p.jsx(K.div,{className:"fixed bottom-6 right-6 z-50",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},children:p.jsx(Xe,{onClick:()=>r(!n),className:"h-14 w-14 rounded-full shadow-[var(--shadow-glow)] bg-primary hover:bg-primary/90",size:"icon",children:n?p.jsx(_w,{className:"w-6 h-6"}):p.jsx(Y2,{className:"w-6 h-6"})})}),p.jsx(pN,{children:n&&p.jsx(K.div,{className:"fixed bottom-24 right-6 z-50 w-96",initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},children:p.jsxs(Yt,{className:"flex flex-col h-[500px] bg-card border-border shadow-[var(--shadow-glow)]",children:[p.jsx("div",{className:"p-4 border-b border-border bg-primary text-primary-foreground rounded-t-lg",children:p.jsx("h3",{className:"font-semibold",children:"Smart Farm AI Assistant"})}),p.jsx(JD,{className:"flex-1 p-4",children:p.jsxs("div",{className:"space-y-4",children:[s.map((f,g)=>p.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:p.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${f.role==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:f.content})},g)),l&&p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"bg-muted p-3 rounded-lg",children:p.jsxs("div",{className:"flex gap-1",children:[p.jsx(K.div,{className:"w-2 h-2 bg-foreground/50 rounded-full",animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:0}}),p.jsx(K.div,{className:"w-2 h-2 bg-foreground/50 rounded-full",animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.2}}),p.jsx(K.div,{className:"w-2 h-2 bg-foreground/50 rounded-full",animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.4}})]})})})]})}),p.jsx("div",{className:"p-4 border-t border-border",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx(no,{value:o,onChange:f=>a(f.target.value),onKeyPress:f=>f.key==="Enter"&&h(),placeholder:"Ask about your farm...",disabled:l,className:"bg-background"}),p.jsx(Xe,{onClick:h,disabled:l,size:"icon",children:p.jsx(X2,{className:"w-4 h-4"})})]})})]})})})]})},NX=({sensorData:t,onPrediction:e})=>{const[n,r]=v.useState(!1),[s,i]=v.useState(null),{toast:o}=ao(),{t:a,i18n:l}=gr(),c=async()=>{r(!0);try{const{data:u,error:d}=await ro.functions.invoke("crop-prediction",{body:{sensorData:t,language:l.language}});if(d)throw d;i(u),e(u.cropName),o({title:a("predictionComplete"),description:`${a("recommendedCrop")}: ${u.cropName}`})}catch(u){console.error("Prediction error:",u),o({title:a("error"),description:a("predictionFailed"),variant:"destructive"})}finally{r(!1)}};return p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"md:col-span-2",children:p.jsx(Yt,{className:"p-6 bg-gradient-to-br from-primary/10 via-card to-accent/10 border-border shadow-[var(--shadow-glow)]",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[p.jsxs("div",{className:"flex-1 text-center md:text-left",children:[p.jsxs("h3",{className:"text-2xl font-bold text-foreground mb-2 flex items-center gap-2 justify-center md:justify-start",children:[p.jsx(Xl,{className:"w-6 h-6 text-primary"}),a("cropPrediction")]}),p.jsx("p",{className:"text-muted-foreground mb-4",children:a("cropPredictionDesc")}),s&&p.jsxs(K.div,{initial:{scale:0},animate:{scale:1},className:"mt-4 p-4 bg-card rounded-lg border border-primary/20",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(wu,{className:"w-8 h-8 text-primary"}),p.jsxs("div",{className:"text-left",children:[p.jsx("h4",{className:"text-xl font-bold text-primary",children:s.cropName}),p.jsx("p",{className:"text-sm text-muted-foreground",children:a("aiRecommended")})]})]}),p.jsx("p",{className:"text-sm text-foreground mb-2",children:s.reason}),p.jsx("p",{className:"text-xs text-muted-foreground",children:s.recommendations})]})]}),p.jsx(Xe,{onClick:c,disabled:n,size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-[var(--shadow-glow)] min-w-[200px]",children:n?p.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:p.jsx(Xl,{className:"w-5 h-5"})}):p.jsxs(p.Fragment,{children:[p.jsx(Xl,{className:"w-5 h-5 mr-2"}),a("predictCrop")]})})]})})})},OX=()=>p.jsx("div",{className:"fixed inset-0 bg-background/95 backdrop-blur-sm flex items-center justify-center z-50",children:p.jsxs("div",{className:"flex flex-col items-center gap-6",children:[p.jsx(K.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:p.jsx(wu,{className:"w-16 h-16 text-primary"})}),p.jsx("div",{className:"flex gap-3",children:[0,1,2].map(t=>p.jsx(K.div,{animate:{y:[0,-20,0],opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,delay:t*.3,ease:"easeInOut"},children:p.jsx(Us,{className:"w-6 h-6 text-primary"})},t))}),p.jsx(K.p,{className:"text-muted-foreground text-lg",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"Loading Smart Farm Dashboard..."}),p.jsx("div",{className:"w-64 h-2 bg-muted rounded-full overflow-hidden",children:p.jsx(K.div,{className:"h-full bg-gradient-to-r from-primary to-accent",animate:{x:[-256,256]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},style:{width:"50%"}})})]})}),DX=["Wheat","Rice","Soybean","Cotton","Maize","Sugarcane","Potato","Onion","Tomato","Groundnut","Mustard","Pulses"],LX=["Andhra Pradesh","Bihar","Gujarat","Haryana","Karnataka","Madhya Pradesh","Maharashtra","Punjab","Rajasthan","Tamil Nadu","Telangana","Uttar Pradesh","West Bengal"],MX=["Kharif","Rabi","Zaid"],jX=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState(!0),{toast:h}=ao(),{t:f,i18n:g}=gr();v.useEffect(()=>{(async()=>{try{const w=en(Bt,"insurancePreferences"),y=await mA(w);if(y.exists()){const b=y.val();e(b.cropType||""),r(b.location||""),i(b.season||"")}}catch(w){console.error("Error loading preferences:",w)}})()},[]);const m=async()=>{if(!t||!n||!s){h({title:f("insurance.error"),description:f("insurance.fillAllFields"),variant:"destructive"});return}c(!0);try{const _=en(Bt,"insurancePreferences");await Mi(_,{cropType:t,location:n,season:s,lastUpdated:new Date().toISOString()});const{data:w,error:y}=await ro.functions.invoke("insurance-advice",{body:{cropType:t,location:n,season:s,language:g.language}});if(y)throw y;a(w.advice),h({title:f("insurance.success"),description:f("insurance.adviceGenerated")})}catch(_){console.error("Error getting insurance advice:",_),h({title:f("insurance.error"),description:f("insurance.failed"),variant:"destructive"})}finally{c(!1)}};return p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full",children:p.jsxs(Yt,{className:"w-full",children:[p.jsxs($a,{children:[p.jsxs(Lu,{className:"flex items-center gap-2",children:[p.jsx(Z2,{className:"h-5 w-5"}),f("insurance.title")]}),p.jsx(Mu,{children:f("insurance.description")})]}),p.jsxs(Fa,{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:f("insurance.cropType")}),p.jsxs(Ui,{value:t,onValueChange:e,children:[p.jsx(Ls,{children:p.jsx(Vi,{placeholder:f("insurance.selectCrop")})}),p.jsx(Ms,{children:DX.map(_=>p.jsx(js,{value:_,children:_},_))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:f("insurance.location")}),p.jsxs(Ui,{value:n,onValueChange:r,children:[p.jsx(Ls,{children:p.jsx(Vi,{placeholder:f("insurance.selectState")})}),p.jsx(Ms,{children:LX.map(_=>p.jsx(js,{value:_,children:_},_))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:f("insurance.season")}),p.jsxs(Ui,{value:s,onValueChange:i,children:[p.jsx(Ls,{children:p.jsx(Vi,{placeholder:f("insurance.selectSeason")})}),p.jsx(Ms,{children:MX.map(_=>p.jsx(js,{value:_,children:_},_))})]})]})]}),p.jsx(Xe,{onClick:m,disabled:l,className:"w-full",children:f(l?"insurance.loading":"insurance.getAdvice")}),o&&p.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-accent/50 rounded-lg space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[p.jsx(V2,{className:"h-4 w-4"}),f("insurance.aiRecommendations")]}),p.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>d(!u),className:"h-8",children:u?p.jsxs(p.Fragment,{children:[p.jsx(vu,{className:"h-4 w-4 mr-1"}),"Hide"]}):p.jsxs(p.Fragment,{children:[p.jsx(Ha,{className:"h-4 w-4 mr-1"}),"Show"]})})]}),u&&p.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"prose prose-sm max-w-none whitespace-pre-wrap",children:o})]})]})]})})},$X=["Wheat","Rice","Soybean","Cotton","Maize","Sugarcane","Potato","Onion","Tomato","Groundnut","Mustard","Pulses","Bajra","Jowar","Barley","Chickpea","Lentils"],FX=["Andhra Pradesh","Bihar","Gujarat","Haryana","Karnataka","Madhya Pradesh","Maharashtra","Punjab","Rajasthan","Tamil Nadu","Telangana","Uttar Pradesh","West Bengal"],UX=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(!1),[l,c]=v.useState(!0),{toast:u}=ao(),{t:d,i18n:h}=gr();v.useEffect(()=>{(async()=>{try{const m=en(Bt,"cropPriceQueries/last"),_=await mA(m);if(_.exists()){const w=_.val();e(w.cropName||""),r(w.location||"")}}catch(m){console.error("Error loading last query:",m)}})()},[]);const f=async()=>{if(!t||!n){u({title:d("prices.error"),description:d("prices.fillAllFields"),variant:"destructive"});return}a(!0);try{const g=en(Bt,"cropPriceQueries/history");await pH(g,{cropName:t,location:n,timestamp:new Date().toISOString()});const m=en(Bt,"cropPriceQueries/last");await Mi(m,{cropName:t,location:n});const{data:_,error:w}=await ro.functions.invoke("crop-prices",{body:{cropName:t,location:n,language:h.language}});if(w)throw w;i(_.priceInfo),u({title:d("prices.success"),description:d("prices.infoRetrieved")})}catch(g){console.error("Error getting crop prices:",g),u({title:d("prices.error"),description:d("prices.failed"),variant:"destructive"})}finally{a(!1)}};return p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"w-full",children:p.jsxs(Yt,{className:"w-full",children:[p.jsxs($a,{children:[p.jsxs(Lu,{className:"flex items-center gap-2",children:[p.jsx(WP,{className:"h-5 w-5"}),d("prices.title")]}),p.jsx(Mu,{children:d("prices.description")})]}),p.jsxs(Fa,{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:d("prices.cropName")}),p.jsxs(Ui,{value:t,onValueChange:e,children:[p.jsx(Ls,{children:p.jsx(Vi,{placeholder:d("prices.selectCrop")})}),p.jsx(Ms,{children:$X.map(g=>p.jsx(js,{value:g,children:g},g))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:d("prices.location")}),p.jsxs(Ui,{value:n,onValueChange:r,children:[p.jsx(Ls,{children:p.jsx(Vi,{placeholder:d("prices.selectState")})}),p.jsx(Ms,{children:FX.map(g=>p.jsx(js,{value:g,children:g},g))})]})]})]}),p.jsx(Xe,{onClick:f,disabled:o,className:"w-full",children:d(o?"prices.loading":"prices.getPrices")}),s&&p.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-accent/50 rounded-lg space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[p.jsx(U2,{className:"h-4 w-4"}),d("prices.marketInsights")]}),p.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"h-8",children:l?p.jsxs(p.Fragment,{children:[p.jsx(vu,{className:"h-4 w-4 mr-1"}),"Hide"]}):p.jsxs(p.Fragment,{children:[p.jsx(Ha,{className:"h-4 w-4 mr-1"}),"Show"]})})]}),l&&p.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"prose prose-sm max-w-none whitespace-pre-wrap",children:s})]})]})]})})},VX=()=>{const[t,e]=v.useState({autoMode:!0,laserSystem:!1,pump:!1,startTime:"20:17",stopDuration:"00:01"}),[n,r]=v.useState({temperature:28.5,humidity:65,soilMoisture:45,pH:6.8,light:850}),[s,i]=v.useState(""),[o,a]=v.useState(!0),l=jw(),{toast:c}=ao(),{t:u}=gr();v.useEffect(()=>{const f=$I(Zc,g=>{if(!g)l("/");else{a(!1);const m=en(Bt,"SMART_FARM/controls"),_=en(Bt,"SMART_FARM/sensors");Xh(m,w=>{const y=w.val();y&&e(y)}),Xh(_,w=>{const y=w.val();y&&r(b=>({temperature:y.temperature??b.temperature,humidity:y.humidity??b.humidity,soilMoisture:y.soilMoisture??b.soilMoisture,pH:y.pH??b.pH,light:y.light??b.light}))})}});return()=>f()},[l]);const d=async(f,g)=>{try{let m={...t,[f]:g};f==="autoMode"&&g===!0?m.pump=!1:f==="pump"&&g===!0&&(m.autoMode=!1),e(m),await Mi(en(Bt,"SMART_FARM/controls"),m),c({title:u("changesSaved"),description:`${f} updated successfully`})}catch{c({title:u("error"),description:"Failed to update control",variant:"destructive"})}},h=async()=>{try{await r5(Zc),l("/")}catch{c({title:u("error"),description:"Logout failed",variant:"destructive"})}};return o?p.jsx(OX,{}):p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[p.jsx(K.header,{initial:{y:-100},animate:{y:0},className:"bg-card border-b border-border shadow-[var(--shadow-card)] sticky top-0 z-50 backdrop-blur-sm bg-card/95",children:p.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(K.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:p.jsx(wu,{className:"w-8 h-8 text-primary"})}),p.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:u("appTitle")})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(c_,{}),p.jsxs(Xe,{onClick:h,variant:"outline",className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[p.jsx(K2,{className:"w-4 h-4 mr-2"}),u("logout")]})]})]})}),p.jsxs("main",{className:"container mx-auto px-4 py-8",children:[p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("sensorData")}),p.jsx("p",{className:"text-muted-foreground",children:"Real-time monitoring"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 mb-12",children:[p.jsx(Rl,{label:u("temperature"),value:n.temperature,max:50,unit:"°C",icon:p.jsx(e$,{}),color:"hsl(var(--primary))"}),p.jsx(Rl,{label:u("humidity"),value:n.humidity,max:100,unit:"%",icon:p.jsx(F2,{}),color:"hsl(var(--accent))"}),p.jsx(Rl,{label:u("soilMoisture"),value:n.soilMoisture,max:100,unit:"%",icon:p.jsx(Us,{}),color:"#10b981"}),p.jsx(Rl,{label:u("phLevel"),value:n.pH,max:14,unit:"pH",icon:p.jsx(O2,{}),color:"#f59e0b"}),p.jsx(Rl,{label:u("lightIntensity"),value:n.light,max:1e3,unit:"lux",icon:p.jsx(Oc,{}),color:"#eab308"})]}),p.jsx(NX,{sensorData:n,onPrediction:i}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("smartFarmGuide")}),p.jsx("p",{className:"text-muted-foreground",children:u("aiPoweredGuidance")})]}),p.jsx(mX,{sensorData:n,predictedCrop:s}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("insurance.title")}),p.jsx("p",{className:"text-muted-foreground",children:u("insurance.description")})]}),p.jsx(jX,{}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("prices.title")}),p.jsx("p",{className:"text-muted-foreground",children:u("prices.description")})]}),p.jsx(UX,{}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("weatherForecast")}),p.jsx("p",{className:"text-muted-foreground",children:"Real-time weather updates"})]}),p.jsx(gX,{}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Web Viewer"}),p.jsx("p",{className:"text-muted-foreground",children:"Browse external resources"})]}),p.jsx(yX,{}),p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("controls")})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-6xl",children:[p.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:p.jsx(qm,{label:u("autoMode"),description:u("autoModeDesc"),checked:t.autoMode,onChange:f=>d("autoMode",f),icon:p.jsx(BP,{className:"w-6 h-6"})})}),p.jsx(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:p.jsx(qm,{label:u("laserSystem"),description:u("laserSystemDesc"),checked:t.laserSystem,onChange:f=>d("laserSystem",f),icon:p.jsx(zP,{className:"w-6 h-6"})})}),p.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:p.jsx(qm,{label:u("pump"),description:u("pumpDesc"),checked:t.pump,onChange:f=>d("pump",f),icon:p.jsx(Us,{className:"w-6 h-6"})})}),p.jsx(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:p.jsx(CY,{label:u("startTime"),description:u("startTimeDesc"),value:t.startTime,onChange:f=>d("startTime",f)})}),p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"md:col-span-2",children:p.jsx(TY,{label:u("stopDuration"),description:u("stopDurationDesc"),value:t.stopDuration,onChange:f=>d("stopDuration",f)})})]})]}),p.jsx(AX,{sensorData:n,predictedCrop:s})]})},BX=()=>{const t=Mw();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},WX="Smart Farm Dashboard",zX="Dashboard",HX="Controls",KX="Auto Mode",GX="Enable automatic farm management",qX="Laser System",YX="Control laser bird deterrent system",QX="Water Pump",JX="Control irrigation pump",XX="Start Time",ZX="Set operation start time",eZ="Stop Duration",tZ="Set pause duration (HH:MM)",nZ="Login",rZ="Logout",sZ="Email",iZ="Password",oZ="Sign In",aZ="Status",lZ="Active",cZ="Inactive",uZ="Last Updated",dZ="Welcome Back",hZ="Manage your smart farm system",fZ="Language",pZ="Save Changes",mZ="Changes saved successfully",gZ="Error",yZ="Login failed. Please check your credentials.",vZ="Sensor Data",wZ="Temperature",_Z="Humidity",bZ="Soil Moisture",xZ="pH Level",SZ="Light Intensity",EZ="AI Crop Prediction",CZ="Get AI-powered crop recommendations based on current conditions",TZ="Predict Crop",PZ="Prediction Complete",kZ="Recommended Crop",IZ="Failed to get crop prediction",RZ="AI Recommended",AZ="Weather Forecast",NZ="Search city...",OZ="Feels like",DZ="Wind Speed",LZ="5-Day Forecast",MZ="Smart Farm Guide",jZ="AI-powered daily farming guidance",$Z="Select Crop",FZ="Choose a crop",UZ="days",VZ="AI Predicted",BZ="Start Guide",WZ="Starting...",zZ="Current Crop",HZ="Stop Guide",KZ="Growth Progress",GZ="complete",qZ="Today's Instructions",YZ="Refresh",QZ="Generating...",JZ="Generated",XZ="No instructions for today yet",ZZ="Generate Now",eee="Low Moisture",tee="High Temp",nee="Rain Detected",ree="Please select a crop first",see="Smart Farm Guide started successfully!",iee="Failed to start guide",oee="Daily instructions generated!",aee="Failed to generate instructions",lee="Guide stopped",cee="Failed to stop guide",uee={title:"AI Assistant",askQuestion:"Ask me anything about farming...",send:"Send",error:"Failed to get response. Please try again."},dee={title:"Insurance Advice",description:"Get AI-powered insurance recommendations for your crops",cropType:"Crop Type",selectCrop:"Select a crop",location:"State",selectState:"Select your state",season:"Season",selectSeason:"Select season",getAdvice:"Get Insurance Advice",loading:"Loading...",success:"Success",error:"Error",adviceGenerated:"Insurance advice generated successfully",fillAllFields:"Please fill all fields",failed:"Failed to get insurance advice",aiRecommendations:"AI Recommendations"},hee={title:"Crop Prices",description:"Check latest market prices and trends for your crops",cropName:"Crop Name",selectCrop:"Select a crop",location:"State/District",selectState:"Select location",getPrices:"Get Price Information",loading:"Loading...",success:"Success",error:"Error",infoRetrieved:"Price information retrieved successfully",fillAllFields:"Please select crop and location",failed:"Failed to get price information",marketInsights:"Market Insights"},fee={rice:"Rice",wheat:"Wheat",corn:"Corn",tomato:"Tomato",potato:"Potato",cotton:"Cotton",sugarcane:"Sugarcane",beans:"Beans"},pee={appTitle:WX,dashboard:zX,controls:HX,autoMode:KX,autoModeDesc:GX,laserSystem:qX,laserSystemDesc:YX,pump:QX,pumpDesc:JX,startTime:XX,startTimeDesc:ZX,stopDuration:eZ,stopDurationDesc:tZ,login:nZ,logout:rZ,email:sZ,password:iZ,signIn:oZ,status:aZ,active:lZ,inactive:cZ,lastUpdated:uZ,welcomeBack:dZ,manageYourFarm:hZ,language:fZ,saveChanges:pZ,changesSaved:mZ,error:gZ,loginError:yZ,sensorData:vZ,temperature:wZ,humidity:_Z,soilMoisture:bZ,phLevel:xZ,lightIntensity:SZ,cropPrediction:EZ,cropPredictionDesc:CZ,predictCrop:TZ,predictionComplete:PZ,recommendedCrop:kZ,predictionFailed:IZ,aiRecommended:RZ,weatherForecast:AZ,searchCity:NZ,feelsLike:OZ,windSpeed:DZ,fiveDayForecast:LZ,smartFarmGuide:MZ,aiPoweredGuidance:jZ,selectCrop:$Z,chooseCrop:FZ,days:UZ,aiPredicted:VZ,startGuide:BZ,starting:WZ,currentCrop:zZ,stopGuide:HZ,growthProgress:KZ,complete:GZ,todayInstructions:qZ,refresh:YZ,generating:QZ,generated:JZ,noInstructions:XZ,generateNow:ZZ,lowMoisture:eee,highTemp:tee,rainDetected:nee,selectCropFirst:ree,guideStarted:see,guideFailed:iee,instructionsGenerated:oee,instructionsFailed:aee,guideStopped:lee,guideStopFailed:cee,chatbot:uee,insurance:dee,prices:hee,crops:fee},mee="स्मार्ट फार्म डैशबोर्ड",gee="डैशबोर्ड",yee="नियंत्रण",vee="स्वचालित मोड",wee="स्वचालित खेत प्रबंधन सक्षम करें",_ee="लेजर सिस्टम",bee="लेजर पक्षी निवारक प्रणाली को नियंत्रित करें",xee="जल पंप",See="सिंचाई पंप को नियंत्रित करें",Eee="प्रारंभ समय",Cee="संचालन प्रारंभ समय सेट करें",Tee="रोकने की अवधि",Pee="विराम अवधि सेट करें (HH:MM)",kee="लॉग इन करें",Iee="लॉग आउट",Ree="ईमेल",Aee="पासवर्ड",Nee="साइन इन करें",Oee="स्थिति",Dee="सक्रिय",Lee="निष्क्रिय",Mee="अंतिम अपडेट",jee="वापसी पर स्वागत है",$ee="अपने स्मार्ट फार्म सिस्टम का प्रबंधन करें",Fee="भाषा",Uee="परिवर्तन सहेजें",Vee="परिवर्तन सफलतापूर्वक सहेजे गए",Bee="त्रुटि",Wee="लॉगिन विफल। कृपया अपनी साख की जांच करें।",zee="सेंसर डेटा",Hee="तापमान",Kee="आर्द्रता",Gee="मिट्टी की नमी",qee="पीएच स्तर",Yee="प्रकाश की तीव्रता",Qee="एआई फसल भविष्यवाणी",Jee="वर्तमान स्थितियों के आधार पर एआई-संचालित फसल सिफारिशें प्राप्त करें",Xee="फसल की भविष्यवाणी करें",Zee="भविष्यवाणी पूर्ण",ete="अनुशंसित फसल",tte="फसल की भविष्यवाणी प्राप्त करने में विफल",nte="एआई अनुशंसित",rte="मौसम पूर्वानुमान",ste="शहर खोजें...",ite="जैसा महसूस होता है",ote="हवा की गति",ate="5-दिन का पूर्वानुमान",lte="स्मार्ट फार्म गाइड",cte="एआई-संचालित दैनिक खेती मार्गदर्शन",ute="फसल चुनें",dte="एक फसल चुनें",hte="दिन",fte="एआई भविष्यवाणी",pte="गाइड शुरू करें",mte="शुरू हो रहा है...",gte="वर्तमान फसल",yte="गाइड बंद करें",vte="विकास प्रगति",wte="पूर्ण",_te="आज के निर्देश",bte="ताज़ा करें",xte="उत्पन्न हो रहा है...",Ste="उत्पन्न",Ete="आज के लिए अभी तक कोई निर्देश नहीं",Cte="अब उत्पन्न करें",Tte="कम नमी",Pte="उच्च तापमान",kte="बारिश का पता चला",Ite="कृपया पहले एक फसल चुनें",Rte="स्मार्ट फार्म गाइड सफलतापूर्वक शुरू हुआ!",Ate="गाइड शुरू करने में विफल",Nte="दैनिक निर्देश उत्पन्न!",Ote="निर्देश उत्पन्न करने में विफल",Dte="गाइड बंद",Lte="गाइड बंद करने में विफल",Mte={title:"एआई सहायक",askQuestion:"खेती के बारे में मुझसे कुछ भी पूछें...",send:"भेजें",error:"प्रतिक्रिया प्राप्त करने में विफल। कृपया पुनः प्रयास करें।"},jte={title:"बीमा सलाह",description:"अपनी फसलों के लिए एआई-संचालित बीमा सिफारिशें प्राप्त करें",cropType:"फसल का प्रकार",selectCrop:"एक फसल चुनें",location:"राज्य",selectState:"अपना राज्य चुनें",season:"मौसम",selectSeason:"मौसम चुनें",getAdvice:"बीमा सलाह प्राप्त करें",loading:"लोड हो रहा है...",success:"सफलता",error:"त्रुटि",adviceGenerated:"बीमा सलाह सफलतापूर्वक उत्पन्न",fillAllFields:"कृपया सभी फ़ील्ड भरें",failed:"बीमा सलाह प्राप्त करने में विफल",aiRecommendations:"एआई सिफारिशें"},$te={title:"फसल मूल्य",description:"अपनी फसलों के लिए नवीनतम बाजार मूल्य और रुझान देखें",cropName:"फसल का नाम",selectCrop:"एक फसल चुनें",location:"राज्य/जिला",selectState:"स्थान चुनें",getPrices:"मूल्य जानकारी प्राप्त करें",loading:"लोड हो रहा है...",success:"सफलता",error:"त्रुटि",infoRetrieved:"मूल्य जानकारी सफलतापूर्वक प्राप्त",fillAllFields:"कृपया फसल और स्थान चुनें",failed:"मूल्य जानकारी प्राप्त करने में विफल",marketInsights:"बाजार अंतर्दृष्टि"},Fte={rice:"चावल",wheat:"गेहूं",corn:"मक्का",tomato:"टमाटर",potato:"आलू",cotton:"कपास",sugarcane:"गन्ना",beans:"बीन्स"},Ute={appTitle:mee,dashboard:gee,controls:yee,autoMode:vee,autoModeDesc:wee,laserSystem:_ee,laserSystemDesc:bee,pump:xee,pumpDesc:See,startTime:Eee,startTimeDesc:Cee,stopDuration:Tee,stopDurationDesc:Pee,login:kee,logout:Iee,email:Ree,password:Aee,signIn:Nee,status:Oee,active:Dee,inactive:Lee,lastUpdated:Mee,welcomeBack:jee,manageYourFarm:$ee,language:Fee,saveChanges:Uee,changesSaved:Vee,error:Bee,loginError:Wee,sensorData:zee,temperature:Hee,humidity:Kee,soilMoisture:Gee,phLevel:qee,lightIntensity:Yee,cropPrediction:Qee,cropPredictionDesc:Jee,predictCrop:Xee,predictionComplete:Zee,recommendedCrop:ete,predictionFailed:tte,aiRecommended:nte,weatherForecast:rte,searchCity:ste,feelsLike:ite,windSpeed:ote,fiveDayForecast:ate,smartFarmGuide:lte,aiPoweredGuidance:cte,selectCrop:ute,chooseCrop:dte,days:hte,aiPredicted:fte,startGuide:pte,starting:mte,currentCrop:gte,stopGuide:yte,growthProgress:vte,complete:wte,todayInstructions:_te,refresh:bte,generating:xte,generated:Ste,noInstructions:Ete,generateNow:Cte,lowMoisture:Tte,highTemp:Pte,rainDetected:kte,selectCropFirst:Ite,guideStarted:Rte,guideFailed:Ate,instructionsGenerated:Nte,instructionsFailed:Ote,guideStopped:Dte,guideStopFailed:Lte,chatbot:Mte,insurance:jte,prices:$te,crops:Fte},Vte="स्मार्ट फार्म डॅशबोर्ड",Bte="डॅशबोर्ड",Wte="नियंत्रणे",zte="स्वयंचलित मोड",Hte="स्वयंचलित शेती व्यवस्थापन सक्षम करा",Kte="लेझर सिस्टम",Gte="लेझर पक्षी प्रतिबंधक प्रणाली नियंत्रित करा",qte="पाण्याचा पंप",Yte="सिंचन पंप नियंत्रित करा",Qte="प्रारंभ वेळ",Jte="ऑपरेशन सुरू वेळ सेट करा",Xte="थांबण्याचा कालावधी",Zte="विराम कालावधी सेट करा (HH:MM)",ene="लॉगिन करा",tne="लॉगआउट",nne="ईमेल",rne="पासवर्ड",sne="साइन इन करा",ine="स्थिती",one="सक्रिय",ane="निष्क्रिय",lne="शेवटचे अपडेट",cne="परत स्वागत आहे",une="तुमच्या स्मार्ट फार्म सिस्टमचे व्यवस्थापन करा",dne="भाषा",hne="बदल जतन करा",fne="बदल यशस्वीरित्या जतन केले",pne="त्रुटी",mne="लॉगिन अयशस्वी. कृपया तुमची ओळखपत्रे तपासा.",gne="सेंसर डेटा",yne="तापमान",vne="आर्द्रता",wne="मातीची ओलावा",_ne="पीएच पातळी",bne="प्रकाशाची तीव्रता",xne="एआय पीक अंदाज",Sne="सध्याच्या परिस्थितीच्या आधारे एआय-संचालित पीक शिफारशी मिळवा",Ene="पीक अंदाज लावा",Cne="अंदाज पूर्ण",Tne="शिफारस केलेले पीक",Pne="पीक अंदाज मिळवण्यात अपयशी",kne="एआय शिफारस केलेले",Ine="हवामान अंदाज",Rne="शहर शोधा...",Ane="असे वाटते",Nne="वाऱ्याचा वेग",One="5-दिवसांचा अंदाज",Dne="स्मार्ट फार्म मार्गदर्शक",Lne="एआय-संचालित दैनिक शेती मार्गदर्शन",Mne="पीक निवडा",jne="एक पीक निवडा",$ne="दिवस",Fne="एआय अंदाज",Une="मार्गदर्शक सुरू करा",Vne="सुरू होत आहे...",Bne="सध्याचे पीक",Wne="मार्गदर्शक थांबवा",zne="वाढ प्रगती",Hne="पूर्ण",Kne="आजचे निर्देश",Gne="रिफ्रेश करा",qne="तयार होत आहे...",Yne="तयार केले",Qne="आजसाठी अद्याप कोणतेही निर्देश नाहीत",Jne="आता तयार करा",Xne="कमी ओलावा",Zne="उच्च तापमान",ere="पाऊस आढळला",tre="कृपया प्रथम एक पीक निवडा",nre="स्मार्ट फार्म मार्गदर्शक यशस्वीरित्या सुरू झाले!",rre="मार्गदर्शक सुरू करण्यात अयशस्वी",sre="दैनिक निर्देश तयार केले!",ire="निर्देश तयार करण्यात अयशस्वी",ore="मार्गदर्शक थांबवले",are="मार्गदर्शक थांबवण्यात अयशस्वी",lre={title:"एआय सहाय्यक",askQuestion:"शेतीबद्दल मला काहीही विचारा...",send:"पाठवा",error:"प्रतिसाद मिळवण्यात अयशस्वी. कृपया पुन्हा प्रयत्न करा."},cre={title:"विमा सल्ला",description:"तुमच्या पिकांसाठी एआय-संचालित विमा शिफारशी मिळवा",cropType:"पीक प्रकार",selectCrop:"एक पीक निवडा",location:"राज्य",selectState:"तुमचे राज्य निवडा",season:"हंगाम",selectSeason:"हंगाम निवडा",getAdvice:"विमा सल्ला मिळवा",loading:"लोड होत आहे...",success:"यश",error:"त्रुटी",adviceGenerated:"विमा सल्ला यशस्वीरित्या तयार केला",fillAllFields:"कृपया सर्व फील्ड भरा",failed:"विमा सल्ला मिळवण्यात अयशस्वी",aiRecommendations:"एआय शिफारशी"},ure={title:"पीक किंमती",description:"तुमच्या पिकांसाठी नवीनतम बाजार किंमती आणि ट्रेंड तपासा",cropName:"पीक नाव",selectCrop:"एक पीक निवडा",location:"राज्य/जिल्हा",selectState:"स्थान निवडा",getPrices:"किंमत माहिती मिळवा",loading:"लोड होत आहे...",success:"यश",error:"त्रुटी",infoRetrieved:"किंमत माहिती यशस्वीरित्या मिळवली",fillAllFields:"कृपया पीक आणि स्थान निवडा",failed:"किंमत माहिती मिळवण्यात अयशस्वी",marketInsights:"बाजार अंतर्दृष्टी"},dre={rice:"तांदूळ",wheat:"गहू",corn:"मका",tomato:"टोमॅटो",potato:"बटाटा",cotton:"कापूस",sugarcane:"ऊस",beans:"सोयाबीन"},hre={appTitle:Vte,dashboard:Bte,controls:Wte,autoMode:zte,autoModeDesc:Hte,laserSystem:Kte,laserSystemDesc:Gte,pump:qte,pumpDesc:Yte,startTime:Qte,startTimeDesc:Jte,stopDuration:Xte,stopDurationDesc:Zte,login:ene,logout:tne,email:nne,password:rne,signIn:sne,status:ine,active:one,inactive:ane,lastUpdated:lne,welcomeBack:cne,manageYourFarm:une,language:dne,saveChanges:hne,changesSaved:fne,error:pne,loginError:mne,sensorData:gne,temperature:yne,humidity:vne,soilMoisture:wne,phLevel:_ne,lightIntensity:bne,cropPrediction:xne,cropPredictionDesc:Sne,predictCrop:Ene,predictionComplete:Cne,recommendedCrop:Tne,predictionFailed:Pne,aiRecommended:kne,weatherForecast:Ine,searchCity:Rne,feelsLike:Ane,windSpeed:Nne,fiveDayForecast:One,smartFarmGuide:Dne,aiPoweredGuidance:Lne,selectCrop:Mne,chooseCrop:jne,days:$ne,aiPredicted:Fne,startGuide:Une,starting:Vne,currentCrop:Bne,stopGuide:Wne,growthProgress:zne,complete:Hne,todayInstructions:Kne,refresh:Gne,generating:qne,generated:Yne,noInstructions:Qne,generateNow:Jne,lowMoisture:Xne,highTemp:Zne,rainDetected:ere,selectCropFirst:tre,guideStarted:nre,guideFailed:rre,instructionsGenerated:sre,instructionsFailed:ire,guideStopped:ore,guideStopFailed:are,chatbot:lre,insurance:cre,prices:ure,crops:dre},fre="ஸ்மார்ட் பண்ணை டாஷ்போர்டு",pre="டாஷ்போர்டு",mre="கட்டுப்பாடுகள்",gre="தானியங்கு பயன்முறை",yre="தானியங்கி பண்ணை மேலாண்மையை இயக்கவும்",vre="லேசர் அமைப்பு",wre="லேசர் பறவை தடுப்பு அமைப்பைக் கட்டுப்படுத்து",_re="நீர் பம்ப்",bre="நீர்ப்பாசன பம்பைக் கட்டுப்படுத்து",xre="தொடக்க நேரம்",Sre="செயல்பாட்டு தொடக்க நேரத்தை அமைக்கவும்",Ere="நிறுத்த காலம்",Cre="இடைநிறுத்த காலத்தை அமைக்கவும் (HH:MM)",Tre="உள்நுழைய",Pre="வெளியேறு",kre="மின்னஞ்சல்",Ire="கடவுச்சொல்",Rre="உள்நுழைக",Are="நிலை",Nre="செயலில்",Ore="செயலற்ற",Dre="கடைசியாக புதுப்பிக்கப்பட்டது",Lre="மீண்டும் வருக",Mre="உங்கள் ஸ்மார்ட் பண்ணை அமைப்பை நிர்வகிக்கவும்",jre="மொழி",$re="மாற்றங்களைச் சேமி",Fre="மாற்றங்கள் வெற்றிகரமாக சேமிக்கப்பட்டன",Ure="பிழை",Vre="உள்நுழைவு தோல்வியடைந்தது. உங்கள் நற்சான்றிதழ்களைச் சரிபார்க்கவும்.",Bre="சென்சார் தரவு",Wre="வெப்பநிலை",zre="ஈரப்பதம்",Hre="மண் ஈரப்பதம்",Kre="pH நிலை",Gre="ஒளி தீவிரம்",qre="AI பயிர் கணிப்பு",Yre="தற்போதைய நிலைமைகளின் அடிப்படையில் AI-இயக்கப்பட்ட பயிர் பரிந்துரைகளைப் பெறுங்கள்",Qre="பயிரை கணிக்கவும்",Jre="கணிப்பு முடிந்தது",Xre="பரிந்துரைக்கப்பட்ட பயிர்",Zre="பயிர் கணிப்பைப் பெறுவதில் தோல்வி",ese="AI பரிந்துரைக்கப்பட்டது",tse="வானிலை முன்னறிவிப்பு",nse="நகரத்தைத் தேடு...",rse="போல உணர்கிறது",sse="காற்றின் வேகம்",ise="5 நாள் முன்னறிவிப்பு",ose="ஸ்மார்ட் பண்ணை வழிகாட்டி",ase="AI-இயக்கப்பட்ட தினசரி வேளாண் வழிகாட்டுதல்",lse="பயிரைத் தேர்ந்தெடுக்கவும்",cse="ஒரு பயிரைத் தேர்வு செய்யவும்",use="நாட்கள்",dse="AI கணிப்பு",hse="வழிகாட்டியைத் தொடங்கவும்",fse="தொடங்குகிறது...",pse="தற்போதைய பயிர்",mse="வழிகாட்டியை நிறுத்தவும்",gse="வளர்ச்சி முன்னேற்றம்",yse="முடிந்தது",vse="இன்றைய வழிமுறைகள்",wse="புதுப்பிக்கவும்",_se="உருவாக்குகிறது...",bse="உருவாக்கப்பட்டது",xse="இன்றுக்கு இன்னும் வழிமுறைகள் இல்லை",Sse="இப்போது உருவாக்கவும்",Ese="குறைந்த ஈரப்பதம்",Cse="அதிக வெப்பநிலை",Tse="மழை கண்டறியப்பட்டது",Pse="தயவுசெய்து முதலில் ஒரு பயிரைத் தேர்ந்தெடுக்கவும்",kse="ஸ்மார்ட் பண்ணை வழிகாட்டி வெற்றிகரமாக தொடங்கியது!",Ise="வழிகாட்டியைத் தொடங்க முடியவில்லை",Rse="தினசரி வழிமுறைகள் உருவாக்கப்பட்டன!",Ase="வழிமுறைகளை உருவாக்க முடியவில்லை",Nse="வழிகாட்டி நிறுத்தப்பட்டது",Ose="வழிகாட்டியை நிறுத்த முடியவில்லை",Dse={title:"AI உதவியாளர்",askQuestion:"வேளாண்மை பற்றி என்னிடம் எதையும் கேளுங்கள்...",send:"அனுப்பு",error:"பதிலைப் பெற முடியவில்லை. மீண்டும் முயற்சிக்கவும்."},Lse={title:"காப்பீட்டு ஆலோசனை",description:"உங்கள் பயிர்களுக்கு AI-இயக்கப்பட்ட காப்பீட்டு பரிந்துரைகளைப் பெறுங்கள்",cropType:"பயிர் வகை",selectCrop:"ஒரு பயிரைத் தேர்ந்தெடுக்கவும்",location:"மாநிலம்",selectState:"உங்கள் மாநிலத்தைத் தேர்ந்தெடுக்கவும்",season:"பருவம்",selectSeason:"பருவத்தைத் தேர்ந்தெடுக்கவும்",getAdvice:"காப்பீட்டு ஆலோசனையைப் பெறுங்கள்",loading:"ஏற்றுகிறது...",success:"வெற்றி",error:"பிழை",adviceGenerated:"காப்பீட்டு ஆலோசனை வெற்றிகரமாக உருவாக்கப்பட்டது",fillAllFields:"தயவுசெய்து அனைத்து புலங்களையும் நிரப்பவும்",failed:"காப்பீட்டு ஆலோசனையைப் பெற முடியவில்லை",aiRecommendations:"AI பரிந்துரைகள்"},Mse={title:"பயிர் விலைகள்",description:"உங்கள் பயிர்களுக்கான சமீபத்திய சந்தை விலைகள் மற்றும் போக்குகளைச் சரிபார்க்கவும்",cropName:"பயிர் பெயர்",selectCrop:"ஒரு பயிரைத் தேர்ந்தெடுக்கவும்",location:"மாநிலம்/மாவட்டம்",selectState:"இடத்தைத் தேர்ந்தெடுக்கவும்",getPrices:"விலைத் தகவலைப் பெறுங்கள்",loading:"ஏற்றுகிறது...",success:"வெற்றி",error:"பிழை",infoRetrieved:"விலைத் தகவல் வெற்றிகரமாகப் பெறப்பட்டது",fillAllFields:"தயவுசெய்து பயிர் மற்றும் இடத்தைத் தேர்ந்தெடுக்கவும்",failed:"விலைத் தகவலைப் பெற முடியவில்லை",marketInsights:"சந்தை நுண்ணறிவு"},jse={rice:"அரிசி",wheat:"கோதுமை",corn:"சோளம்",tomato:"தக்காளி",potato:"உருளைக்கிழங்கு",cotton:"பருத்தி",sugarcane:"கரும்பு",beans:"பீன்ஸ்"},$se={appTitle:fre,dashboard:pre,controls:mre,autoMode:gre,autoModeDesc:yre,laserSystem:vre,laserSystemDesc:wre,pump:_re,pumpDesc:bre,startTime:xre,startTimeDesc:Sre,stopDuration:Ere,stopDurationDesc:Cre,login:Tre,logout:Pre,email:kre,password:Ire,signIn:Rre,status:Are,active:Nre,inactive:Ore,lastUpdated:Dre,welcomeBack:Lre,manageYourFarm:Mre,language:jre,saveChanges:$re,changesSaved:Fre,error:Ure,loginError:Vre,sensorData:Bre,temperature:Wre,humidity:zre,soilMoisture:Hre,phLevel:Kre,lightIntensity:Gre,cropPrediction:qre,cropPredictionDesc:Yre,predictCrop:Qre,predictionComplete:Jre,recommendedCrop:Xre,predictionFailed:Zre,aiRecommended:ese,weatherForecast:tse,searchCity:nse,feelsLike:rse,windSpeed:sse,fiveDayForecast:ise,smartFarmGuide:ose,aiPoweredGuidance:ase,selectCrop:lse,chooseCrop:cse,days:use,aiPredicted:dse,startGuide:hse,starting:fse,currentCrop:pse,stopGuide:mse,growthProgress:gse,complete:yse,todayInstructions:vse,refresh:wse,generating:_se,generated:bse,noInstructions:xse,generateNow:Sse,lowMoisture:Ese,highTemp:Cse,rainDetected:Tse,selectCropFirst:Pse,guideStarted:kse,guideFailed:Ise,instructionsGenerated:Rse,instructionsFailed:Ase,guideStopped:Nse,guideStopFailed:Ose,chatbot:Dse,insurance:Lse,prices:Mse,crops:jse},Fse="స్మార్ట్ ఫార్మ్ డాష్‌బోర్డ్",Use="డాష్‌బోర్డ్",Vse="నియంత్రణలు",Bse="ఆటో మోడ్",Wse="స్వయంచాలక వ్యవసాయ నిర్వహణను ప్రారంభించండి",zse="లేజర్ సిస్టమ్",Hse="లేజర్ పక్షి నిరోధక వ్యవస్థను నియంత్రించండి",Kse="నీటి పంపు",Gse="నీటిపారుదల పంపును నియంత్రించండి",qse="ప్రారంభ సమయం",Yse="ఆపరేషన్ ప్రారంభ సమయాన్ని సెట్ చేయండి",Qse="ఆపే వ్యవధి",Jse="పాజ్ వ్యవధిని సెట్ చేయండి (HH:MM)",Xse="లాగిన్",Zse="లాగ్అవుట్",eie="ఇమెయిల్",tie="పాస్‌వర్డ్",nie="సైన్ ఇన్ చేయండి",rie="స్థితి",sie="చురుకుగా",iie="నిష్క్రియంగా",oie="చివరిగా నవీకరించబడింది",aie="తిరిగి స్వాగతం",lie="మీ స్మార్ట్ ఫార్మ్ సిస్టమ్‌ను నిర్వహించండి",cie="భాష",uie="మార్పులను సేవ్ చేయండి",die="మార్పులు విజయవంతంగా సేవ్ చేయబడ్డాయి",hie="లోపం",fie="లాగిన్ విఫలమైంది. దయచేసి మీ ఆధారాలను తనిఖీ చేయండి.",pie="సెన్సార్ డేటా",mie="ఉష్ణోగ్రత",gie="తేమ",yie="మట్టి తేమ",vie="pH స్థాయి",wie="కాంతి తీవ్రత",_ie="AI పంట అంచనా",bie="ప్రస్తుత పరిస్థితుల ఆధారంగా AI-ఆధారిత పంట సిఫార్సులను పొందండి",xie="పంటను అంచనా వేయండి",Sie="అంచనా పూర్తయింది",Eie="సిఫార్సు చేయబడిన పంట",Cie="పంట అంచనాను పొందడంలో విఫలమైంది",Tie="AI సిఫార్సు చేసింది",Pie="వాతావరణ సూచన",kie="నగరాన్ని వెతకండి...",Iie="అనిపిస్తుంది",Rie="గాలి వేగం",Aie="5-రోజుల సూచన",Nie="స్మార్ట్ ఫార్మ్ గైడ్",Oie="AI-ఆధారిత రోజువారీ వ్యవసాయ మార్గదర్శకత్వం",Die="పంటను ఎంచుకోండి",Lie="ఒక పంటను ఎంచుకోండి",Mie="రోజులు",jie="AI అంచనా",$ie="గైడ్‌ను ప్రారంభించండి",Fie="ప్రారంభమవుతోంది...",Uie="ప్రస్తుత పంట",Vie="గైడ్‌ను ఆపండి",Bie="పెరుగుదల పురోగతి",Wie="పూర్తి",zie="నేటి సూచనలు",Hie="రిఫ్రెష్",Kie="రూపొందిస్తోంది...",Gie="రూపొందించబడింది",qie="ఈరోజుకు ఇంకా సూచనలు లేవు",Yie="ఇప్పుడు రూపొందించండి",Qie="తక్కువ తేమ",Jie="అధిక ఉష్ణోగ్రత",Xie="వర్షం గుర్తించబడింది",Zie="దయచేసి ముందుగా ఒక పంటను ఎంచుకోండి",eoe="స్మార్ట్ ఫార్మ్ గైడ్ విజయవంతంగా ప్రారంభమైంది!",toe="గైడ్‌ను ప్రారంభించడంలో విఫలమైంది",noe="రోజువారీ సూచనలు రూపొందించబడ్డాయి!",roe="సూచనలను రూపొందించడంలో విఫలమైంది",soe="గైడ్ ఆపివేయబడింది",ioe="గైడ్‌ను ఆపడంలో విఫలమైంది",ooe={title:"AI సహాయకుడు",askQuestion:"వ్యవసాయం గురించి నన్ను ఏదైనా అడగండి...",send:"పంపించు",error:"ప్రతిస్పందన పొందడంలో విఫలమైంది. దయచేసి మళ్లీ ప్రయత్నించండి."},aoe={title:"బీమా సలహా",description:"మీ పంటలకు AI-ఆధారిత బీమా సిఫార్సులను పొందండి",cropType:"పంట రకం",selectCrop:"ఒక పంటను ఎంచుకోండి",location:"రాష్ట్రం",selectState:"మీ రాష్ట్రాన్ని ఎంచుకోండి",season:"సీజన్",selectSeason:"సీజన్‌ను ఎంచుకోండి",getAdvice:"బీమా సలహా పొందండి",loading:"లోడ్ అవుతోంది...",success:"విజయం",error:"లోపం",adviceGenerated:"బీమా సలహా విజయవంతంగా రూపొందించబడింది",fillAllFields:"దయచేసి అన్ని ఫీల్డ్‌లను పూరించండి",failed:"బీమా సలహా పొందడంలో విఫలమైంది",aiRecommendations:"AI సిఫార్సులు"},loe={title:"పంట ధరలు",description:"మీ పంటల కోసం తాజా మార్కెట్ ధరలు మరియు ట్రెండ్‌లను తనిఖీ చేయండి",cropName:"పంట పేరు",selectCrop:"ఒక పంటను ఎంచుకోండి",location:"రాష్ట్రం/జిల్లా",selectState:"స్థానాన్ని ఎంచుకోండి",getPrices:"ధర సమాచారం పొందండి",loading:"లోడ్ అవుతోంది...",success:"విజయం",error:"లోపం",infoRetrieved:"ధర సమాచారం విజయవంతంగా తిరిగి పొందబడింది",fillAllFields:"దయచేసి పంట మరియు స్థానాన్ని ఎంచుకోండి",failed:"ధర సమాచారం పొందడంలో విఫలమైంది",marketInsights:"మార్కెట్ అంతర్దృష్టులు"},coe={rice:"వరి",wheat:"గోధుమలు",corn:"మొక్కజొన్న",tomato:"టమోటా",potato:"బంగాళాదుంప",cotton:"పత్తి",sugarcane:"చెరకు",beans:"బీన్స్"},uoe={appTitle:Fse,dashboard:Use,controls:Vse,autoMode:Bse,autoModeDesc:Wse,laserSystem:zse,laserSystemDesc:Hse,pump:Kse,pumpDesc:Gse,startTime:qse,startTimeDesc:Yse,stopDuration:Qse,stopDurationDesc:Jse,login:Xse,logout:Zse,email:eie,password:tie,signIn:nie,status:rie,active:sie,inactive:iie,lastUpdated:oie,welcomeBack:aie,manageYourFarm:lie,language:cie,saveChanges:uie,changesSaved:die,error:hie,loginError:fie,sensorData:pie,temperature:mie,humidity:gie,soilMoisture:yie,phLevel:vie,lightIntensity:wie,cropPrediction:_ie,cropPredictionDesc:bie,predictCrop:xie,predictionComplete:Sie,recommendedCrop:Eie,predictionFailed:Cie,aiRecommended:Tie,weatherForecast:Pie,searchCity:kie,feelsLike:Iie,windSpeed:Rie,fiveDayForecast:Aie,smartFarmGuide:Nie,aiPoweredGuidance:Oie,selectCrop:Die,chooseCrop:Lie,days:Mie,aiPredicted:jie,startGuide:$ie,starting:Fie,currentCrop:Uie,stopGuide:Vie,growthProgress:Bie,complete:Wie,todayInstructions:zie,refresh:Hie,generating:Kie,generated:Gie,noInstructions:qie,generateNow:Yie,lowMoisture:Qie,highTemp:Jie,rainDetected:Xie,selectCropFirst:Zie,guideStarted:eoe,guideFailed:toe,instructionsGenerated:noe,instructionsFailed:roe,guideStopped:soe,guideStopFailed:ioe,chatbot:ooe,insurance:aoe,prices:loe,crops:coe};Tt.use(i8).init({resources:{en:{translation:pee},hi:{translation:Ute},mr:{translation:hre},ta:{translation:$se},te:{translation:uoe}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const doe=new C4,hoe=()=>p.jsx(P4,{client:doe,children:p.jsxs(t4,{children:[p.jsx($$,{}),p.jsx(gF,{}),p.jsx(_3,{children:p.jsxs(y3,{children:[p.jsx(Ml,{path:"/",element:p.jsx(mY,{})}),p.jsx(Ml,{path:"/auth",element:p.jsx(wY,{})}),p.jsx(Ml,{path:"/dashboard",element:p.jsx(VX,{})}),p.jsx(Ml,{path:"*",element:p.jsx(BX,{})})]})})]})});dP(document.getElementById("root")).render(p.jsx(hoe,{}));
