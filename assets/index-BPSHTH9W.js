var j_=t=>{throw TypeError(t)};var Ap=(t,e,n)=>e.has(t)||j_("Cannot "+n);var A=(t,e,n)=>(Ap(t,e,"read from private field"),n?n.call(t):e.get(t)),ge=(t,e,n)=>e.has(t)?j_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),se=(t,e,n,r)=>(Ap(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yt=(t,e,n)=>(Ap(t,e,"access private method"),n);var Wu=(t,e,n,r)=>({set _(s){se(t,e,s,n)},get _(){return A(t,e,r)}});function RL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function AL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var c1={exports:{}},wf={},u1={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),NL=Symbol.for("react.portal"),OL=Symbol.for("react.fragment"),DL=Symbol.for("react.strict_mode"),LL=Symbol.for("react.profiler"),ML=Symbol.for("react.provider"),jL=Symbol.for("react.context"),$L=Symbol.for("react.forward_ref"),FL=Symbol.for("react.suspense"),UL=Symbol.for("react.memo"),VL=Symbol.for("react.lazy"),$_=Symbol.iterator;function BL(t){return t===null||typeof t!="object"?null:(t=$_&&t[$_]||t["@@iterator"],typeof t=="function"?t:null)}var d1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h1=Object.assign,f1={};function Wa(t,e,n){this.props=t,this.context=e,this.refs=f1,this.updater=n||d1}Wa.prototype.isReactComponent={};Wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p1(){}p1.prototype=Wa.prototype;function Cv(t,e,n){this.props=t,this.context=e,this.refs=f1,this.updater=n||d1}var Tv=Cv.prototype=new p1;Tv.constructor=Cv;h1(Tv,Wa.prototype);Tv.isPureReactComponent=!0;var F_=Array.isArray,m1=Object.prototype.hasOwnProperty,Pv={current:null},g1={key:!0,ref:!0,__self:!0,__source:!0};function y1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)m1.call(e,r)&&!g1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:pu,type:t,key:i,ref:o,props:s,_owner:Pv.current}}function WL(t,e){return{$$typeof:pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kv(t){return typeof t=="object"&&t!==null&&t.$$typeof===pu}function zL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var U_=/\/+/g;function Np(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zL(""+t.key):e.toString(36)}function Id(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pu:case NL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Np(o,0):r,F_(s)?(n="",t!=null&&(n=t.replace(U_,"$&/")+"/"),Id(s,e,n,"",function(c){return c})):s!=null&&(kv(s)&&(s=WL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(U_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",F_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Np(i,a);o+=Id(i,e,n,l,s)}else if(l=BL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Np(i,a++),o+=Id(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zu(t,e,n){if(t==null)return t;var r=[],s=0;return Id(t,r,"","",function(i){return e.call(n,i,s++)}),r}function HL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},Rd={transition:null},KL={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:Pv};function v1(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:zu,forEach:function(t,e,n){zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zu(t,function(){e++}),e},toArray:function(t){return zu(t,function(e){return e})||[]},only:function(t){if(!kv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Wa;ue.Fragment=OL;ue.Profiler=LL;ue.PureComponent=Cv;ue.StrictMode=DL;ue.Suspense=FL;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KL;ue.act=v1;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Pv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)m1.call(e,l)&&!g1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:pu,type:t.type,key:s,ref:i,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:jL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ML,_context:t},t.Consumer=t};ue.createElement=y1;ue.createFactory=function(t){var e=y1.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:$L,render:t}};ue.isValidElement=kv;ue.lazy=function(t){return{$$typeof:VL,_payload:{_status:-1,_result:t},_init:HL}};ue.memo=function(t,e){return{$$typeof:UL,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Rd.transition;Rd.transition={};try{t()}finally{Rd.transition=e}};ue.unstable_act=v1;ue.useCallback=function(t,e){return Lt.current.useCallback(t,e)};ue.useContext=function(t){return Lt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Lt.current.useEffect(t,e)};ue.useId=function(){return Lt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Lt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};ue.useRef=function(t){return Lt.current.useRef(t)};ue.useState=function(t){return Lt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Lt.current.useTransition()};ue.version="18.3.1";u1.exports=ue;var y=u1.exports;const $=l1(y),Iv=RL({__proto__:null,default:$},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GL=y,qL=Symbol.for("react.element"),YL=Symbol.for("react.fragment"),QL=Object.prototype.hasOwnProperty,JL=GL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XL={key:!0,ref:!0,__self:!0,__source:!0};function w1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)QL.call(e,r)&&!XL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:qL,type:t,key:i,ref:o,props:s,_owner:JL.current}}wf.Fragment=YL;wf.jsx=w1;wf.jsxs=w1;c1.exports=wf;var p=c1.exports,_1={exports:{}},sn={},b1={exports:{}},x1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,R){var F=k.length;k.push(R);e:for(;0<F;){var H=F-1>>>1,z=k[H];if(0<s(z,R))k[H]=R,k[F]=z,F=H;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var R=k[0],F=k.pop();if(F!==R){k[0]=F;e:for(var H=0,z=k.length,Z=z>>>1;H<Z;){var ee=2*(H+1)-1,xe=k[ee],Ue=ee+1,V=k[Ue];if(0>s(xe,F))Ue<z&&0>s(V,xe)?(k[H]=V,k[Ue]=F,H=Ue):(k[H]=xe,k[ee]=F,H=ee);else if(Ue<z&&0>s(V,F))k[H]=V,k[Ue]=F,H=Ue;else break e}}return R}function s(k,R){var F=k.sortIndex-R.sortIndex;return F!==0?F:k.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=k)r(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function x(k){if(m=!1,b(k),!g)if(n(l)!==null)g=!0,U(S);else{var R=n(c);R!==null&&M(x,R.startTime-k)}}function S(k,R){g=!1,m&&(m=!1,w(T),T=-1),f=!0;var F=h;try{for(b(R),d=n(l);d!==null&&(!(d.expirationTime>R)||k&&!O());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var z=H(d.expirationTime<=R);R=t.unstable_now(),typeof z=="function"?d.callback=z:d===n(l)&&r(l),b(R)}else r(l);d=n(l)}if(d!==null)var Z=!0;else{var ee=n(c);ee!==null&&M(x,ee.startTime-R),Z=!1}return Z}finally{d=null,h=F,f=!1}}var E=!1,C=null,T=-1,P=5,I=-1;function O(){return!(t.unstable_now()-I<P)}function L(){if(C!==null){var k=t.unstable_now();I=k;var R=!0;try{R=C(!0,k)}finally{R?B():(E=!1,C=null)}}else E=!1}var B;if(typeof v=="function")B=function(){v(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,G=N.port2;N.port1.onmessage=L,B=function(){G.postMessage(null)}}else B=function(){_(L,0)};function U(k){C=k,E||(E=!0,B())}function M(k,R){T=_(function(){k(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,U(S))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var F=h;h=R;try{return k()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,R){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=h;h=k;try{return R()}finally{h=F}},t.unstable_scheduleCallback=function(k,R,F){var H=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,k){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,k={id:u++,callback:R,priorityLevel:k,startTime:F,expirationTime:z,sortIndex:-1},F>H?(k.sortIndex=F,e(c,k),n(l)===null&&k===n(c)&&(m?(w(T),T=-1):m=!0,M(x,F-H))):(k.sortIndex=z,e(l,k),g||f||(g=!0,U(S))),k},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(k){var R=h;return function(){var F=h;h=R;try{return k.apply(this,arguments)}finally{h=F}}}})(x1);b1.exports=x1;var ZL=b1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM=y,rn=ZL;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S1=new Set,mc={};function io(t,e){xa(t,e),xa(t+"Capture",e)}function xa(t,e){for(mc[t]=e,t=0;t<e.length;t++)S1.add(e[t])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ag=Object.prototype.hasOwnProperty,tM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V_={},B_={};function nM(t){return ag.call(B_,t)?!0:ag.call(V_,t)?!1:tM.test(t)?B_[t]=!0:(V_[t]=!0,!1)}function rM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sM(t,e,n,r){if(e===null||typeof e>"u"||rM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rv=/[\-:]([a-z])/g;function Av(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rv,Av);mt[e]=new Mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rv,Av);mt[e]=new Mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rv,Av);mt[e]=new Mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nv(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sM(e,n,s,r)&&(n=null),r||s===null?nM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=eM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hu=Symbol.for("react.element"),Oo=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),lg=Symbol.for("react.profiler"),E1=Symbol.for("react.provider"),C1=Symbol.for("react.context"),Dv=Symbol.for("react.forward_ref"),cg=Symbol.for("react.suspense"),ug=Symbol.for("react.suspense_list"),Lv=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),T1=Symbol.for("react.offscreen"),W_=Symbol.iterator;function ml(t){return t===null||typeof t!="object"?null:(t=W_&&t[W_]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Op;function Nl(t){if(Op===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Op=e&&e[1]||""}return`
`+Op+t}var Dp=!1;function Lp(t,e){if(!t||Dp)return"";Dp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nl(t):""}function iM(t){switch(t.tag){case 5:return Nl(t.type);case 16:return Nl("Lazy");case 13:return Nl("Suspense");case 19:return Nl("SuspenseList");case 0:case 2:case 15:return t=Lp(t.type,!1),t;case 11:return t=Lp(t.type.render,!1),t;case 1:return t=Lp(t.type,!0),t;default:return""}}function dg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Do:return"Fragment";case Oo:return"Portal";case lg:return"Profiler";case Ov:return"StrictMode";case cg:return"Suspense";case ug:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C1:return(t.displayName||"Context")+".Consumer";case E1:return(t._context.displayName||"Context")+".Provider";case Dv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lv:return e=t.displayName||null,e!==null?e:dg(t.type)||"Memo";case os:e=t._payload,t=t._init;try{return dg(t(e))}catch{}}return null}function oM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dg(e);case 8:return e===Ov?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aM(t){var e=P1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ku(t){t._valueTracker||(t._valueTracker=aM(t))}function k1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=P1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function th(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hg(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function z_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function I1(t,e){e=e.checked,e!=null&&Nv(t,"checked",e,!1)}function fg(t,e){I1(t,e);var n=Us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pg(t,e.type,n):e.hasOwnProperty("defaultValue")&&pg(t,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function H_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pg(t,e,n){(e!=="number"||th(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ol=Array.isArray;function Xo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function K_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Ol(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Us(n)}}function R1(t,e){var n=Us(e.value),r=Us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function G_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gu,N1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gu=Gu||document.createElement("div"),Gu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lM=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(t){lM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bl[e]=Bl[t]})});function O1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bl.hasOwnProperty(t)&&Bl[t]?(""+e).trim():e+"px"}function D1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=O1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var cM=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yg(t,e){if(e){if(cM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function vg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wg=null;function Mv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _g=null,Zo=null,ea=null;function q_(t){if(t=yu(t)){if(typeof _g!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Ef(e),_g(t.stateNode,t.type,e))}}function L1(t){Zo?ea?ea.push(t):ea=[t]:Zo=t}function M1(){if(Zo){var t=Zo,e=ea;if(ea=Zo=null,q_(t),e)for(t=0;t<e.length;t++)q_(e[t])}}function j1(t,e){return t(e)}function $1(){}var Mp=!1;function F1(t,e,n){if(Mp)return t(e,n);Mp=!0;try{return j1(t,e,n)}finally{Mp=!1,(Zo!==null||ea!==null)&&($1(),M1())}}function yc(t,e){var n=t.stateNode;if(n===null)return null;var r=Ef(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var bg=!1;if(Ar)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){bg=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{bg=!1}function uM(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Wl=!1,nh=null,rh=!1,xg=null,dM={onError:function(t){Wl=!0,nh=t}};function hM(t,e,n,r,s,i,o,a,l){Wl=!1,nh=null,uM.apply(dM,arguments)}function fM(t,e,n,r,s,i,o,a,l){if(hM.apply(this,arguments),Wl){if(Wl){var c=nh;Wl=!1,nh=null}else throw Error(D(198));rh||(rh=!0,xg=c)}}function oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function U1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y_(t){if(oo(t)!==t)throw Error(D(188))}function pM(t){var e=t.alternate;if(!e){if(e=oo(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Y_(s),t;if(i===r)return Y_(s),e;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function V1(t){return t=pM(t),t!==null?B1(t):null}function B1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=B1(t);if(e!==null)return e;t=t.sibling}return null}var W1=rn.unstable_scheduleCallback,Q_=rn.unstable_cancelCallback,mM=rn.unstable_shouldYield,gM=rn.unstable_requestPaint,Ge=rn.unstable_now,yM=rn.unstable_getCurrentPriorityLevel,jv=rn.unstable_ImmediatePriority,z1=rn.unstable_UserBlockingPriority,sh=rn.unstable_NormalPriority,vM=rn.unstable_LowPriority,H1=rn.unstable_IdlePriority,_f=null,or=null;function wM(t){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(_f,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:xM,_M=Math.log,bM=Math.LN2;function xM(t){return t>>>=0,t===0?32:31-(_M(t)/bM|0)|0}var qu=64,Yu=4194304;function Dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ih(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Dl(a):(i&=o,i!==0&&(r=Dl(i)))}else o=n&~s,o!==0?r=Dl(o):i!==0&&(r=Dl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),s=1<<n,r|=t[n],e&=~s;return r}function SM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Bn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=SM(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Sg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K1(){var t=qu;return qu<<=1,!(qu&4194240)&&(qu=64),t}function jp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function CM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function $v(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var be=0;function G1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q1,Fv,Y1,Q1,J1,Eg=!1,Qu=[],Ss=null,Es=null,Cs=null,vc=new Map,wc=new Map,ls=[],TM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J_(t,e){switch(t){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":vc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(e.pointerId)}}function yl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=yu(e),e!==null&&Fv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function PM(t,e,n,r,s){switch(e){case"focusin":return Ss=yl(Ss,t,e,n,r,s),!0;case"dragenter":return Es=yl(Es,t,e,n,r,s),!0;case"mouseover":return Cs=yl(Cs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return vc.set(i,yl(vc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wc.set(i,yl(wc.get(i)||null,t,e,n,r,s)),!0}return!1}function X1(t){var e=wi(t.target);if(e!==null){var n=oo(e);if(n!==null){if(e=n.tag,e===13){if(e=U1(n),e!==null){t.blockedOn=e,J1(t.priority,function(){Y1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ad(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wg=r,n.target.dispatchEvent(r),wg=null}else return e=yu(n),e!==null&&Fv(e),t.blockedOn=n,!1;e.shift()}return!0}function X_(t,e,n){Ad(t)&&n.delete(e)}function kM(){Eg=!1,Ss!==null&&Ad(Ss)&&(Ss=null),Es!==null&&Ad(Es)&&(Es=null),Cs!==null&&Ad(Cs)&&(Cs=null),vc.forEach(X_),wc.forEach(X_)}function vl(t,e){t.blockedOn===e&&(t.blockedOn=null,Eg||(Eg=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,kM)))}function _c(t){function e(s){return vl(s,t)}if(0<Qu.length){vl(Qu[0],t);for(var n=1;n<Qu.length;n++){var r=Qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ss!==null&&vl(Ss,t),Es!==null&&vl(Es,t),Cs!==null&&vl(Cs,t),vc.forEach(e),wc.forEach(e),n=0;n<ls.length;n++)r=ls[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ls.length&&(n=ls[0],n.blockedOn===null);)X1(n),n.blockedOn===null&&ls.shift()}var ta=Wr.ReactCurrentBatchConfig,oh=!0;function IM(t,e,n,r){var s=be,i=ta.transition;ta.transition=null;try{be=1,Uv(t,e,n,r)}finally{be=s,ta.transition=i}}function RM(t,e,n,r){var s=be,i=ta.transition;ta.transition=null;try{be=4,Uv(t,e,n,r)}finally{be=s,ta.transition=i}}function Uv(t,e,n,r){if(oh){var s=Cg(t,e,n,r);if(s===null)Gp(t,e,r,ah,n),J_(t,r);else if(PM(s,t,e,n,r))r.stopPropagation();else if(J_(t,r),e&4&&-1<TM.indexOf(t)){for(;s!==null;){var i=yu(s);if(i!==null&&q1(i),i=Cg(t,e,n,r),i===null&&Gp(t,e,r,ah,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gp(t,e,r,null,n)}}var ah=null;function Cg(t,e,n,r){if(ah=null,t=Mv(r),t=wi(t),t!==null)if(e=oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=U1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ah=t,null}function Z1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yM()){case jv:return 1;case z1:return 4;case sh:case vM:return 16;case H1:return 536870912;default:return 16}default:return 16}}var _s=null,Vv=null,Nd=null;function eT(){if(Nd)return Nd;var t,e=Vv,n=e.length,r,s="value"in _s?_s.value:_s.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Nd=s.slice(t,1<r?1-r:void 0)}function Od(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ju(){return!0}function Z_(){return!1}function on(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ju:Z_,this.isPropagationStopped=Z_,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),e}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bv=on(za),gu=Fe({},za,{view:0,detail:0}),AM=on(gu),$p,Fp,wl,bf=Fe({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wl&&(wl&&t.type==="mousemove"?($p=t.screenX-wl.screenX,Fp=t.screenY-wl.screenY):Fp=$p=0,wl=t),$p)},movementY:function(t){return"movementY"in t?t.movementY:Fp}}),eb=on(bf),NM=Fe({},bf,{dataTransfer:0}),OM=on(NM),DM=Fe({},gu,{relatedTarget:0}),Up=on(DM),LM=Fe({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),MM=on(LM),jM=Fe({},za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$M=on(jM),FM=Fe({},za,{data:0}),tb=on(FM),UM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BM[t])?!!e[t]:!1}function Wv(){return WM}var zM=Fe({},gu,{key:function(t){if(t.key){var e=UM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Od(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wv,charCode:function(t){return t.type==="keypress"?Od(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Od(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HM=on(zM),KM=Fe({},bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nb=on(KM),GM=Fe({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wv}),qM=on(GM),YM=Fe({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),QM=on(YM),JM=Fe({},bf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XM=on(JM),ZM=[9,13,27,32],zv=Ar&&"CompositionEvent"in window,zl=null;Ar&&"documentMode"in document&&(zl=document.documentMode);var ej=Ar&&"TextEvent"in window&&!zl,tT=Ar&&(!zv||zl&&8<zl&&11>=zl),rb=" ",sb=!1;function nT(t,e){switch(t){case"keyup":return ZM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function tj(t,e){switch(t){case"compositionend":return rT(e);case"keypress":return e.which!==32?null:(sb=!0,rb);case"textInput":return t=e.data,t===rb&&sb?null:t;default:return null}}function nj(t,e){if(Lo)return t==="compositionend"||!zv&&nT(t,e)?(t=eT(),Nd=Vv=_s=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tT&&e.locale!=="ko"?null:e.data;default:return null}}var rj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ib(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rj[t.type]:e==="textarea"}function sT(t,e,n,r){L1(r),e=lh(e,"onChange"),0<e.length&&(n=new Bv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hl=null,bc=null;function sj(t){mT(t,0)}function xf(t){var e=$o(t);if(k1(e))return t}function ij(t,e){if(t==="change")return e}var iT=!1;if(Ar){var Vp;if(Ar){var Bp="oninput"in document;if(!Bp){var ob=document.createElement("div");ob.setAttribute("oninput","return;"),Bp=typeof ob.oninput=="function"}Vp=Bp}else Vp=!1;iT=Vp&&(!document.documentMode||9<document.documentMode)}function ab(){Hl&&(Hl.detachEvent("onpropertychange",oT),bc=Hl=null)}function oT(t){if(t.propertyName==="value"&&xf(bc)){var e=[];sT(e,bc,t,Mv(t)),F1(sj,e)}}function oj(t,e,n){t==="focusin"?(ab(),Hl=e,bc=n,Hl.attachEvent("onpropertychange",oT)):t==="focusout"&&ab()}function aj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xf(bc)}function lj(t,e){if(t==="click")return xf(e)}function cj(t,e){if(t==="input"||t==="change")return xf(e)}function uj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:uj;function xc(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ag.call(e,s)||!Hn(t[s],e[s]))return!1}return!0}function lb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cb(t,e){var n=lb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lb(n)}}function aT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lT(){for(var t=window,e=th();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=th(t.document)}return e}function Hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dj(t){var e=lT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aT(n.ownerDocument.documentElement,n)){if(r!==null&&Hv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=cb(n,i);var o=cb(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hj=Ar&&"documentMode"in document&&11>=document.documentMode,Mo=null,Tg=null,Kl=null,Pg=!1;function ub(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pg||Mo==null||Mo!==th(r)||(r=Mo,"selectionStart"in r&&Hv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kl&&xc(Kl,r)||(Kl=r,r=lh(Tg,"onSelect"),0<r.length&&(e=new Bv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mo)))}function Xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jo={animationend:Xu("Animation","AnimationEnd"),animationiteration:Xu("Animation","AnimationIteration"),animationstart:Xu("Animation","AnimationStart"),transitionend:Xu("Transition","TransitionEnd")},Wp={},cT={};Ar&&(cT=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Sf(t){if(Wp[t])return Wp[t];if(!jo[t])return t;var e=jo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cT)return Wp[t]=e[n];return t}var uT=Sf("animationend"),dT=Sf("animationiteration"),hT=Sf("animationstart"),fT=Sf("transitionend"),pT=new Map,db="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(t,e){pT.set(t,e),io(e,[t])}for(var zp=0;zp<db.length;zp++){var Hp=db[zp],fj=Hp.toLowerCase(),pj=Hp[0].toUpperCase()+Hp.slice(1);Ys(fj,"on"+pj)}Ys(uT,"onAnimationEnd");Ys(dT,"onAnimationIteration");Ys(hT,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys(fT,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function hb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fM(r,e,void 0,t),t.currentTarget=null}function mT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;hb(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;hb(s,a,c),i=l}}}if(rh)throw t=xg,rh=!1,xg=null,t}function Re(t,e){var n=e[Ng];n===void 0&&(n=e[Ng]=new Set);var r=t+"__bubble";n.has(r)||(gT(e,t,2,!1),n.add(r))}function Kp(t,e,n){var r=0;e&&(r|=4),gT(n,t,r,e)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Sc(t){if(!t[Zu]){t[Zu]=!0,S1.forEach(function(n){n!=="selectionchange"&&(mj.has(n)||Kp(n,!1,t),Kp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zu]||(e[Zu]=!0,Kp("selectionchange",!1,e))}}function gT(t,e,n,r){switch(Z1(e)){case 1:var s=IM;break;case 4:s=RM;break;default:s=Uv}n=s.bind(null,e,n,t),s=void 0,!bg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=wi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}F1(function(){var c=i,u=Mv(n),d=[];e:{var h=pT.get(t);if(h!==void 0){var f=Bv,g=t;switch(t){case"keypress":if(Od(n)===0)break e;case"keydown":case"keyup":f=HM;break;case"focusin":g="focus",f=Up;break;case"focusout":g="blur",f=Up;break;case"beforeblur":case"afterblur":f=Up;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=eb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=OM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=qM;break;case uT:case dT:case hT:f=MM;break;case fT:f=QM;break;case"scroll":f=AM;break;case"wheel":f=XM;break;case"copy":case"cut":case"paste":f=$M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nb}var m=(e&4)!==0,_=!m&&t==="scroll",w=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,w!==null&&(x=yc(v,w),x!=null&&m.push(Ec(v,x,b)))),_)break;v=v.return}0<m.length&&(h=new f(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==wg&&(g=n.relatedTarget||n.fromElement)&&(wi(g)||g[Nr]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=c,g=g?wi(g):null,g!==null&&(_=oo(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(m=eb,x="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=nb,x="onPointerLeave",w="onPointerEnter",v="pointer"),_=f==null?h:$o(f),b=g==null?h:$o(g),h=new m(x,v+"leave",f,n,u),h.target=_,h.relatedTarget=b,x=null,wi(u)===c&&(m=new m(w,v+"enter",g,n,u),m.target=b,m.relatedTarget=_,x=m),_=x,f&&g)t:{for(m=f,w=g,v=0,b=m;b;b=wo(b))v++;for(b=0,x=w;x;x=wo(x))b++;for(;0<v-b;)m=wo(m),v--;for(;0<b-v;)w=wo(w),b--;for(;v--;){if(m===w||w!==null&&m===w.alternate)break t;m=wo(m),w=wo(w)}m=null}else m=null;f!==null&&fb(d,h,f,m,!1),g!==null&&_!==null&&fb(d,_,g,m,!0)}}e:{if(h=c?$o(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=ij;else if(ib(h))if(iT)S=cj;else{S=aj;var E=oj}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=lj);if(S&&(S=S(t,c))){sT(d,S,n,u);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&pg(h,"number",h.value)}switch(E=c?$o(c):window,t){case"focusin":(ib(E)||E.contentEditable==="true")&&(Mo=E,Tg=c,Kl=null);break;case"focusout":Kl=Tg=Mo=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,ub(d,n,u);break;case"selectionchange":if(hj)break;case"keydown":case"keyup":ub(d,n,u)}var C;if(zv)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Lo?nT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(tT&&n.locale!=="ko"&&(Lo||T!=="onCompositionStart"?T==="onCompositionEnd"&&Lo&&(C=eT()):(_s=u,Vv="value"in _s?_s.value:_s.textContent,Lo=!0)),E=lh(c,T),0<E.length&&(T=new tb(T,t,null,n,u),d.push({event:T,listeners:E}),C?T.data=C:(C=rT(n),C!==null&&(T.data=C)))),(C=ej?tj(t,n):nj(t,n))&&(c=lh(c,"onBeforeInput"),0<c.length&&(u=new tb("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}mT(d,e)})}function Ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=yc(t,n),i!=null&&r.unshift(Ec(t,i,s)),i=yc(t,e),i!=null&&r.push(Ec(t,i,s))),t=t.return}return r}function wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=yc(n,i),l!=null&&o.unshift(Ec(n,l,a))):s||(l=yc(n,i),l!=null&&o.push(Ec(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gj=/\r\n?/g,yj=/\u0000|\uFFFD/g;function pb(t){return(typeof t=="string"?t:""+t).replace(gj,`
`).replace(yj,"")}function ed(t,e,n){if(e=pb(e),pb(t)!==e&&n)throw Error(D(425))}function ch(){}var kg=null,Ig=null;function Rg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ag=typeof setTimeout=="function"?setTimeout:void 0,vj=typeof clearTimeout=="function"?clearTimeout:void 0,mb=typeof Promise=="function"?Promise:void 0,wj=typeof queueMicrotask=="function"?queueMicrotask:typeof mb<"u"?function(t){return mb.resolve(null).then(t).catch(_j)}:Ag;function _j(t){setTimeout(function(){throw t})}function qp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),_c(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_c(e)}function Ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),nr="__reactFiber$"+Ha,Cc="__reactProps$"+Ha,Nr="__reactContainer$"+Ha,Ng="__reactEvents$"+Ha,bj="__reactListeners$"+Ha,xj="__reactHandles$"+Ha;function wi(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nr]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gb(t);t!==null;){if(n=t[nr])return n;t=gb(t)}return e}t=n,n=t.parentNode}return null}function yu(t){return t=t[nr]||t[Nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Ef(t){return t[Cc]||null}var Og=[],Fo=-1;function Qs(t){return{current:t}}function Ne(t){0>Fo||(t.current=Og[Fo],Og[Fo]=null,Fo--)}function ke(t,e){Fo++,Og[Fo]=t.current,t.current=e}var Vs={},Et=Qs(Vs),Ht=Qs(!1),Bi=Vs;function Sa(t,e){var n=t.type.contextTypes;if(!n)return Vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Kt(t){return t=t.childContextTypes,t!=null}function uh(){Ne(Ht),Ne(Et)}function yb(t,e,n){if(Et.current!==Vs)throw Error(D(168));ke(Et,e),ke(Ht,n)}function yT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(D(108,oM(t)||"Unknown",s));return Fe({},n,r)}function dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vs,Bi=Et.current,ke(Et,t),ke(Ht,Ht.current),!0}function vb(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=yT(t,e,Bi),r.__reactInternalMemoizedMergedChildContext=t,Ne(Ht),Ne(Et),ke(Et,t)):Ne(Ht),ke(Ht,n)}var xr=null,Cf=!1,Yp=!1;function vT(t){xr===null?xr=[t]:xr.push(t)}function Sj(t){Cf=!0,vT(t)}function Js(){if(!Yp&&xr!==null){Yp=!0;var t=0,e=be;try{var n=xr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,Cf=!1}catch(s){throw xr!==null&&(xr=xr.slice(t+1)),W1(jv,Js),s}finally{be=e,Yp=!1}}return null}var Uo=[],Vo=0,hh=null,fh=0,hn=[],fn=0,Wi=null,Er=1,Cr="";function di(t,e){Uo[Vo++]=fh,Uo[Vo++]=hh,hh=t,fh=e}function wT(t,e,n){hn[fn++]=Er,hn[fn++]=Cr,hn[fn++]=Wi,Wi=t;var r=Er;t=Cr;var s=32-Bn(r)-1;r&=~(1<<s),n+=1;var i=32-Bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Er=1<<32-Bn(e)+s|n<<s|r,Cr=i+t}else Er=1<<i|n<<s|r,Cr=t}function Kv(t){t.return!==null&&(di(t,1),wT(t,1,0))}function Gv(t){for(;t===hh;)hh=Uo[--Vo],Uo[Vo]=null,fh=Uo[--Vo],Uo[Vo]=null;for(;t===Wi;)Wi=hn[--fn],hn[fn]=null,Cr=hn[--fn],hn[fn]=null,Er=hn[--fn],hn[fn]=null}var tn=null,Zt=null,De=!1,Mn=null;function _T(t,e){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,Zt=Ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wi!==null?{id:Er,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,Zt=null,!0):!1;default:return!1}}function Dg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lg(t){if(De){var e=Zt;if(e){var n=e;if(!wb(t,e)){if(Dg(t))throw Error(D(418));e=Ts(n.nextSibling);var r=tn;e&&wb(t,e)?_T(r,n):(t.flags=t.flags&-4097|2,De=!1,tn=t)}}else{if(Dg(t))throw Error(D(418));t.flags=t.flags&-4097|2,De=!1,tn=t}}}function _b(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function td(t){if(t!==tn)return!1;if(!De)return _b(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rg(t.type,t.memoizedProps)),e&&(e=Zt)){if(Dg(t))throw bT(),Error(D(418));for(;e;)_T(t,e),e=Ts(e.nextSibling)}if(_b(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=Ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=tn?Ts(t.stateNode.nextSibling):null;return!0}function bT(){for(var t=Zt;t;)t=Ts(t.nextSibling)}function Ea(){Zt=tn=null,De=!1}function qv(t){Mn===null?Mn=[t]:Mn.push(t)}var Ej=Wr.ReactCurrentBatchConfig;function _l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function nd(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bb(t){var e=t._init;return e(t._payload)}function xT(t){function e(w,v){if(t){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Rs(w,v),w.index=0,w.sibling=null,w}function i(w,v,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,b,x){return v===null||v.tag!==6?(v=nm(b,w.mode,x),v.return=w,v):(v=s(v,b),v.return=w,v)}function l(w,v,b,x){var S=b.type;return S===Do?u(w,v,b.props.children,x,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===os&&bb(S)===v.type)?(x=s(v,b.props),x.ref=_l(w,v,b),x.return=w,x):(x=Ud(b.type,b.key,b.props,null,w.mode,x),x.ref=_l(w,v,b),x.return=w,x)}function c(w,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=rm(b,w.mode,x),v.return=w,v):(v=s(v,b.children||[]),v.return=w,v)}function u(w,v,b,x,S){return v===null||v.tag!==7?(v=Di(b,w.mode,x,S),v.return=w,v):(v=s(v,b),v.return=w,v)}function d(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=nm(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hu:return b=Ud(v.type,v.key,v.props,null,w.mode,b),b.ref=_l(w,null,v),b.return=w,b;case Oo:return v=rm(v,w.mode,b),v.return=w,v;case os:var x=v._init;return d(w,x(v._payload),b)}if(Ol(v)||ml(v))return v=Di(v,w.mode,b,null),v.return=w,v;nd(w,v)}return null}function h(w,v,b,x){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(w,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hu:return b.key===S?l(w,v,b,x):null;case Oo:return b.key===S?c(w,v,b,x):null;case os:return S=b._init,h(w,v,S(b._payload),x)}if(Ol(b)||ml(b))return S!==null?null:u(w,v,b,x,null);nd(w,b)}return null}function f(w,v,b,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(b)||null,a(v,w,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hu:return w=w.get(x.key===null?b:x.key)||null,l(v,w,x,S);case Oo:return w=w.get(x.key===null?b:x.key)||null,c(v,w,x,S);case os:var E=x._init;return f(w,v,b,E(x._payload),S)}if(Ol(x)||ml(x))return w=w.get(b)||null,u(v,w,x,S,null);nd(v,x)}return null}function g(w,v,b,x){for(var S=null,E=null,C=v,T=v=0,P=null;C!==null&&T<b.length;T++){C.index>T?(P=C,C=null):P=C.sibling;var I=h(w,C,b[T],x);if(I===null){C===null&&(C=P);break}t&&C&&I.alternate===null&&e(w,C),v=i(I,v,T),E===null?S=I:E.sibling=I,E=I,C=P}if(T===b.length)return n(w,C),De&&di(w,T),S;if(C===null){for(;T<b.length;T++)C=d(w,b[T],x),C!==null&&(v=i(C,v,T),E===null?S=C:E.sibling=C,E=C);return De&&di(w,T),S}for(C=r(w,C);T<b.length;T++)P=f(C,w,T,b[T],x),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),v=i(P,v,T),E===null?S=P:E.sibling=P,E=P);return t&&C.forEach(function(O){return e(w,O)}),De&&di(w,T),S}function m(w,v,b,x){var S=ml(b);if(typeof S!="function")throw Error(D(150));if(b=S.call(b),b==null)throw Error(D(151));for(var E=S=null,C=v,T=v=0,P=null,I=b.next();C!==null&&!I.done;T++,I=b.next()){C.index>T?(P=C,C=null):P=C.sibling;var O=h(w,C,I.value,x);if(O===null){C===null&&(C=P);break}t&&C&&O.alternate===null&&e(w,C),v=i(O,v,T),E===null?S=O:E.sibling=O,E=O,C=P}if(I.done)return n(w,C),De&&di(w,T),S;if(C===null){for(;!I.done;T++,I=b.next())I=d(w,I.value,x),I!==null&&(v=i(I,v,T),E===null?S=I:E.sibling=I,E=I);return De&&di(w,T),S}for(C=r(w,C);!I.done;T++,I=b.next())I=f(C,w,T,I.value,x),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),v=i(I,v,T),E===null?S=I:E.sibling=I,E=I);return t&&C.forEach(function(L){return e(w,L)}),De&&di(w,T),S}function _(w,v,b,x){if(typeof b=="object"&&b!==null&&b.type===Do&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Hu:e:{for(var S=b.key,E=v;E!==null;){if(E.key===S){if(S=b.type,S===Do){if(E.tag===7){n(w,E.sibling),v=s(E,b.props.children),v.return=w,w=v;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===os&&bb(S)===E.type){n(w,E.sibling),v=s(E,b.props),v.ref=_l(w,E,b),v.return=w,w=v;break e}n(w,E);break}else e(w,E);E=E.sibling}b.type===Do?(v=Di(b.props.children,w.mode,x,b.key),v.return=w,w=v):(x=Ud(b.type,b.key,b.props,null,w.mode,x),x.ref=_l(w,v,b),x.return=w,w=x)}return o(w);case Oo:e:{for(E=b.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(w,v.sibling),v=s(v,b.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=rm(b,w.mode,x),v.return=w,w=v}return o(w);case os:return E=b._init,_(w,v,E(b._payload),x)}if(Ol(b))return g(w,v,b,x);if(ml(b))return m(w,v,b,x);nd(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,b),v.return=w,w=v):(n(w,v),v=nm(b,w.mode,x),v.return=w,w=v),o(w)):n(w,v)}return _}var Ca=xT(!0),ST=xT(!1),ph=Qs(null),mh=null,Bo=null,Yv=null;function Qv(){Yv=Bo=mh=null}function Jv(t){var e=ph.current;Ne(ph),t._currentValue=e}function Mg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function na(t,e){mh=t,Yv=Bo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Yv!==t)if(t={context:t,memoizedValue:e,next:null},Bo===null){if(mh===null)throw Error(D(308));Bo=t,mh.dependencies={lanes:0,firstContext:t}}else Bo=Bo.next=t;return e}var _i=null;function Xv(t){_i===null?_i=[t]:_i.push(t)}function ET(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Xv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Or(t,r)}function Or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var as=!1;function Zv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Or(t,n)}return s=r.interleaved,s===null?(e.next=e,Xv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Or(t,n)}function Dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$v(t,n)}}function xb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gh(t,e,n,r){var s=t.updateQueue;as=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(h=e,f=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=Fe({},d,h);break e;case 2:as=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Hi|=o,t.lanes=o,t.memoizedState=d}}function Sb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var vu={},ar=Qs(vu),Tc=Qs(vu),Pc=Qs(vu);function bi(t){if(t===vu)throw Error(D(174));return t}function ew(t,e){switch(ke(Pc,e),ke(Tc,t),ke(ar,vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gg(e,t)}Ne(ar),ke(ar,e)}function Ta(){Ne(ar),Ne(Tc),Ne(Pc)}function TT(t){bi(Pc.current);var e=bi(ar.current),n=gg(e,t.type);e!==n&&(ke(Tc,t),ke(ar,n))}function tw(t){Tc.current===t&&(Ne(ar),Ne(Tc))}var Me=Qs(0);function yh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qp=[];function nw(){for(var t=0;t<Qp.length;t++)Qp[t]._workInProgressVersionPrimary=null;Qp.length=0}var Ld=Wr.ReactCurrentDispatcher,Jp=Wr.ReactCurrentBatchConfig,zi=0,$e=null,et=null,ot=null,vh=!1,Gl=!1,kc=0,Cj=0;function vt(){throw Error(D(321))}function rw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function sw(t,e,n,r,s,i){if(zi=i,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ld.current=t===null||t.memoizedState===null?Ij:Rj,t=n(r,s),Gl){i=0;do{if(Gl=!1,kc=0,25<=i)throw Error(D(301));i+=1,ot=et=null,e.updateQueue=null,Ld.current=Aj,t=n(r,s)}while(Gl)}if(Ld.current=wh,e=et!==null&&et.next!==null,zi=0,ot=et=$e=null,vh=!1,e)throw Error(D(300));return t}function iw(){var t=kc!==0;return kc=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?$e.memoizedState=ot=t:ot=ot.next=t,ot}function _n(){if(et===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=ot===null?$e.memoizedState:ot.next;if(e!==null)ot=e,et=t;else{if(t===null)throw Error(D(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},ot===null?$e.memoizedState=ot=t:ot=ot.next=t}return ot}function Ic(t,e){return typeof e=="function"?e(t):e}function Xp(t){var e=_n(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((zi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,$e.lanes|=u,Hi|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(Vt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,$e.lanes|=i,Hi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zp(t){var e=_n(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Hn(i,e.memoizedState)||(Vt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function PT(){}function kT(t,e){var n=$e,r=_n(),s=e(),i=!Hn(r.memoizedState,s);if(i&&(r.memoizedState=s,Vt=!0),r=r.queue,ow(AT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Rc(9,RT.bind(null,n,r,s,e),void 0,null),ut===null)throw Error(D(349));zi&30||IT(n,e,s)}return s}function IT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RT(t,e,n,r){e.value=n,e.getSnapshot=r,NT(e)&&OT(t)}function AT(t,e,n){return n(function(){NT(e)&&OT(t)})}function NT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function OT(t){var e=Or(t,1);e!==null&&Wn(e,t,1,-1)}function Eb(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:t},e.queue=t,t=t.dispatch=kj.bind(null,$e,t),[e.memoizedState,t]}function Rc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DT(){return _n().memoizedState}function Md(t,e,n,r){var s=Qn();$e.flags|=t,s.memoizedState=Rc(1|e,n,void 0,r===void 0?null:r)}function Tf(t,e,n,r){var s=_n();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&rw(r,o.deps)){s.memoizedState=Rc(e,n,i,r);return}}$e.flags|=t,s.memoizedState=Rc(1|e,n,i,r)}function Cb(t,e){return Md(8390656,8,t,e)}function ow(t,e){return Tf(2048,8,t,e)}function LT(t,e){return Tf(4,2,t,e)}function MT(t,e){return Tf(4,4,t,e)}function jT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $T(t,e,n){return n=n!=null?n.concat([t]):null,Tf(4,4,jT.bind(null,e,t),n)}function aw(){}function FT(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UT(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VT(t,e,n){return zi&21?(Hn(n,e)||(n=K1(),$e.lanes|=n,Hi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function Tj(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=Jp.transition;Jp.transition={};try{t(!1),e()}finally{be=n,Jp.transition=r}}function BT(){return _n().memoizedState}function Pj(t,e,n){var r=Is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WT(t))zT(e,n);else if(n=ET(t,e,n,r),n!==null){var s=Nt();Wn(n,t,r,s),HT(n,e,r)}}function kj(t,e,n){var r=Is(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WT(t))zT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(s.next=s,Xv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=ET(t,e,s,r),n!==null&&(s=Nt(),Wn(n,t,r,s),HT(n,e,r))}}function WT(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function zT(t,e){Gl=vh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$v(t,n)}}var wh={readContext:wn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Ij={readContext:wn,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:Cb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Md(4194308,4,jT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Md(4194308,4,t,e)},useInsertionEffect:function(t,e){return Md(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Pj.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:Eb,useDebugValue:aw,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=Eb(!1),e=t[0];return t=Tj.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,s=Qn();if(De){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),ut===null)throw Error(D(349));zi&30||IT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Cb(AT.bind(null,r,i,t),[t]),r.flags|=2048,Rc(9,RT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Qn(),e=ut.identifierPrefix;if(De){var n=Cr,r=Er;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Cj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Rj={readContext:wn,useCallback:FT,useContext:wn,useEffect:ow,useImperativeHandle:$T,useInsertionEffect:LT,useLayoutEffect:MT,useMemo:UT,useReducer:Xp,useRef:DT,useState:function(){return Xp(Ic)},useDebugValue:aw,useDeferredValue:function(t){var e=_n();return VT(e,et.memoizedState,t)},useTransition:function(){var t=Xp(Ic)[0],e=_n().memoizedState;return[t,e]},useMutableSource:PT,useSyncExternalStore:kT,useId:BT,unstable_isNewReconciler:!1},Aj={readContext:wn,useCallback:FT,useContext:wn,useEffect:ow,useImperativeHandle:$T,useInsertionEffect:LT,useLayoutEffect:MT,useMemo:UT,useReducer:Zp,useRef:DT,useState:function(){return Zp(Ic)},useDebugValue:aw,useDeferredValue:function(t){var e=_n();return et===null?e.memoizedState=t:VT(e,et.memoizedState,t)},useTransition:function(){var t=Zp(Ic)[0],e=_n().memoizedState;return[t,e]},useMutableSource:PT,useSyncExternalStore:kT,useId:BT,unstable_isNewReconciler:!1};function Rn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pf={isMounted:function(t){return(t=t._reactInternals)?oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=Is(t),i=Ir(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(Wn(e,t,s,r),Dd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=Is(t),i=Ir(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(Wn(e,t,s,r),Dd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=Is(t),s=Ir(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ps(t,s,r),e!==null&&(Wn(e,t,r,n),Dd(e,t,r))}};function Tb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xc(n,r)||!xc(s,i):!0}function KT(t,e,n){var r=!1,s=Vs,i=e.contextType;return typeof i=="object"&&i!==null?i=wn(i):(s=Kt(e)?Bi:Et.current,r=e.contextTypes,i=(r=r!=null)?Sa(t,s):Vs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Pb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pf.enqueueReplaceState(e,e.state,null)}function $g(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Zv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wn(i):(i=Kt(e)?Bi:Et.current,s.context=Sa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(jg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Pf.enqueueReplaceState(s,s.state,null),gh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e){try{var n="",r=e;do n+=iM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function em(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Nj=typeof WeakMap=="function"?WeakMap:Map;function GT(t,e,n){n=Ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bh||(bh=!0,Yg=r),Fg(t,e)},n}function qT(t,e,n){n=Ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Fg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fg(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Nj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Kj.bind(null,t,e,n),e.then(t,t))}function Ib(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ir(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var Oj=Wr.ReactCurrentOwner,Vt=!1;function kt(t,e,n,r){e.child=t===null?ST(e,null,n,r):Ca(e,t.child,n,r)}function Ab(t,e,n,r,s){n=n.render;var i=e.ref;return na(e,s),r=sw(t,e,n,r,i,s),n=iw(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dr(t,e,s)):(De&&n&&Kv(e),e.flags|=1,kt(t,e,r,s),e.child)}function Nb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!mw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,YT(t,e,i,r,s)):(t=Ud(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xc,n(o,r)&&t.ref===e.ref)return Dr(t,e,s)}return e.flags|=1,t=Rs(i,r),t.ref=e.ref,t.return=e,e.child=t}function YT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xc(i,r)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,Dr(t,e,s)}return Ug(t,e,n,r,s)}function QT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(zo,Jt),Jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(zo,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(zo,Jt),Jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ke(zo,Jt),Jt|=r;return kt(t,e,s,n),e.child}function JT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ug(t,e,n,r,s){var i=Kt(n)?Bi:Et.current;return i=Sa(e,i),na(e,s),n=sw(t,e,n,r,i,s),r=iw(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dr(t,e,s)):(De&&r&&Kv(e),e.flags|=1,kt(t,e,n,s),e.child)}function Ob(t,e,n,r,s){if(Kt(n)){var i=!0;dh(e)}else i=!1;if(na(e,s),e.stateNode===null)jd(t,e),KT(e,n,r),$g(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=Kt(n)?Bi:Et.current,c=Sa(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Pb(e,o,r,c),as=!1;var h=e.memoizedState;o.state=h,gh(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Ht.current||as?(typeof u=="function"&&(jg(e,n,u,r),l=e.memoizedState),(a=as||Tb(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Rn(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Kt(n)?Bi:Et.current,l=Sa(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Pb(e,o,r,l),as=!1,h=e.memoizedState,o.state=h,gh(e,r,o,s);var g=e.memoizedState;a!==d||h!==g||Ht.current||as?(typeof f=="function"&&(jg(e,n,f,r),g=e.memoizedState),(c=as||Tb(e,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Vg(t,e,n,r,i,s)}function Vg(t,e,n,r,s,i){JT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&vb(e,n,!1),Dr(t,e,i);r=e.stateNode,Oj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ca(e,t.child,null,i),e.child=Ca(e,null,a,i)):kt(t,e,a,i),e.memoizedState=r.state,s&&vb(e,n,!0),e.child}function XT(t){var e=t.stateNode;e.pendingContext?yb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yb(t,e.context,!1),ew(t,e.containerInfo)}function Db(t,e,n,r,s){return Ea(),qv(s),e.flags|=256,kt(t,e,n,r),e.child}var Bg={dehydrated:null,treeContext:null,retryLane:0};function Wg(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZT(t,e,n){var r=e.pendingProps,s=Me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ke(Me,s&1),t===null)return Lg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Rf(o,r,0,null),t=Di(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wg(n),e.memoizedState=Bg,t):lw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Dj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Rs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Rs(a,i):(i=Di(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Wg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Bg,r}return i=t.child,t=i.sibling,r=Rs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lw(t,e){return e=Rf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rd(t,e,n,r){return r!==null&&qv(r),Ca(e,t.child,null,n),t=lw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=em(Error(D(422))),rd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Rf({mode:"visible",children:r.children},s,0,null),i=Di(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ca(e,t.child,null,o),e.child.memoizedState=Wg(o),e.memoizedState=Bg,i);if(!(e.mode&1))return rd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(D(419)),r=em(i,r,void 0),rd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vt||a){if(r=ut,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Or(t,s),Wn(r,t,s,-1))}return pw(),r=em(Error(D(421))),rd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Gj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Zt=Ts(s.nextSibling),tn=e,De=!0,Mn=null,t!==null&&(hn[fn++]=Er,hn[fn++]=Cr,hn[fn++]=Wi,Er=t.id,Cr=t.overflow,Wi=e),e=lw(e,r.children),e.flags|=4096,e)}function Lb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mg(t.return,e,n)}function tm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function eP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(kt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lb(t,n,e);else if(t.tag===19)Lb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&yh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),tm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}tm(e,!0,n,null,i);break;case"together":tm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Lj(t,e,n){switch(e.tag){case 3:XT(e),Ea();break;case 5:TT(e);break;case 1:Kt(e.type)&&dh(e);break;case 4:ew(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ke(ph,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?ZT(t,e,n):(ke(Me,Me.current&1),t=Dr(t,e,n),t!==null?t.sibling:null);ke(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,QT(t,e,n)}return Dr(t,e,n)}var tP,zg,nP,rP;tP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zg=function(){};nP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bi(ar.current);var i=null;switch(n){case"input":s=hg(t,s),r=hg(t,r),i=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":s=mg(t,s),r=mg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ch)}yg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Re("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};rP=function(t,e,n,r){n!==r&&(e.flags|=4)};function bl(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Mj(t,e,n){var r=e.pendingProps;switch(Gv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Kt(e.type)&&uh(),wt(e),null;case 3:return r=e.stateNode,Ta(),Ne(Ht),Ne(Et),nw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(td(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mn!==null&&(Xg(Mn),Mn=null))),zg(t,e),wt(e),null;case 5:tw(e);var s=bi(Pc.current);if(n=e.type,t!==null&&e.stateNode!=null)nP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return wt(e),null}if(t=bi(ar.current),td(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[nr]=e,r[Cc]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<Ll.length;s++)Re(Ll[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":z_(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":K_(r,i),Re("invalid",r)}yg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ed(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ed(r.textContent,a,t),s=["children",""+a]):mc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":Ku(r),H_(r,i,!0);break;case"textarea":Ku(r),G_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ch)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nr]=e,t[Cc]=r,tP(t,e,!1,!1),e.stateNode=t;e:{switch(o=vg(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ll.length;s++)Re(Ll[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":z_(t,r),s=hg(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),Re("invalid",t);break;case"textarea":K_(t,r),s=mg(t,r),Re("invalid",t);break;default:s=r}yg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?D1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gc(t,l):typeof l=="number"&&gc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Re("scroll",t):l!=null&&Nv(t,i,l,o))}switch(n){case"input":Ku(t),H_(t,r,!1);break;case"textarea":Ku(t),G_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Us(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Xo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ch)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)rP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=bi(Pc.current),bi(ar.current),td(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(i=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:ed(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ed(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return wt(e),null;case 13:if(Ne(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Zt!==null&&e.mode&1&&!(e.flags&128))bT(),Ea(),e.flags|=98560,i=!1;else if(i=td(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[nr]=e}else Ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),i=!1}else Mn!==null&&(Xg(Mn),Mn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?rt===0&&(rt=3):pw())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return Ta(),zg(t,e),t===null&&Sc(e.stateNode.containerInfo),wt(e),null;case 10:return Jv(e.type._context),wt(e),null;case 17:return Kt(e.type)&&uh(),wt(e),null;case 19:if(Ne(Me),i=e.memoizedState,i===null)return wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)bl(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yh(t),o!==null){for(e.flags|=128,bl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Me,Me.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>ka&&(e.flags|=128,r=!0,bl(i,!1),e.lanes=4194304)}else{if(!r)if(t=yh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!De)return wt(e),null}else 2*Ge()-i.renderingStartTime>ka&&n!==1073741824&&(e.flags|=128,r=!0,bl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=Me.current,ke(Me,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return fw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function jj(t,e){switch(Gv(e),e.tag){case 1:return Kt(e.type)&&uh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ta(),Ne(Ht),Ne(Et),nw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tw(e),null;case 13:if(Ne(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Me),null;case 4:return Ta(),null;case 10:return Jv(e.type._context),null;case 22:case 23:return fw(),null;case 24:return null;default:return null}}var sd=!1,bt=!1,$j=typeof WeakSet=="function"?WeakSet:Set,W=null;function Wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function Hg(t,e,n){try{n()}catch(r){ze(t,e,r)}}var Mb=!1;function Fj(t,e){if(kg=oh,t=lT(),Hv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ig={focusedElem:t,selectionRange:n},oh=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,_=g.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?m:Rn(e.type,m),_);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(x){ze(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return g=Mb,Mb=!1,g}function ql(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Hg(e,n,i)}s=s.next}while(s!==r)}}function kf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sP(t){var e=t.alternate;e!==null&&(t.alternate=null,sP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[Cc],delete e[Ng],delete e[bj],delete e[xj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iP(t){return t.tag===5||t.tag===3||t.tag===4}function jb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ch));else if(r!==4&&(t=t.child,t!==null))for(Gg(t,e,n),t=t.sibling;t!==null;)Gg(t,e,n),t=t.sibling}function qg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qg(t,e,n),t=t.sibling;t!==null;)qg(t,e,n),t=t.sibling}var ht=null,Dn=!1;function Jr(t,e,n){for(n=n.child;n!==null;)oP(t,e,n),n=n.sibling}function oP(t,e,n){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(_f,n)}catch{}switch(n.tag){case 5:bt||Wo(n,e);case 6:var r=ht,s=Dn;ht=null,Jr(t,e,n),ht=r,Dn=s,ht!==null&&(Dn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Dn?(t=ht,n=n.stateNode,t.nodeType===8?qp(t.parentNode,n):t.nodeType===1&&qp(t,n),_c(t)):qp(ht,n.stateNode));break;case 4:r=ht,s=Dn,ht=n.stateNode.containerInfo,Dn=!0,Jr(t,e,n),ht=r,Dn=s;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Hg(n,e,o),s=s.next}while(s!==r)}Jr(t,e,n);break;case 1:if(!bt&&(Wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Jr(t,e,n),bt=r):Jr(t,e,n);break;default:Jr(t,e,n)}}function $b(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $j),e.forEach(function(r){var s=qj.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,Dn=!1;break e;case 3:ht=a.stateNode.containerInfo,Dn=!0;break e;case 4:ht=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(ht===null)throw Error(D(160));oP(i,o,s),ht=null,Dn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ze(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aP(e,t),e=e.sibling}function aP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(e,t),Yn(t),r&4){try{ql(3,t,t.return),kf(3,t)}catch(m){ze(t,t.return,m)}try{ql(5,t,t.return)}catch(m){ze(t,t.return,m)}}break;case 1:Cn(e,t),Yn(t),r&512&&n!==null&&Wo(n,n.return);break;case 5:if(Cn(e,t),Yn(t),r&512&&n!==null&&Wo(n,n.return),t.flags&32){var s=t.stateNode;try{gc(s,"")}catch(m){ze(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&I1(s,i),vg(a,o);var c=vg(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?D1(s,d):u==="dangerouslySetInnerHTML"?N1(s,d):u==="children"?gc(s,d):Nv(s,u,d,c)}switch(a){case"input":fg(s,i);break;case"textarea":R1(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Xo(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Xo(s,!!i.multiple,i.defaultValue,!0):Xo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cc]=i}catch(m){ze(t,t.return,m)}}break;case 6:if(Cn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){ze(t,t.return,m)}}break;case 3:if(Cn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_c(e.containerInfo)}catch(m){ze(t,t.return,m)}break;case 4:Cn(e,t),Yn(t);break;case 13:Cn(e,t),Yn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dw=Ge())),r&4&&$b(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(c=bt)||u,Cn(e,t),bt=c):Cn(e,t),Yn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(W=t,u=t.child;u!==null;){for(d=W=u;W!==null;){switch(h=W,f=h.child,h.tag){case 0:case 11:case 14:case 15:ql(4,h,h.return);break;case 1:Wo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){ze(r,n,m)}}break;case 5:Wo(h,h.return);break;case 22:if(h.memoizedState!==null){Ub(d);continue}}f!==null?(f.return=h,W=f):Ub(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=O1("display",o))}catch(m){ze(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ze(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Cn(e,t),Yn(t),r&4&&$b(t);break;case 21:break;default:Cn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iP(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gc(s,""),r.flags&=-33);var i=jb(t);qg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jb(t);Gg(t,a,o);break;default:throw Error(D(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Uj(t,e,n){W=t,lP(t)}function lP(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||sd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||bt;a=sd;var c=bt;if(sd=o,(bt=l)&&!c)for(W=s;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?Vb(s):l!==null?(l.return=o,W=l):Vb(s);for(;i!==null;)W=i,lP(i),i=i.sibling;W=s,sd=a,bt=c}Fb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):Fb(t)}}function Fb(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||kf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Sb(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&_c(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}bt||e.flags&512&&Kg(e)}catch(h){ze(e,e.return,h)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Ub(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Vb(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kf(4,e)}catch(l){ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ze(e,s,l)}}var i=e.return;try{Kg(e)}catch(l){ze(e,i,l)}break;case 5:var o=e.return;try{Kg(e)}catch(l){ze(e,o,l)}}}catch(l){ze(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var Vj=Math.ceil,_h=Wr.ReactCurrentDispatcher,cw=Wr.ReactCurrentOwner,gn=Wr.ReactCurrentBatchConfig,pe=0,ut=null,Je=null,pt=0,Jt=0,zo=Qs(0),rt=0,Ac=null,Hi=0,If=0,uw=0,Yl=null,Ft=null,dw=0,ka=1/0,_r=null,bh=!1,Yg=null,ks=null,id=!1,bs=null,xh=0,Ql=0,Qg=null,$d=-1,Fd=0;function Nt(){return pe&6?Ge():$d!==-1?$d:$d=Ge()}function Is(t){return t.mode&1?pe&2&&pt!==0?pt&-pt:Ej.transition!==null?(Fd===0&&(Fd=K1()),Fd):(t=be,t!==0||(t=window.event,t=t===void 0?16:Z1(t.type)),t):1}function Wn(t,e,n,r){if(50<Ql)throw Ql=0,Qg=null,Error(D(185));mu(t,n,r),(!(pe&2)||t!==ut)&&(t===ut&&(!(pe&2)&&(If|=n),rt===4&&cs(t,pt)),Gt(t,r),n===1&&pe===0&&!(e.mode&1)&&(ka=Ge()+500,Cf&&Js()))}function Gt(t,e){var n=t.callbackNode;EM(t,e);var r=ih(t,t===ut?pt:0);if(r===0)n!==null&&Q_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Q_(n),e===1)t.tag===0?Sj(Bb.bind(null,t)):vT(Bb.bind(null,t)),wj(function(){!(pe&6)&&Js()}),n=null;else{switch(G1(r)){case 1:n=jv;break;case 4:n=z1;break;case 16:n=sh;break;case 536870912:n=H1;break;default:n=sh}n=gP(n,cP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cP(t,e){if($d=-1,Fd=0,pe&6)throw Error(D(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var r=ih(t,t===ut?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sh(t,r);else{e=r;var s=pe;pe|=2;var i=dP();(ut!==t||pt!==e)&&(_r=null,ka=Ge()+500,Oi(t,e));do try{zj();break}catch(a){uP(t,a)}while(!0);Qv(),_h.current=i,pe=s,Je!==null?e=0:(ut=null,pt=0,e=rt)}if(e!==0){if(e===2&&(s=Sg(t),s!==0&&(r=s,e=Jg(t,s))),e===1)throw n=Ac,Oi(t,0),cs(t,r),Gt(t,Ge()),n;if(e===6)cs(t,r);else{if(s=t.current.alternate,!(r&30)&&!Bj(s)&&(e=Sh(t,r),e===2&&(i=Sg(t),i!==0&&(r=i,e=Jg(t,i))),e===1))throw n=Ac,Oi(t,0),cs(t,r),Gt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:hi(t,Ft,_r);break;case 3:if(cs(t,r),(r&130023424)===r&&(e=dw+500-Ge(),10<e)){if(ih(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ag(hi.bind(null,t,Ft,_r),e);break}hi(t,Ft,_r);break;case 4:if(cs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vj(r/1960))-r,10<r){t.timeoutHandle=Ag(hi.bind(null,t,Ft,_r),r);break}hi(t,Ft,_r);break;case 5:hi(t,Ft,_r);break;default:throw Error(D(329))}}}return Gt(t,Ge()),t.callbackNode===n?cP.bind(null,t):null}function Jg(t,e){var n=Yl;return t.current.memoizedState.isDehydrated&&(Oi(t,e).flags|=256),t=Sh(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&Xg(e)),t}function Xg(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function Bj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Hn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cs(t,e){for(e&=~uw,e&=~If,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function Bb(t){if(pe&6)throw Error(D(327));ra();var e=ih(t,0);if(!(e&1))return Gt(t,Ge()),null;var n=Sh(t,e);if(t.tag!==0&&n===2){var r=Sg(t);r!==0&&(e=r,n=Jg(t,r))}if(n===1)throw n=Ac,Oi(t,0),cs(t,e),Gt(t,Ge()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hi(t,Ft,_r),Gt(t,Ge()),null}function hw(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(ka=Ge()+500,Cf&&Js())}}function Ki(t){bs!==null&&bs.tag===0&&!(pe&6)&&ra();var e=pe;pe|=1;var n=gn.transition,r=be;try{if(gn.transition=null,be=1,t)return t()}finally{be=r,gn.transition=n,pe=e,!(pe&6)&&Js()}}function fw(){Jt=zo.current,Ne(zo)}function Oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vj(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Gv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uh();break;case 3:Ta(),Ne(Ht),Ne(Et),nw();break;case 5:tw(r);break;case 4:Ta();break;case 13:Ne(Me);break;case 19:Ne(Me);break;case 10:Jv(r.type._context);break;case 22:case 23:fw()}n=n.return}if(ut=t,Je=t=Rs(t.current,null),pt=Jt=e,rt=0,Ac=null,uw=If=Hi=0,Ft=Yl=null,_i!==null){for(e=0;e<_i.length;e++)if(n=_i[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}_i=null}return t}function uP(t,e){do{var n=Je;try{if(Qv(),Ld.current=wh,vh){for(var r=$e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vh=!1}if(zi=0,ot=et=$e=null,Gl=!1,kc=0,cw.current=null,n===null||n.return===null){rt=1,Ac=e,Je=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Ib(o);if(f!==null){f.flags&=-257,Rb(f,o,a,i,e),f.mode&1&&kb(i,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){kb(i,c,e),pw();break e}l=Error(D(426))}}else if(De&&a.mode&1){var _=Ib(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Rb(_,o,a,i,e),qv(Pa(l,a));break e}}i=l=Pa(l,a),rt!==4&&(rt=2),Yl===null?Yl=[i]:Yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=GT(i,l,e);xb(i,w);break e;case 1:a=l;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ks===null||!ks.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=qT(i,a,e);xb(i,x);break e}}i=i.return}while(i!==null)}fP(n)}catch(S){e=S,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function dP(){var t=_h.current;return _h.current=wh,t===null?wh:t}function pw(){(rt===0||rt===3||rt===2)&&(rt=4),ut===null||!(Hi&268435455)&&!(If&268435455)||cs(ut,pt)}function Sh(t,e){var n=pe;pe|=2;var r=dP();(ut!==t||pt!==e)&&(_r=null,Oi(t,e));do try{Wj();break}catch(s){uP(t,s)}while(!0);if(Qv(),pe=n,_h.current=r,Je!==null)throw Error(D(261));return ut=null,pt=0,rt}function Wj(){for(;Je!==null;)hP(Je)}function zj(){for(;Je!==null&&!mM();)hP(Je)}function hP(t){var e=mP(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?fP(t):Je=e,cw.current=null}function fP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jj(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Je=null;return}}else if(n=Mj(n,e,Jt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);rt===0&&(rt=5)}function hi(t,e,n){var r=be,s=gn.transition;try{gn.transition=null,be=1,Hj(t,e,n,r)}finally{gn.transition=s,be=r}return null}function Hj(t,e,n,r){do ra();while(bs!==null);if(pe&6)throw Error(D(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(CM(t,i),t===ut&&(Je=ut=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||id||(id=!0,gP(sh,function(){return ra(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gn.transition,gn.transition=null;var o=be;be=1;var a=pe;pe|=4,cw.current=null,Fj(t,n),aP(n,t),dj(Ig),oh=!!kg,Ig=kg=null,t.current=n,Uj(n),gM(),pe=a,be=o,gn.transition=i}else t.current=n;if(id&&(id=!1,bs=t,xh=s),i=t.pendingLanes,i===0&&(ks=null),wM(n.stateNode),Gt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(bh)throw bh=!1,t=Yg,Yg=null,t;return xh&1&&t.tag!==0&&ra(),i=t.pendingLanes,i&1?t===Qg?Ql++:(Ql=0,Qg=t):Ql=0,Js(),null}function ra(){if(bs!==null){var t=G1(xh),e=gn.transition,n=be;try{if(gn.transition=null,be=16>t?16:t,bs===null)var r=!1;else{if(t=bs,bs=null,xh=0,pe&6)throw Error(D(331));var s=pe;for(pe|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:ql(8,u,i)}var d=u.child;if(d!==null)d.return=u,W=d;else for(;W!==null;){u=W;var h=u.sibling,f=u.return;if(sP(u),u===c){W=null;break}if(h!==null){h.return=f,W=h;break}W=f}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ql(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,W=w;break e}W=i.return}}var v=t.current;for(W=v;W!==null;){o=W;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,W=b;else e:for(o=v;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kf(9,a)}}catch(S){ze(a,a.return,S)}if(a===o){W=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,W=x;break e}W=a.return}}if(pe=s,Js(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(_f,t)}catch{}r=!0}return r}finally{be=n,gn.transition=e}}return!1}function Wb(t,e,n){e=Pa(n,e),e=GT(t,e,1),t=Ps(t,e,1),e=Nt(),t!==null&&(mu(t,1,e),Gt(t,e))}function ze(t,e,n){if(t.tag===3)Wb(t,t,n);else for(;e!==null;){if(e.tag===3){Wb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=Pa(n,t),t=qT(e,t,1),e=Ps(e,t,1),t=Nt(),e!==null&&(mu(e,1,t),Gt(e,t));break}}e=e.return}}function Kj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(pt&n)===n&&(rt===4||rt===3&&(pt&130023424)===pt&&500>Ge()-dw?Oi(t,0):uw|=n),Gt(t,e)}function pP(t,e){e===0&&(t.mode&1?(e=Yu,Yu<<=1,!(Yu&130023424)&&(Yu=4194304)):e=1);var n=Nt();t=Or(t,e),t!==null&&(mu(t,e,n),Gt(t,n))}function Gj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pP(t,n)}function qj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),pP(t,n)}var mP;mP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,Lj(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,De&&e.flags&1048576&&wT(e,fh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jd(t,e),t=e.pendingProps;var s=Sa(e,Et.current);na(e,n),s=sw(null,e,r,t,s,n);var i=iw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(i=!0,dh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zv(e),s.updater=Pf,e.stateNode=s,s._reactInternals=e,$g(e,r,t,n),e=Vg(null,e,r,!0,i,n)):(e.tag=0,De&&i&&Kv(e),kt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Qj(r),t=Rn(r,t),s){case 0:e=Ug(null,e,r,t,n);break e;case 1:e=Ob(null,e,r,t,n);break e;case 11:e=Ab(null,e,r,t,n);break e;case 14:e=Nb(null,e,r,Rn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),Ug(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),Ob(t,e,r,s,n);case 3:e:{if(XT(e),t===null)throw Error(D(387));r=e.pendingProps,i=e.memoizedState,s=i.element,CT(t,e),gh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Pa(Error(D(423)),e),e=Db(t,e,r,n,s);break e}else if(r!==s){s=Pa(Error(D(424)),e),e=Db(t,e,r,n,s);break e}else for(Zt=Ts(e.stateNode.containerInfo.firstChild),tn=e,De=!0,Mn=null,n=ST(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ea(),r===s){e=Dr(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return TT(e),t===null&&Lg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Rg(r,s)?o=null:i!==null&&Rg(r,i)&&(e.flags|=32),JT(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&Lg(e),null;case 13:return ZT(t,e,n);case 4:return ew(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ca(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),Ab(t,e,r,s,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ke(ph,r._currentValue),r._currentValue=o,i!==null)if(Hn(i.value,o)){if(i.children===s.children&&!Ht.current){e=Dr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ir(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Mg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Mg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,na(e,n),s=wn(s),r=r(s),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,s=Rn(r,e.pendingProps),s=Rn(r.type,s),Nb(t,e,r,s,n);case 15:return YT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),jd(t,e),e.tag=1,Kt(r)?(t=!0,dh(e)):t=!1,na(e,n),KT(e,r,s),$g(e,r,s,n),Vg(null,e,r,!0,t,n);case 19:return eP(t,e,n);case 22:return QT(t,e,n)}throw Error(D(156,e.tag))};function gP(t,e){return W1(t,e)}function Yj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,n,r){return new Yj(t,e,n,r)}function mw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qj(t){if(typeof t=="function")return mw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dv)return 11;if(t===Lv)return 14}return 2}function Rs(t,e){var n=t.alternate;return n===null?(n=pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ud(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")mw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Do:return Di(n.children,s,i,e);case Ov:o=8,s|=8;break;case lg:return t=pn(12,n,e,s|2),t.elementType=lg,t.lanes=i,t;case cg:return t=pn(13,n,e,s),t.elementType=cg,t.lanes=i,t;case ug:return t=pn(19,n,e,s),t.elementType=ug,t.lanes=i,t;case T1:return Rf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E1:o=10;break e;case C1:o=9;break e;case Dv:o=11;break e;case Lv:o=14;break e;case os:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Di(t,e,n,r){return t=pn(7,t,r,e),t.lanes=n,t}function Rf(t,e,n,r){return t=pn(22,t,r,e),t.elementType=T1,t.lanes=n,t.stateNode={isHidden:!1},t}function nm(t,e,n){return t=pn(6,t,null,e),t.lanes=n,t}function rm(t,e,n){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jp(0),this.expirationTimes=jp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gw(t,e,n,r,s,i,o,a,l){return t=new Jj(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zv(i),t}function Xj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yP(t){if(!t)return Vs;t=t._reactInternals;e:{if(oo(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Kt(n))return yT(t,n,e)}return e}function vP(t,e,n,r,s,i,o,a,l){return t=gw(n,r,!0,t,s,i,o,a,l),t.context=yP(null),n=t.current,r=Nt(),s=Is(n),i=Ir(r,s),i.callback=e??null,Ps(n,i,s),t.current.lanes=s,mu(t,s,r),Gt(t,r),t}function Af(t,e,n,r){var s=e.current,i=Nt(),o=Is(s);return n=yP(n),e.context===null?e.context=n:e.pendingContext=n,e=Ir(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(s,e,o),t!==null&&(Wn(t,s,o,i),Dd(t,s,o)),o}function Eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yw(t,e){zb(t,e),(t=t.alternate)&&zb(t,e)}function Zj(){return null}var wP=typeof reportError=="function"?reportError:function(t){console.error(t)};function vw(t){this._internalRoot=t}Nf.prototype.render=vw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Af(t,e,null,null)};Nf.prototype.unmount=vw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){Af(null,t,null,null)}),e[Nr]=null}};function Nf(t){this._internalRoot=t}Nf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ls.length&&e!==0&&e<ls[n].priority;n++);ls.splice(n,0,t),n===0&&X1(t)}};function ww(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Of(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hb(){}function e2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Eh(o);i.call(c)}}var o=vP(e,r,t,0,null,!1,!1,"",Hb);return t._reactRootContainer=o,t[Nr]=o.current,Sc(t.nodeType===8?t.parentNode:t),Ki(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Eh(l);a.call(c)}}var l=gw(t,0,!1,null,null,!1,!1,"",Hb);return t._reactRootContainer=l,t[Nr]=l.current,Sc(t.nodeType===8?t.parentNode:t),Ki(function(){Af(e,l,n,r)}),l}function Df(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Eh(o);a.call(l)}}Af(e,o,t,s)}else o=e2(n,e,t,s,r);return Eh(o)}q1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dl(e.pendingLanes);n!==0&&($v(e,n|1),Gt(e,Ge()),!(pe&6)&&(ka=Ge()+500,Js()))}break;case 13:Ki(function(){var r=Or(t,1);if(r!==null){var s=Nt();Wn(r,t,1,s)}}),yw(t,1)}};Fv=function(t){if(t.tag===13){var e=Or(t,134217728);if(e!==null){var n=Nt();Wn(e,t,134217728,n)}yw(t,134217728)}};Y1=function(t){if(t.tag===13){var e=Is(t),n=Or(t,e);if(n!==null){var r=Nt();Wn(n,t,e,r)}yw(t,e)}};Q1=function(){return be};J1=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};_g=function(t,e,n){switch(e){case"input":if(fg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ef(r);if(!s)throw Error(D(90));k1(r),fg(r,s)}}}break;case"textarea":R1(t,n);break;case"select":e=n.value,e!=null&&Xo(t,!!n.multiple,e,!1)}};j1=hw;$1=Ki;var t2={usingClientEntryPoint:!1,Events:[yu,$o,Ef,L1,M1,hw]},xl={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n2={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V1(t),t===null?null:t.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||Zj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{_f=od.inject(n2),or=od}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t2;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ww(e))throw Error(D(200));return Xj(t,e,null,n)};sn.createRoot=function(t,e){if(!ww(t))throw Error(D(299));var n=!1,r="",s=wP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gw(t,1,!1,null,null,n,!1,r,s),t[Nr]=e.current,Sc(t.nodeType===8?t.parentNode:t),new vw(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=V1(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return Ki(t)};sn.hydrate=function(t,e,n){if(!Of(e))throw Error(D(200));return Df(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!ww(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=wP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vP(e,null,t,1,n??null,s,!1,i,o),t[Nr]=e.current,Sc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Nf(e)};sn.render=function(t,e,n){if(!Of(e))throw Error(D(200));return Df(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!Of(t))throw Error(D(40));return t._reactRootContainer?(Ki(function(){Df(null,null,t,!1,function(){t._reactRootContainer=null,t[Nr]=null})}),!0):!1};sn.unstable_batchedUpdates=hw;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Of(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Df(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function _P(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_P)}catch(t){console.error(t)}}_P(),_1.exports=sn;var ao=_1.exports;const bP=l1(ao);var xP,Kb=ao;xP=Kb.createRoot,Kb.hydrateRoot;const r2=1,s2=1e6;let sm=0;function i2(){return sm=(sm+1)%Number.MAX_SAFE_INTEGER,sm.toString()}const im=new Map,Gb=t=>{if(im.has(t))return;const e=setTimeout(()=>{im.delete(t),Jl({type:"REMOVE_TOAST",toastId:t})},s2);im.set(t,e)},o2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,r2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Gb(n):t.toasts.forEach(r=>{Gb(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Vd=[];let Bd={toasts:[]};function Jl(t){Bd=o2(Bd,t),Vd.forEach(e=>{e(Bd)})}function a2({...t}){const e=i2(),n=s=>Jl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Jl({type:"DISMISS_TOAST",toastId:e});return Jl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function lo(){const[t,e]=y.useState(Bd);return y.useEffect(()=>(Vd.push(e),()=>{const n=Vd.indexOf(e);n>-1&&Vd.splice(n,1)}),[t]),{...t,toast:a2,dismiss:n=>Jl({type:"DISMISS_TOAST",toastId:n})}}function Y(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function qb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function SP(...t){return e=>{let n=!1;const r=t.map(s=>{const i=qb(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():qb(t[s],null)}}}}function de(...t){return y.useCallback(SP(...t),t)}function zr(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=d=>{var w;const{scope:h,children:f,...g}=d,m=((w=h==null?void 0:h[t])==null?void 0:w[l])||a,_=y.useMemo(()=>g,Object.values(g));return p.jsx(m.Provider,{value:_,children:f})};c.displayName=i+"Provider";function u(d,h){var m;const f=((m=h==null?void 0:h[t])==null?void 0:m[l])||a,g=y.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,l2(s,...e)]}function l2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Nc(t){const e=u2(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(h2);if(l){const c=l.props.children,u=a.map(d=>d===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:d);return p.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,u):null})}return p.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var c2=Nc("Slot");function u2(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=p2(s),a=f2(i,s.props);return s.type!==y.Fragment&&(a.ref=r?SP(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var EP=Symbol("radix.slottable");function d2(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=EP,e}function h2(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===EP}function f2(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function p2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _w(t){const e=t+"CollectionProvider",[n,r]=zr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:_,children:w}=m,v=$.useRef(null),b=$.useRef(new Map).current;return p.jsx(s,{scope:_,itemMap:b,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=Nc(a),c=$.forwardRef((m,_)=>{const{scope:w,children:v}=m,b=i(a,w),x=de(_,b.collectionRef);return p.jsx(l,{ref:x,children:v})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Nc(u),f=$.forwardRef((m,_)=>{const{scope:w,children:v,...b}=m,x=$.useRef(null),S=de(_,x),E=i(u,w);return $.useEffect(()=>(E.itemMap.set(x,{ref:x,...b}),()=>void E.itemMap.delete(x))),p.jsx(h,{[d]:"",ref:S,children:v})});f.displayName=u;function g(m){const _=i(t+"CollectionConsumer",m);return $.useCallback(()=>{const v=_.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((E,C)=>b.indexOf(E.ref.current)-b.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},g,r]}var m2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ie=m2.reduce((t,e)=>{const n=Nc(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function CP(t,e){t&&ao.flushSync(()=>t.dispatchEvent(e))}function ct(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function g2(t,e=globalThis==null?void 0:globalThis.document){const n=ct(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var y2="DismissableLayer",Zg="dismissableLayer.update",v2="dismissableLayer.pointerDownOutside",w2="dismissableLayer.focusOutside",Yb,TP=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lf=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(TP),[u,d]=y.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=y.useState({}),g=de(e,C=>d(C)),m=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(_),v=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,x=v>=w,S=b2(C=>{const T=C.target,P=[...c.branches].some(I=>I.contains(T));!x||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),E=x2(C=>{const T=C.target;[...c.branches].some(I=>I.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return g2(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),y.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Yb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Qb(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Yb)}},[u,h,n,c]),y.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Qb())},[u,c]),y.useEffect(()=>{const C=()=>f({});return document.addEventListener(Zg,C),()=>document.removeEventListener(Zg,C)},[]),p.jsx(ie.div,{...l,ref:g,style:{pointerEvents:b?x?"auto":"none":void 0,...t.style},onFocusCapture:Y(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Y(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Y(t.onPointerDownCapture,S.onPointerDownCapture)})});Lf.displayName=y2;var _2="DismissableLayerBranch",PP=y.forwardRef((t,e)=>{const n=y.useContext(TP),r=y.useRef(null),s=de(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(ie.div,{...t,ref:s})});PP.displayName=_2;function b2(t,e=globalThis==null?void 0:globalThis.document){const n=ct(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){kP(v2,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function x2(t,e=globalThis==null?void 0:globalThis.document){const n=ct(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&kP(w2,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Qb(){const t=new CustomEvent(Zg);document.dispatchEvent(t)}function kP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?CP(s,i):s.dispatchEvent(i)}var S2=Lf,E2=PP,dt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},C2="Portal",bw=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);dt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?bP.createPortal(p.jsx(ie.div,{...r,ref:e}),o):null});bw.displayName=C2;function T2(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var co=t=>{const{present:e,children:n}=t,r=P2(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=de(r.ref,k2(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};co.displayName="Presence";function P2(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=T2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=ad(r.current);i.current=a==="mounted"?c:"none"},[a]),dt(()=>{const c=r.current,u=s.current;if(u!==t){const h=i.current,f=ad(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),dt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const m=ad(r.current).includes(f.animationName);if(f.target===e&&m&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},h=f=>{f.target===e&&(i.current=ad(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function ad(t){return(t==null?void 0:t.animationName)||"none"}function k2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var I2=Iv[" useInsertionEffect ".trim().toString()]||dt;function Oc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=R2({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const u=y.useRef(t!==void 0);y.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=y.useCallback(u=>{var d;if(a){const h=A2(u)?u(t):u;h!==t&&((d=o.current)==null||d.call(o,h))}else i(u)},[a,t,i,o]);return[l,c]}function R2({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return I2(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function A2(t){return typeof t=="function"}var IP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),N2="VisuallyHidden",Mf=y.forwardRef((t,e)=>p.jsx(ie.span,{...t,ref:e,style:{...IP,...t.style}}));Mf.displayName=N2;var O2=Mf,xw="ToastProvider",[Sw,D2,L2]=_w("Toast"),[RP,eae]=zr("Toast",[L2]),[M2,jf]=RP(xw),AP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,u]=y.useState(0),d=y.useRef(!1),h=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xw}\`. Expected non-empty \`string\`.`),p.jsx(Sw.Provider,{scope:e,children:p.jsx(M2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>u(f=>f+1),[]),onToastRemove:y.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};AP.displayName=xw;var NP="ToastViewport",j2=["F8"],ey="toast.viewportPause",ty="toast.viewportResume",OP=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=j2,label:s="Notifications ({hotkey})",...i}=t,o=jf(NP,n),a=D2(n),l=y.useRef(null),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=de(e,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;y.useEffect(()=>{const _=w=>{var b;r.length!==0&&r.every(x=>w[x]||w.code===x)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),y.useEffect(()=>{const _=l.current,w=d.current;if(g&&_&&w){const v=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(ey);w.dispatchEvent(E),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(ty);w.dispatchEvent(E),o.isClosePausedRef.current=!1}},x=E=>{!_.contains(E.relatedTarget)&&b()},S=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",v),_.addEventListener("focusout",x),_.addEventListener("pointermove",v),_.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",v),_.removeEventListener("focusout",x),_.removeEventListener("pointermove",v),_.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const m=y.useCallback(({tabbingDirection:_})=>{const v=a().map(b=>{const x=b.ref.current,S=[x,...Q2(x)];return _==="forwards"?S:S.reverse()});return(_==="forwards"?v.reverse():v).flat()},[a]);return y.useEffect(()=>{const _=d.current;if(_){const w=v=>{var S,E,C;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const T=document.activeElement,P=v.shiftKey;if(v.target===_&&P){(S=c.current)==null||S.focus();return}const L=m({tabbingDirection:P?"backwards":"forwards"}),B=L.findIndex(N=>N===T);om(L.slice(B+1))?v.preventDefault():P?(E=c.current)==null||E.focus():(C=u.current)==null||C.focus()}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[a,m]),p.jsxs(E2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&p.jsx(ny,{ref:c,onFocusFromOutsideViewport:()=>{const _=m({tabbingDirection:"forwards"});om(_)}}),p.jsx(Sw.Slot,{scope:n,children:p.jsx(ie.ol,{tabIndex:-1,...i,ref:h})}),g&&p.jsx(ny,{ref:u,onFocusFromOutsideViewport:()=>{const _=m({tabbingDirection:"backwards"});om(_)}})]})});OP.displayName=NP;var DP="ToastFocusProxy",ny=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=jf(DP,n);return p.jsx(Mf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});ny.displayName=DP;var wu="Toast",$2="toast.swipeStart",F2="toast.swipeMove",U2="toast.swipeCancel",V2="toast.swipeEnd",LP=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Oc({prop:r,defaultProp:s??!0,onChange:i,caller:wu});return p.jsx(co,{present:n||a,children:p.jsx(z2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ct(t.onPause),onResume:ct(t.onResume),onSwipeStart:Y(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Y(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});LP.displayName=wu;var[B2,W2]=RP(wu,{onClose(){}}),z2=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...g}=t,m=jf(wu,n),[_,w]=y.useState(null),v=de(e,N=>w(N)),b=y.useRef(null),x=y.useRef(null),S=s||m.duration,E=y.useRef(0),C=y.useRef(S),T=y.useRef(0),{onToastAdd:P,onToastRemove:I}=m,O=ct(()=>{var G;(_==null?void 0:_.contains(document.activeElement))&&((G=m.viewport)==null||G.focus()),o()}),L=y.useCallback(N=>{!N||N===1/0||(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(O,N))},[O]);y.useEffect(()=>{const N=m.viewport;if(N){const G=()=>{L(C.current),c==null||c()},U=()=>{const M=new Date().getTime()-E.current;C.current=C.current-M,window.clearTimeout(T.current),l==null||l()};return N.addEventListener(ey,U),N.addEventListener(ty,G),()=>{N.removeEventListener(ey,U),N.removeEventListener(ty,G)}}},[m.viewport,S,l,c,L]),y.useEffect(()=>{i&&!m.isClosePausedRef.current&&L(S)},[i,S,m.isClosePausedRef,L]),y.useEffect(()=>(P(),()=>I()),[P,I]);const B=y.useMemo(()=>_?BP(_):null,[_]);return m.viewport?p.jsxs(p.Fragment,{children:[B&&p.jsx(H2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),p.jsx(B2,{scope:n,onClose:O,children:ao.createPortal(p.jsx(Sw.ItemSlot,{scope:n,children:p.jsx(S2,{asChild:!0,onEscapeKeyDown:Y(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||O(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Y(t.onKeyDown,N=>{N.key==="Escape"&&(a==null||a(N.nativeEvent),N.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Y(t.onPointerDown,N=>{N.button===0&&(b.current={x:N.clientX,y:N.clientY})}),onPointerMove:Y(t.onPointerMove,N=>{if(!b.current)return;const G=N.clientX-b.current.x,U=N.clientY-b.current.y,M=!!x.current,k=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,F=k?R(0,G):0,H=k?0:R(0,U),z=N.pointerType==="touch"?10:2,Z={x:F,y:H},ee={originalEvent:N,delta:Z};M?(x.current=Z,ld(F2,d,ee,{discrete:!1})):Jb(Z,m.swipeDirection,z)?(x.current=Z,ld($2,u,ee,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(G)>z||Math.abs(U)>z)&&(b.current=null)}),onPointerUp:Y(t.onPointerUp,N=>{const G=x.current,U=N.target;if(U.hasPointerCapture(N.pointerId)&&U.releasePointerCapture(N.pointerId),x.current=null,b.current=null,G){const M=N.currentTarget,k={originalEvent:N,delta:G};Jb(G,m.swipeDirection,m.swipeThreshold)?ld(V2,f,k,{discrete:!0}):ld(U2,h,k,{discrete:!0}),M.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),H2=t=>{const{__scopeToast:e,children:n,...r}=t,s=jf(wu,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return q2(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(bw,{asChild:!0,children:p.jsx(Mf,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},K2="ToastTitle",MP=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ie.div,{...r,ref:e})});MP.displayName=K2;var G2="ToastDescription",jP=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ie.div,{...r,ref:e})});jP.displayName=G2;var $P="ToastAction",FP=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(VP,{altText:n,asChild:!0,children:p.jsx(Ew,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${$P}\`. Expected non-empty \`string\`.`),null)});FP.displayName=$P;var UP="ToastClose",Ew=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=W2(UP,n);return p.jsx(VP,{asChild:!0,children:p.jsx(ie.button,{type:"button",...r,ref:e,onClick:Y(t.onClick,s.onClose)})})});Ew.displayName=UP;var VP=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function BP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Y2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...BP(r))}}),e}function ld(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?CP(s,i):s.dispatchEvent(i)}var Jb=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function q2(t=()=>{}){const e=ct(t);dt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Y2(t){return t.nodeType===t.ELEMENT_NODE}function Q2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function om(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var J2=AP,WP=OP,zP=LP,HP=MP,KP=jP,GP=FP,qP=Ew;function YP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=YP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function QP(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=YP(t))&&(r&&(r+=" "),r+=e);return r}const Xb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Zb=QP,Cw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Zb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const h=Xb(u)||Xb(d);return s[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(g=>{let[m,_]=g;return Array.isArray(_)?_.includes({...i,...a}[m]):{...i,...a}[m]===_})?[...c,d,h]:c},[]);return Zb(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...Z2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JP("lucide",s),...a},[...o.map(([c,u])=>y.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(e$,{ref:i,iconNode:e,className:JP(`lucide-${X2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=he("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=he("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=he("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=he("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=he("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=he("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=he("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=he("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=he("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=he("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=he("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=he("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=he("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Pw="-",E$=t=>{const e=T$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Pw);return a[0]===""&&a.length!==1&&a.shift(),tk(a,e)||C$(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},tk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?tk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Pw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},nx=/^\[(.+)\]$/,C$=t=>{if(nx.test(t)){const e=nx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},T$=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return k$(Object.entries(t.classGroups),n).forEach(([i,o])=>{ry(o,r,i,e)}),r},ry=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:rx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(P$(s)){ry(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ry(o,rx(e,i),n,r)})})},rx=(t,e)=>{let n=t;return e.split(Pw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},P$=t=>t.isThemeGetter,k$=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,I$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},nk="!",R$=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let _=0;_<a.length;_++){let w=a[_];if(c===0){if(w===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(u,_)),u=_+i;continue}if(w==="/"){d=_;continue}}w==="["?c++:w==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(nk),g=f?h.substring(1):h,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},A$=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},N$=t=>({cache:I$(t.cacheSize),parseClassName:R$(t),...E$(t)}),O$=/\s+/,D$=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(O$);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(c);let g=!!f,m=r(g?h.substring(0,f):h);if(!m){if(!g){a=c+(a.length>0?" "+a:a);continue}if(m=r(h),!m){a=c+(a.length>0?" "+a:a);continue}g=!1}const _=A$(u).join(":"),w=d?_+nk:_,v=w+m;if(i.includes(v))continue;i.push(v);const b=s(m,g);for(let x=0;x<b.length;++x){const S=b[x];i.push(w+S)}a=c+(a.length>0?" "+a:a)}return a};function L$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=rk(e))&&(r&&(r+=" "),r+=n);return r}const rk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=rk(t[r]))&&(n&&(n+=" "),n+=e);return n};function M$(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=N$(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=D$(l,n);return s(l,u),u}return function(){return i(L$.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},sk=/^\[(?:([a-z-]+):)?(.+)\]$/i,j$=/^\d+\/\d+$/,$$=new Set(["px","full","screen"]),F$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,V$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,B$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,W$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vr=t=>sa(t)||$$.has(t)||j$.test(t),Xr=t=>Ga(t,"length",J$),sa=t=>!!t&&!Number.isNaN(Number(t)),am=t=>Ga(t,"number",sa),Sl=t=>!!t&&Number.isInteger(Number(t)),z$=t=>t.endsWith("%")&&sa(t.slice(0,-1)),oe=t=>sk.test(t),Zr=t=>F$.test(t),H$=new Set(["length","size","percentage"]),K$=t=>Ga(t,H$,ik),G$=t=>Ga(t,"position",ik),q$=new Set(["image","url"]),Y$=t=>Ga(t,q$,Z$),Q$=t=>Ga(t,"",X$),El=()=>!0,Ga=(t,e,n)=>{const r=sk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},J$=t=>U$.test(t)&&!V$.test(t),ik=()=>!1,X$=t=>B$.test(t),Z$=t=>W$.test(t),eF=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),i=Ie("borderRadius"),o=Ie("borderSpacing"),a=Ie("borderWidth"),l=Ie("contrast"),c=Ie("grayscale"),u=Ie("hueRotate"),d=Ie("invert"),h=Ie("gap"),f=Ie("gradientColorStops"),g=Ie("gradientColorStopPositions"),m=Ie("inset"),_=Ie("margin"),w=Ie("opacity"),v=Ie("padding"),b=Ie("saturate"),x=Ie("scale"),S=Ie("sepia"),E=Ie("skew"),C=Ie("space"),T=Ie("translate"),P=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",oe,e],L=()=>[oe,e],B=()=>["",vr,Xr],N=()=>["auto",sa,oe],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",oe],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[sa,oe];return{cacheSize:500,separator:":",theme:{colors:[El],spacing:[vr,Xr],blur:["none","",Zr,oe],brightness:H(),borderColor:[t],borderRadius:["none","","full",Zr,oe],borderSpacing:L(),borderWidth:B(),contrast:H(),grayscale:R(),hueRotate:H(),invert:R(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[z$,Xr],inset:O(),margin:O(),opacity:H(),padding:L(),saturate:H(),scale:H(),sepia:R(),skew:H(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",oe]}],container:["container"],columns:[{columns:[Zr]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),oe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sl,oe]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",oe]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Sl,oe]}],"grid-cols":[{"grid-cols":[El]}],"col-start-end":[{col:["auto",{span:["full",Sl,oe]},oe]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[El]}],"row-start-end":[{row:["auto",{span:[Sl,oe]},oe]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",oe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",oe,e]}],"min-w":[{"min-w":[oe,e,"min","max","fit"]}],"max-w":[{"max-w":[oe,e,"none","full","min","max","fit","prose",{screen:[Zr]},Zr]}],h:[{h:[oe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[oe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[oe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[oe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zr,Xr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",am]}],"font-family":[{font:[El]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",oe]}],"line-clamp":[{"line-clamp":["none",sa,am]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vr,oe]}],"list-image":[{"list-image":["none",oe]}],"list-style-type":[{list:["none","disc","decimal",oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vr,Xr]}],"underline-offset":[{"underline-offset":["auto",vr,oe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),G$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",K$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Y$]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[vr,oe]}],"outline-w":[{outline:[vr,Xr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[vr,Xr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zr,Q$]}],"shadow-color":[{shadow:[El]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Zr,oe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",oe]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",oe]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[Sl,oe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",oe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vr,Xr,am]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tF=M$(eF);function we(...t){return tF(QP(t))}const nF=J2,ok=y.forwardRef(({className:t,...e},n)=>p.jsx(WP,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ok.displayName=WP.displayName;const rF=Cw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ak=y.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(zP,{ref:r,className:we(rF({variant:e}),t),...n}));ak.displayName=zP.displayName;const sF=y.forwardRef(({className:t,...e},n)=>p.jsx(GP,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));sF.displayName=GP.displayName;const lk=y.forwardRef(({className:t,...e},n)=>p.jsx(qP,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Tw,{className:"h-4 w-4"})}));lk.displayName=qP.displayName;const ck=y.forwardRef(({className:t,...e},n)=>p.jsx(HP,{ref:n,className:we("text-sm font-semibold",t),...e}));ck.displayName=HP.displayName;const uk=y.forwardRef(({className:t,...e},n)=>p.jsx(KP,{ref:n,className:we("text-sm opacity-90",t),...e}));uk.displayName=KP.displayName;function iF(){const{toasts:t}=lo();return p.jsxs(nF,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(ak,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(ck,{children:n}),r&&p.jsx(uk,{children:r})]}),s,p.jsx(lk,{})]},e)}),p.jsx(ok,{})]})}var sx=["light","dark"],oF="(prefers-color-scheme: dark)",aF=y.createContext(void 0),lF={setTheme:t=>{},themes:[]},cF=()=>{var t;return(t=y.useContext(aF))!=null?t:lF};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?sx.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,_=!0)=>{let w=o?o[g]:g,v=m?g+"|| ''":`'${w}'`,b="";return s&&_&&!m&&sx.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),n==="class"?m||w?b+=`c.add(${v})`:b+="null":w&&(b+=`d[s](n,${v})`),b},f=t?`!function(){${u}${h(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${oF}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${d}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var uF=t=>{switch(t){case"success":return fF;case"info":return mF;case"warning":return pF;case"error":return gF;default:return null}},dF=Array(12).fill(0),hF=({visible:t,className:e})=>$.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},$.createElement("div",{className:"sonner-spinner"},dF.map((n,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),fF=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pF=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mF=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gF=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yF=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vF=()=>{let[t,e]=$.useState(document.hidden);return $.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},sy=1,wF=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:sy++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],$.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(bF(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||sy++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},$t=new wF,_F=(t,e)=>{let n=(e==null?void 0:e.id)||sy++;return $t.addToast({title:t,...e,id:n}),n},bF=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",xF=_F,SF=()=>$t.toasts,EF=()=>$t.getActiveToasts(),Xn=Object.assign(xF,{success:$t.success,info:$t.info,warning:$t.warning,error:$t.error,custom:$t.custom,message:$t.message,promise:$t.promise,dismiss:$t.dismiss,loading:$t.loading},{getHistory:SF,getToasts:EF});function CF(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}CF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cd(t){return t.label!==void 0}var TF=3,PF="32px",kF="16px",ix=4e3,IF=356,RF=14,AF=20,NF=200;function Tn(...t){return t.filter(Boolean).join(" ")}function OF(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var DF=t=>{var e,n,r,s,i,o,a,l,c,u,d;let{invert:h,toast:f,unstyled:g,interacting:m,setHeights:_,visibleToasts:w,heights:v,index:b,toasts:x,expanded:S,removeToast:E,defaultRichColors:C,closeButton:T,style:P,cancelButtonStyle:I,actionButtonStyle:O,className:L="",descriptionClassName:B="",duration:N,position:G,gap:U,loadingIcon:M,expandByDefault:k,classNames:R,icons:F,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:z}=t,[Z,ee]=$.useState(null),[xe,Ue]=$.useState(null),[V,_e]=$.useState(!1),[Ve,ve]=$.useState(!1),[fe,me]=$.useState(!1),[gt,an]=$.useState(!1),[si,Gr]=$.useState(!1),[ii,fl]=$.useState(0),[mo,A_]=$.useState(0),pl=$.useRef(f.duration||N||ix),N_=$.useRef(null),oi=$.useRef(null),bL=b===0,xL=b+1<=w,ln=f.type,go=f.dismissible!==!1,SL=f.className||"",EL=f.descriptionClassName||"",Bu=$.useMemo(()=>v.findIndex(re=>re.toastId===f.id)||0,[v,f.id]),CL=$.useMemo(()=>{var re;return(re=f.closeButton)!=null?re:T},[f.closeButton,T]),O_=$.useMemo(()=>f.duration||N||ix,[f.duration,N]),Ip=$.useRef(0),yo=$.useRef(0),D_=$.useRef(0),vo=$.useRef(null),[TL,PL]=G.split("-"),L_=$.useMemo(()=>v.reduce((re,Se,Oe)=>Oe>=Bu?re:re+Se.height,0),[v,Bu]),M_=vF(),kL=f.invert||h,Rp=ln==="loading";yo.current=$.useMemo(()=>Bu*U+L_,[Bu,L_]),$.useEffect(()=>{pl.current=O_},[O_]),$.useEffect(()=>{_e(!0)},[]),$.useEffect(()=>{let re=oi.current;if(re){let Se=re.getBoundingClientRect().height;return A_(Se),_(Oe=>[{toastId:f.id,height:Se,position:f.position},...Oe]),()=>_(Oe=>Oe.filter(xn=>xn.toastId!==f.id))}},[_,f.id]),$.useLayoutEffect(()=>{if(!V)return;let re=oi.current,Se=re.style.height;re.style.height="auto";let Oe=re.getBoundingClientRect().height;re.style.height=Se,A_(Oe),_(xn=>xn.find(Sn=>Sn.toastId===f.id)?xn.map(Sn=>Sn.toastId===f.id?{...Sn,height:Oe}:Sn):[{toastId:f.id,height:Oe,position:f.position},...xn])},[V,f.title,f.description,_,f.id]);let qr=$.useCallback(()=>{ve(!0),fl(yo.current),_(re=>re.filter(Se=>Se.toastId!==f.id)),setTimeout(()=>{E(f)},NF)},[f,E,_,yo]);$.useEffect(()=>{if(f.promise&&ln==="loading"||f.duration===1/0||f.type==="loading")return;let re;return S||m||z&&M_?(()=>{if(D_.current<Ip.current){let Se=new Date().getTime()-Ip.current;pl.current=pl.current-Se}D_.current=new Date().getTime()})():pl.current!==1/0&&(Ip.current=new Date().getTime(),re=setTimeout(()=>{var Se;(Se=f.onAutoClose)==null||Se.call(f,f),qr()},pl.current)),()=>clearTimeout(re)},[S,m,f,ln,z,M_,qr]),$.useEffect(()=>{f.delete&&qr()},[qr,f.delete]);function IL(){var re,Se,Oe;return F!=null&&F.loading?$.createElement("div",{className:Tn(R==null?void 0:R.loader,(re=f==null?void 0:f.classNames)==null?void 0:re.loader,"sonner-loader"),"data-visible":ln==="loading"},F.loading):M?$.createElement("div",{className:Tn(R==null?void 0:R.loader,(Se=f==null?void 0:f.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":ln==="loading"},M):$.createElement(hF,{className:Tn(R==null?void 0:R.loader,(Oe=f==null?void 0:f.classNames)==null?void 0:Oe.loader),visible:ln==="loading"})}return $.createElement("li",{tabIndex:0,ref:oi,className:Tn(L,SL,R==null?void 0:R.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[ln],(n=f==null?void 0:f.classNames)==null?void 0:n[ln]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:C,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":V,"data-promise":!!f.promise,"data-swiped":si,"data-removed":Ve,"data-visible":xL,"data-y-position":TL,"data-x-position":PL,"data-index":b,"data-front":bL,"data-swiping":fe,"data-dismissible":go,"data-type":ln,"data-invert":kL,"data-swipe-out":gt,"data-swipe-direction":xe,"data-expanded":!!(S||k&&V),style:{"--index":b,"--toasts-before":b,"--z-index":x.length-b,"--offset":`${Ve?ii:yo.current}px`,"--initial-height":k?"auto":`${mo}px`,...P,...f.style},onDragEnd:()=>{me(!1),ee(null),vo.current=null},onPointerDown:re=>{Rp||!go||(N_.current=new Date,fl(yo.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(me(!0),vo.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,Se,Oe,xn;if(gt||!go)return;vo.current=null;let Sn=Number(((re=oi.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yr=Number(((Se=oi.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ai=new Date().getTime()-((Oe=N_.current)==null?void 0:Oe.getTime()),En=Z==="x"?Sn:Yr,Qr=Math.abs(En)/ai;if(Math.abs(En)>=AF||Qr>.11){fl(yo.current),(xn=f.onDismiss)==null||xn.call(f,f),Ue(Z==="x"?Sn>0?"right":"left":Yr>0?"down":"up"),qr(),an(!0),Gr(!1);return}me(!1),ee(null)},onPointerMove:re=>{var Se,Oe,xn,Sn;if(!vo.current||!go||((Se=window.getSelection())==null?void 0:Se.toString().length)>0)return;let Yr=re.clientY-vo.current.y,ai=re.clientX-vo.current.x,En=(Oe=t.swipeDirections)!=null?Oe:OF(G);!Z&&(Math.abs(ai)>1||Math.abs(Yr)>1)&&ee(Math.abs(ai)>Math.abs(Yr)?"x":"y");let Qr={x:0,y:0};Z==="y"?(En.includes("top")||En.includes("bottom"))&&(En.includes("top")&&Yr<0||En.includes("bottom")&&Yr>0)&&(Qr.y=Yr):Z==="x"&&(En.includes("left")||En.includes("right"))&&(En.includes("left")&&ai<0||En.includes("right")&&ai>0)&&(Qr.x=ai),(Math.abs(Qr.x)>0||Math.abs(Qr.y)>0)&&Gr(!0),(xn=oi.current)==null||xn.style.setProperty("--swipe-amount-x",`${Qr.x}px`),(Sn=oi.current)==null||Sn.style.setProperty("--swipe-amount-y",`${Qr.y}px`)}},CL&&!f.jsx?$.createElement("button",{"aria-label":H,"data-disabled":Rp,"data-close-button":!0,onClick:Rp||!go?()=>{}:()=>{var re;qr(),(re=f.onDismiss)==null||re.call(f,f)},className:Tn(R==null?void 0:R.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=F==null?void 0:F.close)!=null?i:yF):null,f.jsx||y.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:$.createElement($.Fragment,null,ln||f.icon||f.promise?$.createElement("div",{"data-icon":"",className:Tn(R==null?void 0:R.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||IL():null,f.type!=="loading"?f.icon||(F==null?void 0:F[ln])||uF(ln):null):null,$.createElement("div",{"data-content":"",className:Tn(R==null?void 0:R.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},$.createElement("div",{"data-title":"",className:Tn(R==null?void 0:R.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?$.createElement("div",{"data-description":"",className:Tn(B,EL,R==null?void 0:R.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),y.isValidElement(f.cancel)?f.cancel:f.cancel&&cd(f.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:re=>{var Se,Oe;cd(f.cancel)&&go&&((Oe=(Se=f.cancel).onClick)==null||Oe.call(Se,re),qr())},className:Tn(R==null?void 0:R.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,y.isValidElement(f.action)?f.action:f.action&&cd(f.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||O,onClick:re=>{var Se,Oe;cd(f.action)&&((Oe=(Se=f.action).onClick)==null||Oe.call(Se,re),!re.defaultPrevented&&qr())},className:Tn(R==null?void 0:R.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function ox(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function LF(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?kF:PF;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var MF=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:f,visibleToasts:g=TF,toastOptions:m,dir:_=ox(),gap:w=RF,loadingIcon:v,icons:b,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:S}=t,[E,C]=$.useState([]),T=$.useMemo(()=>Array.from(new Set([r].concat(E.filter(z=>z.position).map(z=>z.position)))),[E,r]),[P,I]=$.useState([]),[O,L]=$.useState(!1),[B,N]=$.useState(!1),[G,U]=$.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=$.useRef(null),k=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=$.useRef(null),F=$.useRef(!1),H=$.useCallback(z=>{C(Z=>{var ee;return(ee=Z.find(xe=>xe.id===z.id))!=null&&ee.delete||$t.dismiss(z.id),Z.filter(({id:xe})=>xe!==z.id)})},[]);return $.useEffect(()=>$t.subscribe(z=>{if(z.dismiss){C(Z=>Z.map(ee=>ee.id===z.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{bP.flushSync(()=>{C(Z=>{let ee=Z.findIndex(xe=>xe.id===z.id);return ee!==-1?[...Z.slice(0,ee),{...Z[ee],...z},...Z.slice(ee+1)]:[z,...Z]})})})}),[]),$.useEffect(()=>{if(u!=="system"){U(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:Z})=>{U(Z?"dark":"light")})}catch{z.addListener(({matches:ee})=>{try{U(ee?"dark":"light")}catch(xe){console.error(xe)}})}},[u]),$.useEffect(()=>{E.length<=1&&L(!1)},[E]),$.useEffect(()=>{let z=Z=>{var ee,xe;s.every(Ue=>Z[Ue]||Z.code===Ue)&&(L(!0),(ee=M.current)==null||ee.focus()),Z.code==="Escape"&&(document.activeElement===M.current||(xe=M.current)!=null&&xe.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),$.useEffect(()=>{if(M.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,F.current=!1)}},[M.current]),$.createElement("section",{ref:e,"aria-label":`${x} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((z,Z)=>{var ee;let[xe,Ue]=z.split("-");return E.length?$.createElement("ol",{key:z,dir:_==="auto"?ox():_,tabIndex:-1,ref:M,className:a,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":xe,"data-lifted":O&&E.length>1&&!i,"data-x-position":Ue,style:{"--front-toast-height":`${((ee=P[0])==null?void 0:ee.height)||0}px`,"--width":`${IF}px`,"--gap":`${w}px`,...f,...LF(l,c)},onBlur:V=>{F.current&&!V.currentTarget.contains(V.relatedTarget)&&(F.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||F.current||(F.current=!0,R.current=V.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{B||L(!1)},onDragEnd:()=>L(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},E.filter(V=>!V.position&&Z===0||V.position===z).map((V,_e)=>{var Ve,ve;return $.createElement(DF,{key:V.id,icons:b,index:_e,toast:V,defaultRichColors:d,duration:(Ve=m==null?void 0:m.duration)!=null?Ve:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:g,closeButton:(ve=m==null?void 0:m.closeButton)!=null?ve:o,interacting:B,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:H,toasts:E.filter(fe=>fe.position==V.position),heights:P.filter(fe=>fe.position==V.position),setHeights:I,expandByDefault:i,gap:w,loadingIcon:v,expanded:O,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const jF=({...t})=>{const{theme:e="system"}=cF();return p.jsx(MF,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var $F=Iv[" useId ".trim().toString()]||(()=>{}),FF=0;function kw(t){const[e,n]=y.useState($F());return dt(()=>{n(r=>r??String(FF++))},[t]),e?`radix-${e}`:""}const UF=["top","right","bottom","left"],Bs=Math.min,Xt=Math.max,Ch=Math.round,ud=Math.floor,lr=t=>({x:t,y:t}),VF={left:"right",right:"left",bottom:"top",top:"bottom"},BF={start:"end",end:"start"};function iy(t,e,n){return Xt(t,Bs(e,n))}function Mr(t,e){return typeof t=="function"?t(e):t}function jr(t){return t.split("-")[0]}function qa(t){return t.split("-")[1]}function Iw(t){return t==="x"?"y":"x"}function Rw(t){return t==="y"?"height":"width"}const WF=new Set(["top","bottom"]);function sr(t){return WF.has(jr(t))?"y":"x"}function Aw(t){return Iw(sr(t))}function zF(t,e,n){n===void 0&&(n=!1);const r=qa(t),s=Aw(t),i=Rw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Th(o)),[o,Th(o)]}function HF(t){const e=Th(t);return[oy(t),e,oy(e)]}function oy(t){return t.replace(/start|end/g,e=>BF[e])}const ax=["left","right"],lx=["right","left"],KF=["top","bottom"],GF=["bottom","top"];function qF(t,e,n){switch(t){case"top":case"bottom":return n?e?lx:ax:e?ax:lx;case"left":case"right":return e?KF:GF;default:return[]}}function YF(t,e,n,r){const s=qa(t);let i=qF(jr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(oy)))),i}function Th(t){return t.replace(/left|right|bottom|top/g,e=>VF[e])}function QF(t){return{top:0,right:0,bottom:0,left:0,...t}}function dk(t){return typeof t!="number"?QF(t):{top:t,right:t,bottom:t,left:t}}function Ph(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function cx(t,e,n){let{reference:r,floating:s}=t;const i=sr(e),o=Aw(e),a=Rw(o),l=jr(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-s.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-s.width,y:d};break;default:f={x:r.x,y:r.y}}switch(qa(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const JF=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=cx(c,r,l),h=r,f={},g=0;for(let m=0;m<a.length;m++){const{name:_,fn:w}=a[m],{x:v,y:b,data:x,reset:S}=await w({x:u,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,d=b??d,f={...f,[_]:{...f[_],...x}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:u,y:d}=cx(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:f}};async function Lc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Mr(e,t),g=dk(f),_=a[h?d==="floating"?"reference":"floating":d],w=Ph(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Ph(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(w.top-S.top+g.top)/x.y,bottom:(S.bottom-w.bottom+g.bottom)/x.y,left:(w.left-S.left+g.left)/x.x,right:(S.right-w.right+g.right)/x.x}}const XF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Mr(t,e)||{};if(c==null)return{};const d=dk(u),h={x:n,y:r},f=Aw(s),g=Rw(f),m=await o.getDimensions(c),_=f==="y",w=_?"top":"left",v=_?"bottom":"right",b=_?"clientHeight":"clientWidth",x=i.reference[g]+i.reference[f]-h[f]-i.floating[g],S=h[f]-i.reference[f],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=E?E[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=a.floating[b]||i.floating[g]);const T=x/2-S/2,P=C/2-m[g]/2-1,I=Bs(d[w],P),O=Bs(d[v],P),L=I,B=C-m[g]-O,N=C/2-m[g]/2+T,G=iy(L,N,B),U=!l.arrow&&qa(s)!=null&&N!==G&&i.reference[g]/2-(N<L?I:O)-m[g]/2<0,M=U?N<L?N-L:N-B:0;return{[f]:h[f]+M,data:{[f]:G,centerOffset:N-G-M,...U&&{alignmentOffset:M}},reset:U}}}),ZF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,..._}=Mr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=jr(s),v=sr(a),b=jr(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(b||!m?[Th(a)]:HF(a)),E=g!=="none";!h&&E&&S.push(...YF(a,m,g,x));const C=[a,...S],T=await Lc(e,_),P=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&P.push(T[w]),d){const N=zF(s,o,x);P.push(T[N[0]],T[N[1]])}if(I=[...I,{placement:s,overflows:P}],!P.every(N=>N<=0)){var O,L;const N=(((O=i.flip)==null?void 0:O.index)||0)+1,G=C[N];if(G&&(!(d==="alignment"?v!==sr(G):!1)||I.every(k=>k.overflows[0]>0&&sr(k.placement)===v)))return{data:{index:N,overflows:I},reset:{placement:G}};let U=(L=I.filter(M=>M.overflows[0]<=0).sort((M,k)=>M.overflows[1]-k.overflows[1])[0])==null?void 0:L.placement;if(!U)switch(f){case"bestFit":{var B;const M=(B=I.filter(k=>{if(E){const R=sr(k.placement);return R===v||R==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(R=>R>0).reduce((R,F)=>R+F,0)]).sort((k,R)=>k[1]-R[1])[0])==null?void 0:B[0];M&&(U=M);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function ux(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function dx(t){return UF.some(e=>t[e]>=0)}const eU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Mr(t,e);switch(r){case"referenceHidden":{const i=await Lc(e,{...s,elementContext:"reference"}),o=ux(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dx(o)}}}case"escaped":{const i=await Lc(e,{...s,altBoundary:!0}),o=ux(i,n.floating);return{data:{escapedOffsets:o,escaped:dx(o)}}}default:return{}}}}},hk=new Set(["left","top"]);async function tU(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=jr(n),a=qa(n),l=sr(n)==="y",c=hk.has(o)?-1:1,u=i&&l?-1:1,d=Mr(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const nU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await tU(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},rU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:w,y:v}=_;return{x:w,y:v}}},...l}=Mr(t,e),c={x:n,y:r},u=await Lc(e,l),d=sr(jr(s)),h=Iw(d);let f=c[h],g=c[d];if(i){const _=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=f+u[_],b=f-u[w];f=iy(v,f,b)}if(o){const _=d==="y"?"top":"left",w=d==="y"?"bottom":"right",v=g+u[_],b=g-u[w];g=iy(v,g,b)}const m=a.fn({...e,[h]:f,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:i,[d]:o}}}}}},sU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Mr(t,e),u={x:n,y:r},d=sr(s),h=Iw(d);let f=u[h],g=u[d];const m=Mr(a,e),_=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=h==="y"?"height":"width",x=i.reference[h]-i.floating[b]+_.mainAxis,S=i.reference[h]+i.reference[b]-_.mainAxis;f<x?f=x:f>S&&(f=S)}if(c){var w,v;const b=h==="y"?"width":"height",x=hk.has(jr(s)),S=i.reference[d]-i.floating[b]+(x&&((w=o.offset)==null?void 0:w[d])||0)+(x?0:_.crossAxis),E=i.reference[d]+i.reference[b]+(x?0:((v=o.offset)==null?void 0:v[d])||0)-(x?_.crossAxis:0);g<S?g=S:g>E&&(g=E)}return{[h]:f,[d]:g}}}},iU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Mr(t,e),u=await Lc(e,c),d=jr(s),h=qa(s),f=sr(s)==="y",{width:g,height:m}=i.floating;let _,w;d==="top"||d==="bottom"?(_=d,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=d,_=h==="end"?"top":"bottom");const v=m-u.top-u.bottom,b=g-u.left-u.right,x=Bs(m-u[_],v),S=Bs(g-u[w],b),E=!e.middlewareData.shift;let C=x,T=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),E&&!h){const I=Xt(u.left,0),O=Xt(u.right,0),L=Xt(u.top,0),B=Xt(u.bottom,0);f?T=g-2*(I!==0||O!==0?I+O:Xt(u.left,u.right)):C=m-2*(L!==0||B!==0?L+B:Xt(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:C});const P=await o.getDimensions(a.floating);return g!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function $f(){return typeof window<"u"}function Ya(t){return fk(t)?(t.nodeName||"").toLowerCase():"#document"}function nn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mr(t){var e;return(e=(fk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fk(t){return $f()?t instanceof Node||t instanceof nn(t).Node:!1}function Kn(t){return $f()?t instanceof Element||t instanceof nn(t).Element:!1}function fr(t){return $f()?t instanceof HTMLElement||t instanceof nn(t).HTMLElement:!1}function hx(t){return!$f()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nn(t).ShadowRoot}const oU=new Set(["inline","contents"]);function xu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!oU.has(s)}const aU=new Set(["table","td","th"]);function lU(t){return aU.has(Ya(t))}const cU=[":popover-open",":modal"];function Ff(t){return cU.some(e=>{try{return t.matches(e)}catch{return!1}})}const uU=["transform","translate","scale","rotate","perspective"],dU=["transform","translate","scale","rotate","perspective","filter"],hU=["paint","layout","strict","content"];function Nw(t){const e=Ow(),n=Kn(t)?Gn(t):t;return uU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||dU.some(r=>(n.willChange||"").includes(r))||hU.some(r=>(n.contain||"").includes(r))}function fU(t){let e=Ws(t);for(;fr(e)&&!Ia(e);){if(Nw(e))return e;if(Ff(e))return null;e=Ws(e)}return null}function Ow(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pU=new Set(["html","body","#document"]);function Ia(t){return pU.has(Ya(t))}function Gn(t){return nn(t).getComputedStyle(t)}function Uf(t){return Kn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ws(t){if(Ya(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hx(t)&&t.host||mr(t);return hx(e)?e.host:e}function pk(t){const e=Ws(t);return Ia(e)?t.ownerDocument?t.ownerDocument.body:t.body:fr(e)&&xu(e)?e:pk(e)}function Mc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=pk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=nn(s);if(i){const a=ay(o);return e.concat(o,o.visualViewport||[],xu(s)?s:[],a&&n?Mc(a):[])}return e.concat(s,Mc(s,[],n))}function ay(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mk(t){const e=Gn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=fr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ch(n)!==i||Ch(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Dw(t){return Kn(t)?t:t.contextElement}function ia(t){const e=Dw(t);if(!fr(e))return lr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=mk(e);let o=(i?Ch(n.width):n.width)/r,a=(i?Ch(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const mU=lr(0);function gk(t){const e=nn(t);return!Ow()||!e.visualViewport?mU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==nn(t)?!1:e}function Gi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Dw(t);let o=lr(1);e&&(r?Kn(r)&&(o=ia(r)):o=ia(t));const a=gU(i,n,r)?gk(i):lr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const h=nn(i),f=r&&Kn(r)?nn(r):r;let g=h,m=ay(g);for(;m&&r&&f!==g;){const _=ia(m),w=m.getBoundingClientRect(),v=Gn(m),b=w.left+(m.clientLeft+parseFloat(v.paddingLeft))*_.x,x=w.top+(m.clientTop+parseFloat(v.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=b,c+=x,g=nn(m),m=ay(g)}}return Ph({width:u,height:d,x:l,y:c})}function Lw(t,e){const n=Uf(t).scrollLeft;return e?e.left+n:Gi(mr(t)).left+n}function yk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Lw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function yU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=mr(r),a=e?Ff(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=lr(1);const u=lr(0),d=fr(r);if((d||!d&&!i)&&((Ya(r)!=="body"||xu(o))&&(l=Uf(r)),fr(r))){const f=Gi(r);c=ia(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!i?yk(o,l,!0):lr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function vU(t){return Array.from(t.getClientRects())}function wU(t){const e=mr(t),n=Uf(t),r=t.ownerDocument.body,s=Xt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Xt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Lw(t);const a=-n.scrollTop;return Gn(r).direction==="rtl"&&(o+=Xt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function _U(t,e){const n=nn(t),r=mr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Ow();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const bU=new Set(["absolute","fixed"]);function xU(t,e){const n=Gi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=fr(t)?ia(t):lr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function fx(t,e,n){let r;if(e==="viewport")r=_U(t,n);else if(e==="document")r=wU(mr(t));else if(Kn(e))r=xU(e,n);else{const s=gk(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ph(r)}function vk(t,e){const n=Ws(t);return n===e||!Kn(n)||Ia(n)?!1:Gn(n).position==="fixed"||vk(n,e)}function SU(t,e){const n=e.get(t);if(n)return n;let r=Mc(t,[],!1).filter(a=>Kn(a)&&Ya(a)!=="body"),s=null;const i=Gn(t).position==="fixed";let o=i?Ws(t):t;for(;Kn(o)&&!Ia(o);){const a=Gn(o),l=Nw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&bU.has(s.position)||xu(o)&&!l&&vk(t,o))?r=r.filter(u=>u!==o):s=a,o=Ws(o)}return e.set(t,r),r}function EU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Ff(e)?[]:SU(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=fx(e,u,s);return c.top=Xt(d.top,c.top),c.right=Bs(d.right,c.right),c.bottom=Bs(d.bottom,c.bottom),c.left=Xt(d.left,c.left),c},fx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function CU(t){const{width:e,height:n}=mk(t);return{width:e,height:n}}function TU(t,e,n){const r=fr(e),s=mr(e),i=n==="fixed",o=Gi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=lr(0);function c(){l.x=Lw(s)}if(r||!r&&!i)if((Ya(e)!=="body"||xu(s))&&(a=Uf(e)),r){const f=Gi(e,!0,i,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?yk(s,a):lr(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function lm(t){return Gn(t).position==="static"}function px(t,e){if(!fr(t)||Gn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return mr(t)===n&&(n=n.ownerDocument.body),n}function wk(t,e){const n=nn(t);if(Ff(t))return n;if(!fr(t)){let s=Ws(t);for(;s&&!Ia(s);){if(Kn(s)&&!lm(s))return s;s=Ws(s)}return n}let r=px(t,e);for(;r&&lU(r)&&lm(r);)r=px(r,e);return r&&Ia(r)&&lm(r)&&!Nw(r)?n:r||fU(t)||n}const PU=async function(t){const e=this.getOffsetParent||wk,n=this.getDimensions,r=await n(t.floating);return{reference:TU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kU(t){return Gn(t).direction==="rtl"}const IU={convertOffsetParentRelativeRectToViewportRelativeRect:yU,getDocumentElement:mr,getClippingRect:EU,getOffsetParent:wk,getElementRects:PU,getClientRects:vU,getDimensions:CU,getScale:ia,isElement:Kn,isRTL:kU};function _k(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function RU(t,e){let n=null,r;const s=mr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const g=ud(d),m=ud(s.clientWidth-(u+h)),_=ud(s.clientHeight-(d+f)),w=ud(u),b={rootMargin:-g+"px "+-m+"px "+-_+"px "+-w+"px",threshold:Xt(0,Bs(1,l))||1};let x=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!x)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!_k(c,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(t)}return o(!0),i}function AU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Dw(t),u=s||i?[...c?Mc(c):[],...Mc(e)]:[];u.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const d=c&&a?RU(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let g,m=l?Gi(t):null;l&&_();function _(){const w=Gi(t);m&&!_k(m,w)&&n(),m=w,g=requestAnimationFrame(_)}return n(),()=>{var w;u.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),d==null||d(),(w=f)==null||w.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const NU=nU,OU=rU,DU=ZF,LU=iU,MU=eU,mx=XF,jU=sU,$U=(t,e,n)=>{const r=new Map,s={platform:IU,...n},i={...s.platform,_c:r};return JF(t,e,{...s,platform:i})};var FU=typeof document<"u",UU=function(){},Wd=FU?y.useLayoutEffect:UU;function kh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!kh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!kh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function bk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gx(t,e){const n=bk(t);return Math.round(e*n)/n}function cm(t){const e=y.useRef(t);return Wd(()=>{e.current=t}),e}function VU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=y.useState(r);kh(h,r)||f(r);const[g,m]=y.useState(null),[_,w]=y.useState(null),v=y.useCallback(k=>{k!==E.current&&(E.current=k,m(k))},[]),b=y.useCallback(k=>{k!==C.current&&(C.current=k,w(k))},[]),x=i||g,S=o||_,E=y.useRef(null),C=y.useRef(null),T=y.useRef(u),P=l!=null,I=cm(l),O=cm(s),L=cm(c),B=y.useCallback(()=>{if(!E.current||!C.current)return;const k={placement:e,strategy:n,middleware:h};O.current&&(k.platform=O.current),$U(E.current,C.current,k).then(R=>{const F={...R,isPositioned:L.current!==!1};N.current&&!kh(T.current,F)&&(T.current=F,ao.flushSync(()=>{d(F)}))})},[h,e,n,O,L]);Wd(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(k=>({...k,isPositioned:!1})))},[c]);const N=y.useRef(!1);Wd(()=>(N.current=!0,()=>{N.current=!1}),[]),Wd(()=>{if(x&&(E.current=x),S&&(C.current=S),x&&S){if(I.current)return I.current(x,S,B);B()}},[x,S,B,I,P]);const G=y.useMemo(()=>({reference:E,floating:C,setReference:v,setFloating:b}),[v,b]),U=y.useMemo(()=>({reference:x,floating:S}),[x,S]),M=y.useMemo(()=>{const k={position:n,left:0,top:0};if(!U.floating)return k;const R=gx(U.floating,u.x),F=gx(U.floating,u.y);return a?{...k,transform:"translate("+R+"px, "+F+"px)",...bk(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:F}},[n,a,U.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:B,refs:G,elements:U,floatingStyles:M}),[u,B,G,U,M])}const BU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mx({element:r.current,padding:s}).fn(n):{}:r?mx({element:r,padding:s}).fn(n):{}}}},WU=(t,e)=>({...NU(t),options:[t,e]}),zU=(t,e)=>({...OU(t),options:[t,e]}),HU=(t,e)=>({...jU(t),options:[t,e]}),KU=(t,e)=>({...DU(t),options:[t,e]}),GU=(t,e)=>({...LU(t),options:[t,e]}),qU=(t,e)=>({...MU(t),options:[t,e]}),YU=(t,e)=>({...BU(t),options:[t,e]});var QU="Arrow",xk=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(ie.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});xk.displayName=QU;var JU=xk;function Mw(t){const[e,n]=y.useState(void 0);return dt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jw="Popper",[Sk,Vf]=zr(jw),[XU,Ek]=Sk(jw),Ck=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return p.jsx(XU,{scope:e,anchor:r,onAnchorChange:s,children:n})};Ck.displayName=jw;var Tk="PopperAnchor",Pk=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Ek(Tk,n),o=y.useRef(null),a=de(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(ie.div,{...s,ref:a})});Pk.displayName=Tk;var $w="PopperContent",[ZU,e4]=Sk($w),kk=y.forwardRef((t,e)=>{var V,_e,Ve,ve,fe,me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:g,...m}=t,_=Ek($w,n),[w,v]=y.useState(null),b=de(e,gt=>v(gt)),[x,S]=y.useState(null),E=Mw(x),C=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,P=r+(i!=="center"?"-"+i:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(c)?c:[c],L=O.length>0,B={padding:I,boundary:O.filter(n4),altBoundary:L},{refs:N,floatingStyles:G,placement:U,isPositioned:M,middlewareData:k}=VU({strategy:"fixed",placement:P,whileElementsMounted:(...gt)=>AU(...gt,{animationFrame:f==="always"}),elements:{reference:_.anchor},middleware:[WU({mainAxis:s+T,alignmentAxis:o}),l&&zU({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?HU():void 0,...B}),l&&KU({...B}),GU({...B,apply:({elements:gt,rects:an,availableWidth:si,availableHeight:Gr})=>{const{width:ii,height:fl}=an.reference,mo=gt.floating.style;mo.setProperty("--radix-popper-available-width",`${si}px`),mo.setProperty("--radix-popper-available-height",`${Gr}px`),mo.setProperty("--radix-popper-anchor-width",`${ii}px`),mo.setProperty("--radix-popper-anchor-height",`${fl}px`)}}),x&&YU({element:x,padding:a}),r4({arrowWidth:C,arrowHeight:T}),h&&qU({strategy:"referenceHidden",...B})]}),[R,F]=Ak(U),H=ct(g);dt(()=>{M&&(H==null||H())},[M,H]);const z=(V=k.arrow)==null?void 0:V.x,Z=(_e=k.arrow)==null?void 0:_e.y,ee=((Ve=k.arrow)==null?void 0:Ve.centerOffset)!==0,[xe,Ue]=y.useState();return dt(()=>{w&&Ue(window.getComputedStyle(w).zIndex)},[w]),p.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:M?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(ve=k.transformOrigin)==null?void 0:ve.x,(fe=k.transformOrigin)==null?void 0:fe.y].join(" "),...((me=k.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(ZU,{scope:n,placedSide:R,onArrowChange:S,arrowX:z,arrowY:Z,shouldHideArrow:ee,children:p.jsx(ie.div,{"data-side":R,"data-align":F,...m,ref:b,style:{...m.style,animation:M?void 0:"none"}})})})});kk.displayName=$w;var Ik="PopperArrow",t4={top:"bottom",right:"left",bottom:"top",left:"right"},Rk=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=e4(Ik,r),o=t4[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(JU,{...s,ref:n,style:{...s.style,display:"block"}})})});Rk.displayName=Ik;function n4(t){return t!==null}var r4=t=>({name:"transformOrigin",options:t,fn(e){var _,w,v;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=Ak(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,f=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=o?d:`${h}px`,m=`${-l}px`):c==="top"?(g=o?d:`${h}px`,m=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=o?d:`${f}px`):c==="left"&&(g=`${r.floating.width+l}px`,m=o?d:`${f}px`),{data:{x:g,y:m}}}});function Ak(t){const[e,n="center"]=t.split("-");return[e,n]}var s4=Ck,Nk=Pk,Ok=kk,Dk=Rk,[Bf,tae]=zr("Tooltip",[Vf]),Fw=Vf(),Lk="TooltipProvider",i4=700,yx="tooltip.open",[o4,Mk]=Bf(Lk),jk=t=>{const{__scopeTooltip:e,delayDuration:n=i4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(o4,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};jk.displayName=Lk;var $k="Tooltip",[nae,Wf]=Bf($k),ly="TooltipTrigger",a4=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Wf(ly,n),i=Mk(ly,n),o=Fw(n),a=y.useRef(null),l=de(e,a,s.onTriggerChange),c=y.useRef(!1),u=y.useRef(!1),d=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(Nk,{asChild:!0,...o,children:p.jsx(ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Y(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Y(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Y(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Y(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Y(t.onBlur,s.onClose),onClick:Y(t.onClick,s.onClose)})})});a4.displayName=ly;var l4="TooltipPortal",[rae,c4]=Bf(l4,{forceMount:void 0}),Ra="TooltipContent",Fk=y.forwardRef((t,e)=>{const n=c4(Ra,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Wf(Ra,t.__scopeTooltip);return p.jsx(co,{present:r||o.open,children:o.disableHoverableContent?p.jsx(Uk,{side:s,...i,ref:e}):p.jsx(u4,{side:s,...i,ref:e})})}),u4=y.forwardRef((t,e)=>{const n=Wf(Ra,t.__scopeTooltip),r=Mk(Ra,t.__scopeTooltip),s=y.useRef(null),i=de(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,h=y.useCallback(()=>{a(null),d(!1)},[d]),f=y.useCallback((g,m)=>{const _=g.currentTarget,w={x:g.clientX,y:g.clientY},v=m4(w,_.getBoundingClientRect()),b=g4(w,v),x=y4(m.getBoundingClientRect()),S=w4([...b,...x]);a(S),d(!0)},[d]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(l&&u){const g=_=>f(_,u),m=_=>f(_,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",m)}}},[l,u,f,h]),y.useEffect(()=>{if(o){const g=m=>{const _=m.target,w={x:m.clientX,y:m.clientY},v=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),b=!v4(w,o);v?h():b&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,h]),p.jsx(Uk,{...t,ref:i})}),[d4,h4]=Bf($k,{isInside:!1}),f4=d2("TooltipContent"),Uk=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Wf(Ra,n),c=Fw(n),{onClose:u}=l;return y.useEffect(()=>(document.addEventListener(yx,u),()=>document.removeEventListener(yx,u)),[u]),y.useEffect(()=>{if(l.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),p.jsx(Lf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:p.jsxs(Ok,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(f4,{children:r}),p.jsx(d4,{scope:n,isInside:!0,children:p.jsx(O2,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Fk.displayName=Ra;var Vk="TooltipArrow",p4=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Fw(n);return h4(Vk,n).isInside?null:p.jsx(Dk,{...s,...r,ref:e})});p4.displayName=Vk;function m4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function g4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function y4(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function v4(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,d=l.x,h=l.y;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(s=!s)}return s}function w4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_4(e)}function _4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var b4=jk,Bk=Fk;const x4=b4,S4=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(Bk,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));S4.displayName=Bk.displayName;var zf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hf=typeof window>"u"||"Deno"in globalThis;function An(){}function E4(t,e){return typeof t=="function"?t(e):t}function C4(t){return typeof t=="number"&&t>=0&&t!==1/0}function T4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function cy(t,e){return typeof t=="function"?t(e):t}function P4(t,e){return typeof t=="function"?t(e):t}function vx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Uw(o,e.options))return!1}else if(!$c(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function wx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(jc(e.options.mutationKey)!==jc(i))return!1}else if(!$c(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Uw(t,e){return((e==null?void 0:e.queryKeyHashFn)||jc)(t)}function jc(t){return JSON.stringify(t,(e,n)=>uy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function $c(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$c(t[n],e[n])):!1}function Wk(t,e){if(t===e)return t;const n=_x(t)&&_x(e);if(n||uy(t)&&uy(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=Wk(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function _x(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function uy(t){if(!bx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!bx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function bx(t){return Object.prototype.toString.call(t)==="[object Object]"}function k4(t){return new Promise(e=>{setTimeout(e,t)})}function I4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Wk(t,e):e}function R4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function A4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Vw=Symbol();function zk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Vw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Pi,ms,pa,e1,N4=(e1=class extends zf{constructor(){super();ge(this,Pi);ge(this,ms);ge(this,pa);se(this,pa,e=>{if(!Hf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,ms)||this.setEventListener(A(this,pa))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,ms))==null||e.call(this),se(this,ms,void 0))}setEventListener(e){var n;se(this,pa,e),(n=A(this,ms))==null||n.call(this),se(this,ms,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){A(this,Pi)!==e&&(se(this,Pi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof A(this,Pi)=="boolean"?A(this,Pi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Pi=new WeakMap,ms=new WeakMap,pa=new WeakMap,e1),Hk=new N4,ma,gs,ga,t1,O4=(t1=class extends zf{constructor(){super();ge(this,ma,!0);ge(this,gs);ge(this,ga);se(this,ga,e=>{if(!Hf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){A(this,gs)||this.setEventListener(A(this,ga))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,gs))==null||e.call(this),se(this,gs,void 0))}setEventListener(e){var n;se(this,ga,e),(n=A(this,gs))==null||n.call(this),se(this,gs,e(this.setOnline.bind(this)))}setOnline(e){A(this,ma)!==e&&(se(this,ma,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return A(this,ma)}},ma=new WeakMap,gs=new WeakMap,ga=new WeakMap,t1),Ih=new O4;function D4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function L4(t){return Math.min(1e3*2**t,3e4)}function Kk(t){return(t??"online")==="online"?Ih.isOnline():!0}var Gk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function um(t){return t instanceof Gk}function qk(t){let e=!1,n=0,r=!1,s;const i=D4(),o=m=>{var _;r||(h(new Gk(m)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>Hk.isFocused()&&(t.networkMode==="always"||Ih.isOnline())&&t.canRun(),u=()=>Kk(t.networkMode)&&t.canRun(),d=m=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,m),s==null||s(),i.resolve(m))},h=m=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,m),s==null||s(),i.reject(m))},f=()=>new Promise(m=>{var _;s=w=>{(r||c())&&m(w)},(_=t.onPause)==null||_.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(r)return;let m;const _=n===0?t.initialPromise:void 0;try{m=_??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(d).catch(w=>{var E;if(r)return;const v=t.retry??(Hf?0:3),b=t.retryDelay??L4,x=typeof b=="function"?b(n,w):b,S=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!S){h(w);return}n++,(E=t.onFail)==null||E.call(t,n,w),k4(x).then(()=>c()?void 0:f()).then(()=>{e?h(w):g()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():f().then(g),i)}}var M4=t=>setTimeout(t,0);function j4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=M4;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var It=j4(),ki,n1,Yk=(n1=class{constructor(){ge(this,ki)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),C4(this.gcTime)&&se(this,ki,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hf?1/0:5*60*1e3))}clearGcTimeout(){A(this,ki)&&(clearTimeout(A(this,ki)),se(this,ki,void 0))}},ki=new WeakMap,n1),ya,Ii,dn,Ri,_t,hu,Ai,Nn,wr,r1,$4=(r1=class extends Yk{constructor(e){super();ge(this,Nn);ge(this,ya);ge(this,Ii);ge(this,dn);ge(this,Ri);ge(this,_t);ge(this,hu);ge(this,Ai);se(this,Ai,!1),se(this,hu,e.defaultOptions),this.setOptions(e.options),this.observers=[],se(this,Ri,e.client),se(this,dn,A(this,Ri).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,se(this,ya,U4(this.options)),this.state=e.state??A(this,ya),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=A(this,_t))==null?void 0:e.promise}setOptions(e){this.options={...A(this,hu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,dn).remove(this)}setData(e,n){const r=I4(this.state.data,e,this.options);return yt(this,Nn,wr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){yt(this,Nn,wr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=A(this,_t))==null?void 0:r.promise;return(s=A(this,_t))==null||s.cancel(e),n?n.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,ya))}isActive(){return this.observers.some(e=>P4(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>cy(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!T4(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=A(this,_t))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=A(this,_t))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),A(this,dn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(A(this,_t)&&(A(this,Ai)?A(this,_t).cancel({revert:!0}):A(this,_t).cancelRetry()),this.scheduleGc()),A(this,dn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,Nn,wr).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(A(this,_t))return A(this,_t).continueRetry(),A(this,_t).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(se(this,Ai,!0),r.signal)})},i=()=>{const h=zk(this.options,n),g=(()=>{const m={client:A(this,Ri),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return se(this,Ai,!1),this.options.persister?this.options.persister(h,g,this):h(g)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:A(this,Ri),state:this.state,fetchFn:i};return s(h),h})();(c=this.options.behavior)==null||c.onFetch(a,this),se(this,Ii,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&yt(this,Nn,wr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,g,m,_;um(h)&&h.silent||yt(this,Nn,wr).call(this,{type:"error",error:h}),um(h)||((g=(f=A(this,dn).config).onError)==null||g.call(f,h,this),(_=(m=A(this,dn).config).onSettled)==null||_.call(m,this.state.data,h,this)),this.scheduleGc()};return se(this,_t,qk({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,g,m,_;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){l(w);return}(g=(f=A(this,dn).config).onSuccess)==null||g.call(f,h,this),(_=(m=A(this,dn).config).onSettled)==null||_.call(m,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{yt(this,Nn,wr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{yt(this,Nn,wr).call(this,{type:"pause"})},onContinue:()=>{yt(this,Nn,wr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),A(this,_t).start()}},ya=new WeakMap,Ii=new WeakMap,dn=new WeakMap,Ri=new WeakMap,_t=new WeakMap,hu=new WeakMap,Ai=new WeakMap,Nn=new WeakSet,wr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...F4(r.data,this.options),fetchMeta:e.meta??null};case"success":return se(this,Ii,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return um(s)&&s.revert&&A(this,Ii)?{...A(this,Ii),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),It.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),A(this,dn).notify({query:this,type:"updated",action:e})})},r1);function F4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Kk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function U4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zn,s1,V4=(s1=class extends zf{constructor(e={}){super();ge(this,Zn);this.config=e,se(this,Zn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Uw(s,n);let o=this.get(i);return o||(o=new $4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){A(this,Zn).has(e.queryHash)||(A(this,Zn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=A(this,Zn).get(e.queryHash);n&&(e.destroy(),n===e&&A(this,Zn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){It.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return A(this,Zn).get(e)}getAll(){return[...A(this,Zn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>vx(e,r)):n}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){It.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zn=new WeakMap,s1),er,Pt,Ni,tr,ns,i1,B4=(i1=class extends Yk{constructor(e){super();ge(this,tr);ge(this,er);ge(this,Pt);ge(this,Ni);this.mutationId=e.mutationId,se(this,Pt,e.mutationCache),se(this,er,[]),this.state=e.state||W4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){A(this,er).includes(e)||(A(this,er).push(e),this.clearGcTimeout(),A(this,Pt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){se(this,er,A(this,er).filter(n=>n!==e)),this.scheduleGc(),A(this,Pt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){A(this,er).length||(this.state.status==="pending"?this.scheduleGc():A(this,Pt).remove(this))}continue(){var e;return((e=A(this,Ni))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,c,u,d,h,f,g,m,_,w,v,b,x,S,E,C,T;const n=()=>{yt(this,tr,ns).call(this,{type:"continue"})};se(this,Ni,qk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{yt(this,tr,ns).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{yt(this,tr,ns).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,Pt).canRun(this)}));const r=this.state.status==="pending",s=!A(this,Ni).canStart();try{if(r)n();else{yt(this,tr,ns).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=A(this,Pt).config).onMutate)==null?void 0:o.call(i,e,this));const I=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));I!==this.state.context&&yt(this,tr,ns).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const P=await A(this,Ni).start();return await((u=(c=A(this,Pt).config).onSuccess)==null?void 0:u.call(c,P,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,P,e,this.state.context)),await((g=(f=A(this,Pt).config).onSettled)==null?void 0:g.call(f,P,null,this.state.variables,this.state.context,this)),await((_=(m=this.options).onSettled)==null?void 0:_.call(m,P,null,e,this.state.context)),yt(this,tr,ns).call(this,{type:"success",data:P}),P}catch(P){try{throw await((v=(w=A(this,Pt).config).onError)==null?void 0:v.call(w,P,e,this.state.context,this)),await((x=(b=this.options).onError)==null?void 0:x.call(b,P,e,this.state.context)),await((E=(S=A(this,Pt).config).onSettled)==null?void 0:E.call(S,void 0,P,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,P,e,this.state.context)),P}finally{yt(this,tr,ns).call(this,{type:"error",error:P})}}finally{A(this,Pt).runNext(this)}}},er=new WeakMap,Pt=new WeakMap,Ni=new WeakMap,tr=new WeakSet,ns=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),It.batch(()=>{A(this,er).forEach(r=>{r.onMutationUpdate(e)}),A(this,Pt).notify({mutation:this,type:"updated",action:e})})},i1);function W4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sr,On,fu,o1,z4=(o1=class extends zf{constructor(e={}){super();ge(this,Sr);ge(this,On);ge(this,fu);this.config=e,se(this,Sr,new Set),se(this,On,new Map),se(this,fu,0)}build(e,n,r){const s=new B4({mutationCache:this,mutationId:++Wu(this,fu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){A(this,Sr).add(e);const n=dd(e);if(typeof n=="string"){const r=A(this,On).get(n);r?r.push(e):A(this,On).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(A(this,Sr).delete(e)){const n=dd(e);if(typeof n=="string"){const r=A(this,On).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&A(this,On).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=dd(e);if(typeof n=="string"){const r=A(this,On).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=dd(e);if(typeof n=="string"){const s=(r=A(this,On).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){It.batch(()=>{A(this,Sr).forEach(e=>{this.notify({type:"removed",mutation:e})}),A(this,Sr).clear(),A(this,On).clear()})}getAll(){return Array.from(A(this,Sr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>wx(n,r))}findAll(e={}){return this.getAll().filter(n=>wx(e,n))}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return It.batch(()=>Promise.all(e.map(n=>n.continue().catch(An))))}},Sr=new WeakMap,On=new WeakMap,fu=new WeakMap,o1);function dd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function xx(t){return{onFetch:(e,n)=>{var u,d,h,f,g;const r=e.options,s=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const _=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=zk(e.options,e.fetchOptions),v=async(b,x,S)=>{if(m)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:x,direction:S?"backward":"forward",meta:e.options.meta};return _(O),O})(),T=await w(C),{maxPages:P}=e.options,I=S?A4:R4;return{pages:I(b.pages,T,P),pageParams:I(b.pageParams,x,P)}};if(s&&i.length){const b=s==="backward",x=b?H4:Sx,S={pages:i,pageParams:o},E=x(r,S);a=await v(S,E,b)}else{const b=t??i.length;do{const x=l===0?o[0]??r.initialPageParam:Sx(r,a);if(l>0&&x==null)break;a=await v(a,x),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var m,_;return(_=(m=e.options).persister)==null?void 0:_.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Sx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function H4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Be,ys,vs,va,wa,ws,_a,ba,a1,K4=(a1=class{constructor(t={}){ge(this,Be);ge(this,ys);ge(this,vs);ge(this,va);ge(this,wa);ge(this,ws);ge(this,_a);ge(this,ba);se(this,Be,t.queryCache||new V4),se(this,ys,t.mutationCache||new z4),se(this,vs,t.defaultOptions||{}),se(this,va,new Map),se(this,wa,new Map),se(this,ws,0)}mount(){Wu(this,ws)._++,A(this,ws)===1&&(se(this,_a,Hk.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,Be).onFocus())})),se(this,ba,Ih.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,Be).onOnline())})))}unmount(){var t,e;Wu(this,ws)._--,A(this,ws)===0&&((t=A(this,_a))==null||t.call(this),se(this,_a,void 0),(e=A(this,ba))==null||e.call(this),se(this,ba,void 0))}isFetching(t){return A(this,Be).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return A(this,ys).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=A(this,Be).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=A(this,Be).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(cy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return A(this,Be).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=A(this,Be).get(r.queryHash),i=s==null?void 0:s.state.data,o=E4(e,i);if(o!==void 0)return A(this,Be).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return It.batch(()=>A(this,Be).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=A(this,Be).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=A(this,Be);It.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=A(this,Be);return It.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=It.batch(()=>A(this,Be).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(An).catch(An)}invalidateQueries(t,e={}){return It.batch(()=>(A(this,Be).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=It.batch(()=>A(this,Be).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(An)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(An)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=A(this,Be).build(this,e);return n.isStaleByTime(cy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(An).catch(An)}fetchInfiniteQuery(t){return t.behavior=xx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(An).catch(An)}ensureInfiniteQueryData(t){return t.behavior=xx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ih.isOnline()?A(this,ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,Be)}getMutationCache(){return A(this,ys)}getDefaultOptions(){return A(this,vs)}setDefaultOptions(t){se(this,vs,t)}setQueryDefaults(t,e){A(this,va).set(jc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...A(this,va).values()],n={};return e.forEach(r=>{$c(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){A(this,wa).set(jc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...A(this,wa).values()],n={};return e.forEach(r=>{$c(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...A(this,vs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Uw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Vw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...A(this,vs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){A(this,Be).clear(),A(this,ys).clear()}},Be=new WeakMap,ys=new WeakMap,vs=new WeakMap,va=new WeakMap,wa=new WeakMap,ws=new WeakMap,_a=new WeakMap,ba=new WeakMap,a1),G4=y.createContext(void 0),q4=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(G4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}var xs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xs||(xs={}));const Ex="popstate";function Y4(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=uo(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),dy("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Qk(i))}function r(s,i){Bw(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return J4(e,n,r,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q4(){return Math.random().toString(36).substr(2,8)}function Cx(t,e){return{usr:t.state,key:t.key,idx:e}}function dy(t,e,n,r){return n===void 0&&(n=null),Fc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uo(e):e,{state:n,key:e&&e.key||r||Q4()})}function Qk(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function J4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=xs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Fc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=xs.Pop;let _=u(),w=_==null?null:_-c;c=_,l&&l({action:a,location:m.location,delta:w})}function h(_,w){a=xs.Push;let v=dy(m.location,_,w);n&&n(v,_),c=u()+1;let b=Cx(v,c),x=m.createHref(v);try{o.pushState(b,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}i&&l&&l({action:a,location:m.location,delta:1})}function f(_,w){a=xs.Replace;let v=dy(m.location,_,w);n&&n(v,_),c=u();let b=Cx(v,c),x=m.createHref(v);o.replaceState(b,"",x),i&&l&&l({action:a,location:m.location,delta:0})}function g(_){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof _=="string"?_:Qk(_);return v=v.replace(/ $/,"%20"),st(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let m={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ex,d),l=_,()=>{s.removeEventListener(Ex,d),l=null}},createHref(_){return e(s,_)},createURL:g,encodeLocation(_){let w=g(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:f,go(_){return o.go(_)}};return m}var Tx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tx||(Tx={}));function X4(t,e,n){return n===void 0&&(n="/"),Z4(t,e,n,!1)}function Z4(t,e,n,r){let s=typeof e=="string"?uo(e):e,i=Zk(s.pathname||"/",n);if(i==null)return null;let o=Jk(t);e3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=d3(i);a=c3(o[l],c,r)}return a}function Jk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(st(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Li([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(st(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Jk(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:a3(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Xk(i.path))s(i,o,l)}),e}function Xk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Xk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function e3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:l3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t3=/^:[\w-]+$/,n3=3,r3=2,s3=1,i3=10,o3=-2,Px=t=>t==="*";function a3(t,e){let n=t.split("/"),r=n.length;return n.some(Px)&&(r+=o3),e&&(r+=r3),n.filter(s=>!Px(s)).reduce((s,i)=>s+(t3.test(i)?n3:i===""?s3:i3),r)}function l3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function c3(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=kx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=kx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Li([i,d.pathname]),pathnameBase:y3(Li([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Li([i,d.pathnameBase]))}return o}function kx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u3(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function u3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function d3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?uo(t):t;return{pathname:n?n.startsWith("/")?n:f3(n,e):e,search:v3(r),hash:w3(s)}}function f3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function dm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function m3(t,e){let n=p3(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function g3(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=uo(t):(s=Fc({},t),st(!s.pathname||!s.pathname.includes("?"),dm("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),dm("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),dm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=h3(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Li=t=>t.join("/").replace(/\/\/+/g,"/"),y3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eI=["post","put","patch","delete"];new Set(eI);const b3=["get",...eI];new Set(b3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}const Ww=y.createContext(null),x3=y.createContext(null),Kf=y.createContext(null),Gf=y.createContext(null),Qa=y.createContext({outlet:null,matches:[],isDataRoute:!1}),tI=y.createContext(null);function qf(){return y.useContext(Gf)!=null}function zw(){return qf()||st(!1),y.useContext(Gf).location}function nI(t){y.useContext(Kf).static||y.useLayoutEffect(t)}function Hw(){let{isDataRoute:t}=y.useContext(Qa);return t?L3():S3()}function S3(){qf()||st(!1);let t=y.useContext(Ww),{basename:e,future:n,navigator:r}=y.useContext(Kf),{matches:s}=y.useContext(Qa),{pathname:i}=zw(),o=JSON.stringify(m3(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return nI(()=>{a.current=!0}),y.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=g3(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Li([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function E3(t,e){return C3(t,e)}function C3(t,e,n,r){qf()||st(!1);let{navigator:s}=y.useContext(Kf),{matches:i}=y.useContext(Qa),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=zw(),u;if(e){var d;let _=typeof e=="string"?uo(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||st(!1),u=_}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=X4(t,{pathname:f}),m=R3(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Li([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Li([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&m?y.createElement(Gf.Provider,{value:{location:Uc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xs.Pop}},m):m}function T3(){let t=D3(),e=_3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const P3=y.createElement(T3,null);class k3 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Qa.Provider,{value:this.props.routeContext},y.createElement(tI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I3(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(Ww);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Qa.Provider,{value:e},r)}function R3(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||st(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,g=!1,m=null,_=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||P3,l&&(c<0&&h===0?(g=!0,_=null):c===h&&(g=!0,_=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),v=()=>{let b;return f?b=m:g?b=_:d.route.Component?b=y.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,y.createElement(I3,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(k3,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var rI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rI||{}),Rh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rh||{});function A3(t){let e=y.useContext(Ww);return e||st(!1),e}function N3(t){let e=y.useContext(x3);return e||st(!1),e}function O3(t){let e=y.useContext(Qa);return e||st(!1),e}function sI(t){let e=O3(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function D3(){var t;let e=y.useContext(tI),n=N3(Rh.UseRouteError),r=sI(Rh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function L3(){let{router:t}=A3(rI.UseNavigateStable),e=sI(Rh.UseNavigateStable),n=y.useRef(!1);return nI(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Uc({fromRouteId:e},i)))},[t,e])}function M3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ml(t){st(!1)}function j3(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xs.Pop,navigator:i,static:o=!1,future:a}=t;qf()&&st(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:Uc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=uo(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,m=y.useMemo(()=>{let _=Zk(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:g},navigationType:s}},[l,u,d,h,f,g,s]);return m==null?null:y.createElement(Kf.Provider,{value:c},y.createElement(Gf.Provider,{children:n,value:m}))}function $3(t){let{children:e,location:n}=t;return E3(hy(e),n)}new Promise(()=>{});function hy(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,hy(r.props.children,i));return}r.type!==Ml&&st(!1),!r.props.index||!r.props.children||st(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const F3="6";try{window.__reactRouterVersion=F3}catch{}const U3="startTransition",Ix=Iv[U3];function V3(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=Y4({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=y.useCallback(d=>{c&&Ix?Ix(()=>l(d)):l(d)},[l,c]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.useEffect(()=>M3(r),[r]),y.createElement(j3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Rx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Rx||(Rx={}));var Ax;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ax||(Ax={}));const B3=()=>{};var Nx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw Ja(e)},Ja=function(t){return new Error("Firebase Database ("+iI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},W3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new z3;const h=i<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aI=function(t){const e=oI(t);return Kw.encodeByteArray(e,!0)},Ah=function(t){return aI(t).replace(/\./g,"")},Nh=function(t){try{return Kw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){return lI(void 0,t)}function lI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!K3(n)||(t[n]=lI(t[n],e[n]));return t}function K3(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=()=>G3().__FIREBASE_DEFAULTS__,Y3=()=>{if(typeof process>"u"||typeof Nx>"u")return;const t=Nx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nh(t[1]);return e&&JSON.parse(e)},Gw=()=>{try{return B3()||q3()||Y3()||Q3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cI=t=>{var e,n;return(n=(e=Gw())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},J3=t=>{const e=cI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uI=()=>{var t;return(t=Gw())==null?void 0:t.config},dI=t=>{var e;return(e=Gw())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ah(JSON.stringify(n)),Ah(JSON.stringify(o)),""].join(".")}const Zl={};function Z3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?t.emulator.push(e):t.prod.push(e);return t}function eV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ox=!1;function fI(t,e){if(typeof window>"u"||typeof document>"u"||!Xa(window.location.host)||Zl[t]===e||Zl[t]||Ox)return;Zl[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=Z3().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Ox=!0,o()},h}function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=eV(r),f=n("text"),g=document.getElementById(f)||document.createElement("span"),m=n("learnmore"),_=document.getElementById(m)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;a(b),u(_,m);const x=c();l(v,w),b.append(v,g,_,x),document.body.appendChild(b)}i?(g.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function tV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rV(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mI(){return iI.NODE_ADMIN===!0}function sV(){try{return typeof indexedDB=="object"}catch{return!1}}function iV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="FirebaseError";class Xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oV,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?aV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Xs(s,a,r)}}function aV(t,e){return t.replace(lV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){return JSON.parse(t)}function tt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Vc(Nh(i[0])||""),n=Vc(Nh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},cV=function(t){const e=gI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},uV=function(t){const e=gI(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Aa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function fy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function qi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Dx(i)&&Dx(o)){if(!qi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Dx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function $l(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const h=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function hV(t,e){const n=new fV(t,e);return n.subscribe.bind(n)}class fV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=hm),s.error===void 0&&(s.error=hm),s.complete===void 0&&(s.complete=hm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hm(){}function Yw(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,j(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Qf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Yf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vV(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yV(t){return t===fi?void 0:t}function vV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const _V={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},bV=Ee.INFO,xV={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},SV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=xV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Qw=class{constructor(e){this.name=e,this._logLevel=bV,this._logHandler=SV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}};const EV=(t,e)=>e.some(n=>t instanceof n);let Lx,Mx;function CV(){return Lx||(Lx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TV(){return Mx||(Mx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yI=new WeakMap,py=new WeakMap,vI=new WeakMap,fm=new WeakMap,Jw=new WeakMap;function PV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(As(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yI.set(n,t)}).catch(()=>{}),Jw.set(e,t),e}function kV(t){if(py.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});py.set(t,e)}let my={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IV(t){my=t(my)}function RV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pm(this),e,...n);return vI.set(r,e.sort?e.sort():[e]),As(r)}:TV().includes(t)?function(...e){return t.apply(pm(this),e),As(yI.get(this))}:function(...e){return As(t.apply(pm(this),e))}}function AV(t){return typeof t=="function"?RV(t):(t instanceof IDBTransaction&&kV(t),EV(t,CV())?new Proxy(t,my):t)}function As(t){if(t instanceof IDBRequest)return PV(t);if(fm.has(t))return fm.get(t);const e=AV(t);return e!==t&&(fm.set(t,e),Jw.set(e,t)),e}const pm=t=>Jw.get(t);function NV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=As(o);return r&&o.addEventListener("upgradeneeded",l=>{r(As(o.result),l.oldVersion,l.newVersion,As(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const OV=["get","getKey","getAll","getAllKeys","count"],DV=["put","add","delete","clear"],mm=new Map;function jx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=DV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||OV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return mm.set(e,i),i}IV(t=>({...t,get:(e,n,r)=>jx(e,n)||t.get(e,n,r),has:(e,n)=>!!jx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gy="@firebase/app",$x="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Qw("@firebase/app"),jV="@firebase/app-compat",$V="@firebase/analytics-compat",FV="@firebase/analytics",UV="@firebase/app-check-compat",VV="@firebase/app-check",BV="@firebase/auth",WV="@firebase/auth-compat",zV="@firebase/database",HV="@firebase/data-connect",KV="@firebase/database-compat",GV="@firebase/functions",qV="@firebase/functions-compat",YV="@firebase/installations",QV="@firebase/installations-compat",JV="@firebase/messaging",XV="@firebase/messaging-compat",ZV="@firebase/performance",eB="@firebase/performance-compat",tB="@firebase/remote-config",nB="@firebase/remote-config-compat",rB="@firebase/storage",sB="@firebase/storage-compat",iB="@firebase/firestore",oB="@firebase/ai",aB="@firebase/firestore-compat",lB="firebase",cB="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="[DEFAULT]",uB={[gy]:"fire-core",[jV]:"fire-core-compat",[FV]:"fire-analytics",[$V]:"fire-analytics-compat",[VV]:"fire-app-check",[UV]:"fire-app-check-compat",[BV]:"fire-auth",[WV]:"fire-auth-compat",[zV]:"fire-rtdb",[HV]:"fire-data-connect",[KV]:"fire-rtdb-compat",[GV]:"fire-fn",[qV]:"fire-fn-compat",[YV]:"fire-iid",[QV]:"fire-iid-compat",[JV]:"fire-fcm",[XV]:"fire-fcm-compat",[ZV]:"fire-perf",[eB]:"fire-perf-compat",[tB]:"fire-rc",[nB]:"fire-rc-compat",[rB]:"fire-gcs",[sB]:"fire-gcs-compat",[iB]:"fire-fst",[aB]:"fire-fst-compat",[oB]:"fire-vertex","fire-js":"fire-js",[lB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,dB=new Map,vy=new Map;function Fx(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Na(t){const e=t.name;if(vy.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,t);for(const n of Dh.values())Fx(n,t);for(const n of dB.values())Fx(n,t);return!0}function Xw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Su("app","Firebase",hB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=cB;function wI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:yy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ns.create("bad-app-name",{appName:String(s)});if(n||(n=uI()),!n)throw Ns.create("no-options");const i=Dh.get(s);if(i){if(qi(n,i.options)&&qi(r,i.config))return i;throw Ns.create("duplicate-app",{appName:s})}const o=new wV(s);for(const l of vy.values())o.addComponent(l);const a=new fB(n,r,o);return Dh.set(s,a),a}function _I(t=yy){const e=Dh.get(t);if(!e&&t===yy&&uI())return wI();if(!e)throw Ns.create("no-app",{appName:t});return e}function Os(t,e,n){let r=uB[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(o.join(" "));return}Na(new Yi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB="firebase-heartbeat-database",mB=1,Bc="firebase-heartbeat-store";let gm=null;function bI(){return gm||(gm=NV(pB,mB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ns.create("idb-open",{originalErrorMessage:t.message})})),gm}async function gB(t){try{const n=(await bI()).transaction(Bc),r=await n.objectStore(Bc).get(xI(t));return await n.done,r}catch(e){if(e instanceof Xs)$r.warn(e.message);else{const n=Ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function Ux(t,e){try{const r=(await bI()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,xI(t)),await r.done}catch(n){if(n instanceof Xs)$r.warn(n.message);else{const r=Ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(r.message)}}}function xI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=1024,vB=30;class wB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Vx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>vB){const o=xB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$r.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vx(),{heartbeatsToSend:r,unsentEntries:s}=_B(this._heartbeatsCache.heartbeats),i=Ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return $r.warn(n),""}}}function Vx(){return new Date().toISOString().substring(0,10)}function _B(t,e=yB){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Bx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Bx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sV()?iV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ux(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ux(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Bx(t){return Ah(JSON.stringify({version:2,heartbeats:t})).length}function xB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t){Na(new Yi("platform-logger",e=>new LV(e),"PRIVATE")),Na(new Yi("heartbeat",e=>new wB(e),"PRIVATE")),Os(gy,$x,t),Os(gy,$x,"esm2020"),Os("fire-js","")}SB("");function SI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EB=SI,EI=new Su("auth","Firebase",SI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Qw("@firebase/auth");function CB(t,...e){Lh.logLevel<=Ee.WARN&&Lh.warn(`Auth (${el}): ${t}`,...e)}function zd(t,...e){Lh.logLevel<=Ee.ERROR&&Lh.error(`Auth (${el}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw Zw(t,...e)}function cr(t,...e){return Zw(t,...e)}function CI(t,e,n){const r={...EB(),[e]:n};return new Su("auth","Firebase",r).create(e,{appName:t.name})}function Ds(t){return CI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EI.create(t,...e)}function Q(t,e,...n){if(!t)throw Zw(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zd(e),new Error(e)}function Fr(t,e){t||Tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function TB(){return Wx()==="http:"||Wx()==="https:"}function Wx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TB()||nV()||"connection"in navigator)?navigator.onLine:!0}function kB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=qw()||pI()}get(){return PB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t,e){Fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AB=new Eu(3e4,6e4);function ho(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zs(t,e,n,r,s={}){return PI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Za({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return tV()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Xa(t.emulatorConfig.host)&&(c.credentials="include"),TI.fetch()(await kI(t,t.config.apiHost,n,a),c)})}async function PI(t,e,n){t._canInitEmulator=!1;const r={...IB,...e};try{const s=new OB(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hd(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw CI(t,u,c);qn(t,u)}}catch(s){if(s instanceof Xs)throw s;qn(t,"network-request-failed",{message:String(s)})}}async function Jf(t,e,n,r,s={}){const i=await Zs(t,e,n,r,s);return"mfaPendingCredential"in i&&qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function kI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?e0(t.config,s):`${t.config.apiScheme}://${s}`;return RB.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function NB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),AB.get())})}}function hd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=cr(t,e,r);return s.customData._tokenResponse=n,s}function zx(t){return t!==void 0&&t.enterprise!==void 0}class DB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LB(t,e){return Zs(t,"GET","/v2/recaptchaConfig",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MB(t,e){return Zs(t,"POST","/v1/accounts:delete",e)}async function Mh(t,e){return Zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jB(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),s=t0(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ec(ym(s.auth_time)),issuedAtTime:ec(ym(s.iat)),expirationTime:ec(ym(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ym(t){return Number(t)*1e3}function t0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Nh(n);return s?JSON.parse(s):(zd("Failed to decode base64 JWT payload"),null)}catch(s){return zd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Hx(t){const e=t0(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xs&&$B(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $B({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Wc(t,Mh(e,{idToken:n}));Q(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(d=s.providerUserInfo)!=null&&d.length?II(s.providerUserInfo):[],o=VB(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new _y(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function UB(t){const e=Ct(t);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VB(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function II(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BB(t,e){const n=await PI(t,{},async()=>{const r=Za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await kI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Xa(t.emulatorConfig.host)&&(l.credentials="include"),TI.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WB(t,e){return Zs(t,"POST","/v2/accounts:revokeToken",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=Hx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await BB(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new oa;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Q(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new FB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _y(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jB(this,e)}reload(){return UB(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Ds(this.auth));const e=await this.getIdToken();return await Wc(this,MB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:f,providerData:g,stsTokenManager:m}=n;Q(d&&m,e,"internal-error");const _=oa.fromJSON(this.name,m);Q(typeof d=="string",e,"internal-error"),es(r,e.name),es(s,e.name),Q(typeof h=="boolean",e,"internal-error"),Q(typeof f=="boolean",e,"internal-error"),es(i,e.name),es(o,e.name),es(a,e.name),es(l,e.name),es(c,e.name),es(u,e.name);const w=new Fn({uid:d,auth:e,email:s,emailVerified:h,displayName:r,isAnonymous:f,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:_,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(w.providerData=g.map(v=>({...v}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new oa;s.updateFromServerResponse(n);const i=new Fn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await jh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Q(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?II(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new oa;a.updateFromIdToken(r);const l=new Fn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new _y(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Map;function Pr(t){Fr(t instanceof Function,"Expected a class definition");let e=Kx.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Kx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RI.type="NONE";const Gx=RI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t,e,n){return`firebase:${t}:${e}:${n}`}class aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Hd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Hd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new aa(Pr(Gx),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Pr(Gx);const o=Hd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let d;if(typeof u=="string"){const h=await Mh(e,{idToken:u}).catch(()=>{});if(!h)break;d=await Fn._fromGetAccountInfoResponse(e,h,u)}else d=Fn._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new aa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new aa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MI(e))return"Blackberry";if(jI(e))return"Webos";if(NI(e))return"Safari";if((e.includes("chrome/")||OI(e))&&!e.includes("edge/"))return"Chrome";if(LI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AI(t=Ot()){return/firefox\//i.test(t)}function NI(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OI(t=Ot()){return/crios\//i.test(t)}function DI(t=Ot()){return/iemobile/i.test(t)}function LI(t=Ot()){return/android/i.test(t)}function MI(t=Ot()){return/blackberry/i.test(t)}function jI(t=Ot()){return/webos/i.test(t)}function n0(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zB(t=Ot()){var e;return n0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function HB(){return rV()&&document.documentMode===10}function $I(t=Ot()){return n0(t)||LI(t)||jI(t)||MI(t)||/windows phone/i.test(t)||DI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t,e=[]){let n;switch(t){case"Browser":n=qx(Ot());break;case"Worker":n=`${qx(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GB(t,e={}){return Zs(t,"GET","/v2/passwordPolicy",ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=6;class YB{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yx(this),this.idTokenSubscription=new Yx(this),this.beforeStateQueue=new KB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await aa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),r=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Ds(this));const n=e?Ct(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GB(this),n=new YB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pr(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&CB(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function tl(t){return Ct(t)}class Yx{constructor(e){this.auth=e,this.observer=null,this.addObserver=hV(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JB(t){Xf=t}function UI(t){return Xf.loadJS(t)}function XB(){return Xf.recaptchaEnterpriseScript}function ZB(){return Xf.gapiScript}function e5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class t5{constructor(){this.enterprise=new n5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r5="recaptcha-enterprise",VI="NO_RECAPTCHA";class s5{constructor(e){this.type=r5,this.auth=tl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{LB(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new DB(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;zx(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(VI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t5().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&zx(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=XB();l.length!==0&&(l+=a),UI(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Qx(t,e,n,r=!1,s=!1){const i=new s5(t);let o;if(s)o=VI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Jx(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Qx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Qx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t,e){const n=Xw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(qi(i,e??{}))return s;qn(s,"already-initialized")}return n.initialize({options:e})}function o5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function a5(t,e,n){const r=tl(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=BI(e),{host:o,port:a}=l5(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(qi(c,r.config.emulator)&&qi(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Xa(o)?(hI(`${i}//${o}${l}`),fI("Auth",!0)):c5()}function BI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l5(t){const e=BI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Xx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Xx(o)}}}function Xx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function u5(t,e){return Zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e){return Jf(t,"POST","/v1/accounts:signInWithPassword",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e){return Jf(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}async function f5(t,e){return Jf(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends r0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new zc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jx(e,n,"signInWithPassword",d5);case"emailLink":return h5(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jx(e,r,"signUpPassword",u5);case"emailLink":return f5(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t,e){return Jf(t,"POST","/v1/accounts:signInWithIdp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="http://localhost";class Qi extends r0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Qi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return la(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,la(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,la(e,n)}buildRequest(){const e={requestUri:p5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Za(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g5(t){const e=jl($l(t)).link,n=e?jl($l(e)).deep_link_id:null,r=jl($l(t)).deep_link_id;return(r?jl($l(r)).link:null)||r||n||e||t}class s0{constructor(e){const n=jl($l(e)),r=n.apiKey??null,s=n.oobCode??null,i=m5(n.mode??null);Q(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=g5(e);try{return new s0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(e,n){return zc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=s0.parseLink(n);return Q(r,"argument-error"),zc._fromEmailAndCode(e,r.code,r.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends WI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Cu{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qi._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Cu{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Cu{constructor(){super("twitter.com")}static credential(e,n){return Qi._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fs.credential(n,r)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Fn._fromIdTokenResponse(e,r,s),o=Zx(r);return new Oa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Zx(r);return new Oa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Zx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends Xs{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $h(e,n,r,s)}}function zI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,i,e,r):i})}async function y5(t,e,n=!1){const r=await Wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e,n=!1){const{auth:r}=t;if(jn(r.app))return Promise.reject(Ds(r));const s="reauthenticate";try{const i=await Wc(t,zI(r,s,e,t),n);Q(i.idToken,r,"internal-error");const o=t0(i.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),Oa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(t,e,n=!1){if(jn(t.app))return Promise.reject(Ds(t));const r="signIn",s=await zI(t,r,e),i=await Oa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function w5(t,e){return HI(tl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t){const e=tl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function b5(t,e,n){return jn(t.app)?Promise.reject(Ds(t)):w5(Ct(t),nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_5(t),r})}function x5(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function S5(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function KI(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function E5(t){return Ct(t).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=1e3,T5=10;class qI extends GI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$I(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);HB()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,T5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},C5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qI.type="LOCAL";const P5=qI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI extends GI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YI.type="SESSION";const QI=YI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Zf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await k5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=i0("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function R5(t){ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function A5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function O5(){return JI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="firebaseLocalStorageDb",D5=1,Uh="firebaseLocalStorage",ZI="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ep(t,e){return t.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function L5(){const t=indexedDB.deleteDatabase(XI);return new Tu(t).toPromise()}function by(){const t=indexedDB.open(XI,D5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Uh,{keyPath:ZI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Uh)?e(r):(r.close(),await L5(),e(await by()))})})}async function eS(t,e,n){const r=ep(t,!0).put({[ZI]:e,value:n});return new Tu(r).toPromise()}async function M5(t,e){const n=ep(t,!1).get(e),r=await new Tu(n).toPromise();return r===void 0?null:r.value}function tS(t,e){const n=ep(t,!0).delete(e);return new Tu(n).toPromise()}const j5=800,$5=3;class eR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await by(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(O5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await A5(),!this.activeServiceWorker)return;this.sender=new I5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await by();return await eS(e,Fh,"1"),await tS(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ep(s,!1).getAll();return new Tu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eR.type="LOCAL";const F5=eR;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t,e){return e?Pr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends r0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return la(e,this._buildIdpRequest())}_linkToIdToken(e,n){return la(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return la(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V5(t){return HI(t.auth,new o0(t),t.bypassAuthState)}function B5(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),v5(n,new o0(t),t.bypassAuthState)}async function W5(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),y5(n,new o0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V5;case"linkViaPopup":case"linkViaRedirect":return W5;case"reauthViaPopup":case"reauthViaRedirect":return B5;default:qn(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=new Eu(2e3,1e4);class Ho extends tR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=i0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z5.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="pendingRedirect",Kd=new Map;class K5 extends tR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const r=await G5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G5(t,e){const n=Q5(e),r=Y5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function q5(t,e){Kd.set(t._key(),e)}function Y5(t){return Pr(t._redirectPersistence)}function Q5(t){return Hd(H5,t.config.apiKey,t.name)}async function J5(t,e,n=!1){if(jn(t.app))return Promise.reject(Ds(t));const r=tl(t),s=U5(r,e),o=await new K5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=10*60*1e3;class Z5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nS(e))}saveEventToCache(e){this.cachedEventUids.add(nS(e)),this.lastProcessedEventTime=Date.now()}}function nS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e={}){return Zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r6=/^https?/;async function s6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await t6(t);for(const n of e)try{if(i6(n))return}catch{}qn(t,"unauthorized-domain")}function i6(t){const e=wy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!r6.test(n))return!1;if(n6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=new Eu(3e4,6e4);function rS(){const t=ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function a6(t){return new Promise((e,n)=>{var s,i,o;function r(){rS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rS(),n(cr(t,"network-request-failed"))},timeout:o6.get()})}if((i=(s=ur().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=ur().gapi)!=null&&o.load)r();else{const a=e5("iframefcb");return ur()[a]=()=>{gapi.load?r():n(cr(t,"network-request-failed"))},UI(`${ZB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gd=null,e})}let Gd=null;function l6(t){return Gd=Gd||a6(t),Gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new Eu(5e3,15e3),u6="__/auth/iframe",d6="emulator/auth/iframe",h6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p6(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e0(e,d6):`https://${t.config.authDomain}/${u6}`,r={apiKey:e.apiKey,appName:t.name,v:el},s=f6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Za(r).slice(1)}`}async function m6(t){const e=await l6(t),n=ur().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:p6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=cr(t,"network-request-failed"),a=ur().setTimeout(()=>{i(o)},c6.get());function l(){ur().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y6=500,v6=600,w6="_blank",_6="http://localhost";class sS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b6(t,e,n,r=y6,s=v6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...g6,width:r.toString(),height:s.toString(),top:i,left:o},c=Ot().toLowerCase();n&&(a=OI(c)?w6:n),AI(c)&&(e=e||_6,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(zB(c)&&a!=="_self")return x6(e||"",a),new sS(null);const d=window.open(e||"",a,u);Q(d,t,"popup-blocked");try{d.focus()}catch{}return new sS(d)}function x6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="__/auth/handler",E6="emulator/auth/handler",C6=encodeURIComponent("fac");async function iS(t,e,n,r,s,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:el,eventId:s};if(e instanceof WI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",fy(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Cu){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${C6}=${encodeURIComponent(l)}`:"";return`${T6(t)}?${Za(a).slice(1)}${c}`}function T6({config:t}){return t.emulator?e0(t,E6):`https://${t.authDomain}/${S6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class P6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QI,this._completeRedirectFn=J5,this._overrideRedirectResult=q5}async _openPopup(e,n,r,s){var o;Fr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await iS(e,n,r,wy(),s);return b6(e,i,i0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await iS(e,n,r,wy(),s);return R5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Fr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await m6(e),r=new Z5(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vm,{type:vm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[vm];i!==void 0&&n(!!i),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $I()||NI()||n0()}}const k6=P6;var oS="@firebase/auth",aS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A6(t){Na(new Yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FI(t)},c=new QB(r,s,i,l);return o5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Na(new Yi("auth-internal",e=>{const n=tl(e.getProvider("auth").getImmediate());return(r=>new I6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(oS,aS,R6(t)),Os(oS,aS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=5*60,O6=dI("authIdTokenMaxAge")||N6;let lS=null;const D6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>O6)return;const s=n==null?void 0:n.token;lS!==s&&(lS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function L6(t=_I()){const e=Xw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=i5(t,{popupRedirectResolver:k6,persistence:[F5,P5,QI]}),r=dI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=D6(i.toString());S5(n,o,()=>o(n.currentUser)),x5(n,a=>o(a))}}const s=cI("auth");return s&&a5(n,`http://${s}`),n}function M6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}JB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=cr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",M6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A6("Browser");var j6="firebase",$6="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(j6,$6,"app");var cS={};const uS="@firebase/database",dS="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rR="";function F6(t){rR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Vc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Hr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new U6(e)}}catch{}return new V6},xi=sR("localStorage"),B6=sR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Qw("@firebase/database"),W6=function(){let t=1;return function(){return t++}}(),iR=function(t){const e=mV(t),n=new dV;n.update(e);const r=n.digest();return Kw.encodeByteArray(r)},Pu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Pu.apply(null,r):typeof r=="object"?e+=tt(r):e+=r,e+=" "}return e};let tc=null,hS=!0;const z6=function(t,e){j(!e,"Can't turn on custom loggers persistently."),ca.logLevel=Ee.VERBOSE,tc=ca.log.bind(ca)},xt=function(...t){if(hS===!0&&(hS=!1,tc===null&&B6.get("logging_enabled")===!0&&z6()),tc){const e=Pu.apply(null,t);tc(e)}},ku=function(t){return function(...e){xt(t,...e)}},xy=function(...t){const e="FIREBASE INTERNAL ERROR: "+Pu(...t);ca.error(e)},Ur=function(...t){const e=`FIREBASE FATAL ERROR: ${Pu(...t)}`;throw ca.error(e),new Error(e)},qt=function(...t){const e="FIREBASE WARNING: "+Pu(...t);ca.warn(e)},H6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},oR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},K6=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Da="[MIN_NAME]",Ji="[MAX_NAME]",rl=function(t,e){if(t===e)return 0;if(t===Da||e===Ji)return-1;if(e===Da||t===Ji)return 1;{const n=fS(t),r=fS(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},G6=function(t,e){return t===e?0:t<e?-1:1},Cl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+tt(e))},a0=function(t){if(typeof t!="object"||t===null)return tt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=tt(e[r]),n+=":",n+=a0(t[e[r]]);return n+="}",n},aR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Yt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const lR=function(t){j(!oR(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},q6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Y6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Q6(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const J6=new RegExp("^-?(0*)\\d{1,10}$"),X6=-2147483648,Z6=2147483647,fS=function(t){if(J6.test(t)){const e=Number(t);if(e>=X6&&e<=Z6)return e}return null},sl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw qt("Exception was thrown by user callback.",n),e},Math.floor(0))}},eW=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},nc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,jn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qt(e)}}class qd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="5",cR="v",uR="s",dR="r",hR="f",fR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pR="ls",mR="p",Sy="ac",gR="websocket",yR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function rW(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function wR(t,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let r;if(e===gR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===yR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);rW(t)&&(n.ns=t.namespace);const s=[];return Yt(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(){this.counters_={}}incrementCounter(e,n=1){Hr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return H3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm={},_m={};function c0(t){const e=t.toString();return wm[e]||(wm[e]=new sW),wm[e]}function iW(t,e){const n=t.toString();return _m[n]||(_m[n]=e()),_m[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&sl(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="start",aW="close",lW="pLPCommand",cW="pRTLPCB",_R="id",bR="pw",xR="ser",uW="cb",dW="seg",hW="ts",fW="d",pW="dframe",SR=1870,ER=30,mW=SR-ER,gW=25e3,yW=3e4;class Ko{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ku(e),this.stats_=c0(n),this.urlFn=l=>(this.appCheckToken&&(l[Sy]=this.appCheckToken),wR(n,yR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new oW(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yW)),K6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new u0((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===pS)this.id=a,this.password=l;else if(o===aW)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[pS]="t",r[xR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[uW]=this.scriptTagHolder.uniqueCallbackIdentifier),r[cR]=l0,this.transportSessionId&&(r[uR]=this.transportSessionId),this.lastSessionId&&(r[pR]=this.lastSessionId),this.applicationId&&(r[mR]=this.applicationId),this.appCheckToken&&(r[Sy]=this.appCheckToken),typeof location<"u"&&location.hostname&&fR.test(location.hostname)&&(r[dR]=hR);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ko.forceAllow_=!0}static forceDisallow(){Ko.forceDisallow_=!0}static isAvailable(){return Ko.forceAllow_?!0:!Ko.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!q6()&&!Y6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=aI(n),s=aR(r,mW);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[pW]="t",r[_R]=e,r[bR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=tt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class u0{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=W6(),window[lW+this.uniqueCallbackIdentifier]=e,window[cW+this.uniqueCallbackIdentifier]=n,this.myIFrame=u0.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){xt("frame writing exception"),a.stack&&xt(a.stack),xt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||xt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[_R]=this.myID,e[bR]=this.myPW,e[xR]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ER+r.length<=SR;){const o=this.pendingSegs.shift();r=r+"&"+dW+s+"="+o.seg+"&"+hW+s+"="+o.ts+"&"+fW+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(gW)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=16384,wW=45e3;let Vh=null;typeof MozWebSocket<"u"?Vh=MozWebSocket:typeof WebSocket<"u"&&(Vh=WebSocket);class $n{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ku(this.connId),this.stats_=c0(n),this.connURL=$n.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[cR]=l0,typeof location<"u"&&location.hostname&&fR.test(location.hostname)&&(o[dR]=hR),n&&(o[uR]=n),r&&(o[pR]=r),s&&(o[Sy]=s),i&&(o[mR]=i),wR(e,gR,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xi.set("previous_websocket_failure",!0);try{let r;mI(),this.mySock=new Vh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){$n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Vh!==null&&!$n.forceDisallow_}static previouslyFailed(){return xi.isInMemoryStorage||xi.get("previous_websocket_failure")===!0}markConnectionHealthy(){xi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Vc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=aR(n,vW);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wW))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$n.responsesRequiredToBeHealthy=2;$n.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{static get ALL_TRANSPORTS(){return[Ko,$n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=$n&&$n.isAvailable();let r=n&&!$n.previouslyFailed();if(e.webSocketOnly&&(n||qt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[$n];else{const s=this.transports_=[];for(const i of Hc.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Hc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W=6e4,bW=5e3,xW=10*1024,SW=100*1024,bm="t",mS="d",EW="s",gS="r",CW="e",yS="o",vS="a",wS="n",_S="p",TW="h";class PW{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ku("c:"+this.id+":"),this.transportManager_=new Hc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=nc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>SW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(bm in e){const n=e[bm];n===vS?this.upgradeIfSecondaryHealthy_():n===gS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===yS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Cl("t",e),r=Cl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_S,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:wS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Cl("t",e),r=Cl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Cl(bm,e);if(mS in e){const r=e[mS];if(n===TW){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===wS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===EW?this.onConnectionShutdown_(r):n===gS?this.onReset_(r):n===CW?xy("Server Error: "+r):n===yS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),l0!==r&&qt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),nc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_W))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(bW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_S,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TR=class{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends TR{static getInstance(){return new Bh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=32,xS=768;class Ce{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ye(){return new Ce("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function zs(t){return t.pieces_.length-t.pieceNum_}function Pe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ce(t.pieces_,e)}function PR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function kW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function kR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function IR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ce(e,0)}function nt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ce(n,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function Rt(t,e){const n=ae(t),r=ae(e);if(n===null)return e;if(n===r)return Rt(Pe(t),Pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function d0(t,e){if(zs(t)!==zs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Un(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(zs(t)>zs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class IW{constructor(e,n){this.errorPrefix_=n,this.parts_=kR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qf(this.parts_[r]);RR(this)}}function RW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Qf(e),RR(t)}function AW(t){const e=t.parts_.pop();t.byteLength_-=Qf(e),t.parts_.length>0&&(t.byteLength_-=1)}function RR(t){if(t.byteLength_>xS)throw new Error(t.errorPrefix_+"has a key path longer than "+xS+" bytes ("+t.byteLength_+").");if(t.parts_.length>bS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bS+") or object contains a cycle "+pi(t))}function pi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends TR{static getInstance(){return new h0}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=1e3,NW=60*5*1e3,SS=30*1e3,OW=1.3,DW=3e4,LW="server_kill",ES=3;class Rr extends CR{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Rr.nextPersistentConnectionId_++,this.log_=ku("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tl,this.maxReconnectDelay_=NW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!mI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");h0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Bh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(tt(i)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Yf,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Rr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Hr(e,"w")){const r=Aa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();qt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uV(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=SS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=cV(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):xy("Unrecognized action received from server: "+tt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Tl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>DW&&(this.reconnectDelay_=Tl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*OW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Rr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){j(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new PW(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{qt(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(LW)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&qt(d),l())}}}interrupt(e){xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],fy(this.interruptReasons_)&&(this.reconnectDelay_=Tl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>a0(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ce(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){xt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ES&&(this.reconnectDelay_=SS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){xt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ES&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+rR.replace(/\./g,"-")]=1,qw()?e["framework.cordova"]=1:pI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Bh.getInstance().currentlyOnline();return fy(this.interruptReasons_)&&e}}Rr.nextPersistentConnectionId_=0;Rr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new le(Da,e),s=new le(Da,n);return this.compare(r,s)!==0}minPost(){return le.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd;class AR extends tp{static get __EMPTY_NODE(){return fd}static set __EMPTY_NODE(e){fd=e}compare(e,n){return rl(e.name,n.name)}isDefinedOn(e){throw Ja("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return le.MIN}maxPost(){return new le(Ji,fd)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new le(e,fd)}toString(){return".key"}}const ua=new AR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class at{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??at.RED,this.left=s??Bt.EMPTY_NODE,this.right=i??Bt.EMPTY_NODE}copy(e,n,r,s,i){return new at(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Bt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class MW{copy(e,n,r,s,i){return this}insert(e,n,r){return new at(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Bt{constructor(e,n=Bt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Bt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(e){return new Bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,at.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new pd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new pd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new pd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new pd(this.root_,null,this.comparator_,!0,e)}}Bt.EMPTY_NODE=new MW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(t,e){return rl(t.name,e.name)}function f0(t,e){return rl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ey;function $W(t){Ey=t}const NR=function(t){return typeof t=="number"?"number:"+lR(t):"string:"+t},OR=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Hr(e,".sv"),"Priority must be a string or number.")}else j(t===Ey||t.isEmpty(),"priority of unexpected type.");j(t===Ey||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CS;class it{static set __childrenNodeConstructor(e){CS=e}static get __childrenNodeConstructor(){return CS}constructor(e,n=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),OR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ce(e)?this:ae(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(j(r!==".priority"||zs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+NR(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=lR(this.value_):e+=this.value_,this.lazyHash_=iR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=it.VALUE_TYPE_ORDER.indexOf(n),i=it.VALUE_TYPE_ORDER.indexOf(r);return j(s>=0,"Unknown leaf type: "+n),j(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DR,LR;function FW(t){DR=t}function UW(t){LR=t}class VW extends tp{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?rl(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return le.MIN}maxPost(){return new le(Ji,new it("[PRIORITY-POST]",LR))}makePost(e,n){const r=DR(e);return new le(n,new it("[PRIORITY-POST]",r))}toString(){return".priority"}}const He=new VW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=Math.log(2);class WW{constructor(e){const n=i=>parseInt(Math.log(i)/BW,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Wh=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new at(h,d.node,at.BLACK,null,null);{const f=parseInt(u/2,10)+l,g=s(l,f),m=s(f+1,c);return d=t[f],h=n?n(d):d,new at(h,d.node,at.BLACK,g,m)}},i=function(l){let c=null,u=null,d=t.length;const h=function(g,m){const _=d-g,w=d;d-=g;const v=s(_+1,w),b=t[_],x=n?n(b):b;f(new at(x,b.node,m,null,v))},f=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const m=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));m?h(_,at.BLACK):(h(_,at.BLACK),h(_,at.RED))}return u},o=new WW(t.length),a=i(o);return new Bt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm;const _o={};class kr{static get Default(){return j(_o&&He,"ChildrenNode.ts has not been loaded"),xm=xm||new kr({".priority":_o},{".priority":He}),xm}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Aa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Bt?n:null}hasIndex(e){return Hr(this.indexSet_,e.toString())}addIndex(e,n){j(e!==ua,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(le.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Wh(r,e.getCompare()):a=_o;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=a,new kr(u,c)}addToIndexes(e,n){const r=Oh(this.indexes_,(s,i)=>{const o=Aa(this.indexSet_,i);if(j(o,"Missing index implementation for "+i),s===_o)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(le.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Wh(a,o.getCompare())}else return _o;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new le(e.name,a))),l.insert(e,e.node)}});return new kr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Oh(this.indexes_,s=>{if(s===_o)return s;{const i=n.get(e.name);return i?s.remove(new le(e.name,i)):s}});return new kr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl;class J{static get EMPTY_NODE(){return Pl||(Pl=new J(new Bt(f0),null,kr.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&OR(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pl}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Pl:n}}getChild(e){const n=ae(e);return n===null?this:this.getImmediateChild(n).getChild(Pe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new le(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Pl:this.priorityNode_;return new J(s,o,i)}}updateChild(e,n){const r=ae(e);if(r===null)return n;{j(ae(e)!==".priority"||zs(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Pe(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(He,(o,a)=>{n[o]=a.val(e),r++,i&&J.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+NR(this.getPriority().val())+":"),this.forEachChild(He,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":iR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new le(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new le(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,le.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,le.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Iu?-1:0}withIndex(e){if(e===ua||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ua||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(He),s=n.getIterator(He);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ua?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zW extends J{constructor(){super(new Bt(f0),J.EMPTY_NODE,kr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const Iu=new zW;Object.defineProperties(le,{MIN:{value:new le(Da,J.EMPTY_NODE)},MAX:{value:new le(Ji,Iu)}});AR.__EMPTY_NODE=J.EMPTY_NODE;it.__childrenNodeConstructor=J;$W(Iu);UW(Iu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=!0;function lt(t,e=null){if(t===null)return J.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new it(n,lt(e))}if(!(t instanceof Array)&&HW){const n=[];let r=!1;if(Yt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=lt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new le(o,l)))}}),n.length===0)return J.EMPTY_NODE;const i=Wh(n,jW,o=>o.name,f0);if(r){const o=Wh(n,He.getCompare());return new J(i,lt(e),new kr({".priority":o},{".priority":He}))}else return new J(i,lt(e),kr.Default)}else{let n=J.EMPTY_NODE;return Yt(t,(r,s)=>{if(Hr(t,r)&&r.substring(0,1)!=="."){const i=lt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(lt(e))}}FW(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW extends tp{constructor(e){super(),this.indexPath_=e,j(!ce(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?rl(e.name,n.name):i}makePost(e,n){const r=lt(e),s=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new le(n,s)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,Iu);return new le(Ji,e)}toString(){return kR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW extends tp{compare(e,n){const r=e.node.compareTo(n.node);return r===0?rl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(e,n){const r=lt(e);return new le(n,r)}toString(){return".value"}}const qW=new GW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){return{type:"value",snapshotNode:t}}function La(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Kc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Gc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function YW(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Kc(n,a)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(La(n,r)):o.trackChildChange(Gc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(He,(s,i)=>{n.hasChild(s)||r.trackChildChange(Kc(s,i))}),n.isLeafNode()||n.forEachChild(He,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Gc(s,i,o))}else r.trackChildChange(La(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.indexedFilter_=new p0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qc.getStartPost_(e),this.endPost_=qc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new le(n,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=J.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(J.EMPTY_NODE);const i=this;return n.forEachChild(He,(o,a)=>{i.matches(new le(o,a))||(s=s.updateImmediateChild(o,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new qc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new le(n,r))||(r=J.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=J.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(J.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;j(a.numChildren()===this.limit_,"");const l=new le(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return i!=null&&i.trackChildChange(Gc(n,r,d)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Kc(n,d));const m=a.updateImmediateChild(n,J.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(La(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Kc(c.name,c.node)),i.trackChildChange(La(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Da}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ji}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new m0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function JW(t){return t.loadsAllData()?new p0(t.getIndex()):t.hasLimit()?new QW(t):new qc(t)}function TS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===qW?n="$value":t.index_===ua?n="$key":(j(t.index_ instanceof KW,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=tt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=tt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+tt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=tt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function PS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends CR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=ku("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=zh.getListenId_(e,r),a={};this.listens_[o]=a;const l=TS(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),Aa(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=zh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=TS(e._queryParams),r=e._path.toString(),s=new Yf;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Za(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Vc(a.responseText)}catch{qt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&qt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(){return{value:null,children:new Map}}function jR(t,e,n){if(ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ae(e);t.children.has(r)||t.children.set(r,Hh());const s=t.children.get(r);e=Pe(e),jR(s,e,n)}}function Cy(t,e,n){t.value!==null?n(e,t.value):ZW(t,(r,s)=>{const i=new Ce(e.toString()+"/"+r);Cy(s,i,n)})}function ZW(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Yt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=10*1e3,tz=30*1e3,nz=5*60*1e3;class rz{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ez(e);const r=kS+(tz-kS)*Math.random();nc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Yt(e,(s,i)=>{i>0&&Hr(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),nc(this.reportStats_.bind(this),Math.floor(Math.random()*2*nz))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vn||(Vn={}));function $R(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function g0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function y0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Vn.ACK_USER_WRITE,this.source=$R()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ce(e));return new Kh(ye(),n,this.revert)}}else return j(ae(this.path)===e,"operationForChild called for unrelated child."),new Kh(Pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this.source=e,this.path=n,this.type=Vn.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new Yc(this.source,ye()):new Yc(this.source,Pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Vn.OVERWRITE}operationForChild(e){return ce(this.path)?new Xi(this.source,ye(),this.snap.getImmediateChild(e)):new Xi(this.source,Pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Vn.MERGE}operationForChild(e){if(ce(this.path)){const n=this.children.subtree(new Ce(e));return n.isEmpty()?null:n.value?new Xi(this.source,ye(),n.value):new Qc(this.source,ye(),n)}else return j(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Qc(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function iz(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(YW(o.childName,o.snapshotNode))}),kl(t,s,"child_removed",e,r,n),kl(t,s,"child_added",e,r,n),kl(t,s,"child_moved",i,r,n),kl(t,s,"child_changed",e,r,n),kl(t,s,"value",e,r,n),s}function kl(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>az(t,a,l)),o.forEach(a=>{const l=oz(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function oz(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function az(t,e,n){if(e.childName==null||n.childName==null)throw Ja("Should only compare child_ events.");const r=new le(e.childName,e.snapshotNode),s=new le(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t,e){return{eventCache:t,serverCache:e}}function rc(t,e,n,r){return np(new Hs(e,n,r),t.serverCache)}function FR(t,e,n,r){return np(t.eventCache,new Hs(e,n,r))}function Gh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sm;const lz=()=>(Sm||(Sm=new Bt(G6)),Sm);class Ae{static fromObject(e){let n=new Ae(null);return Yt(e,(r,s)=>{n=n.set(new Ce(r),s)}),n}constructor(e,n=lz()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ye(),value:this.value};if(ce(e))return null;{const r=ae(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Pe(e),n);return i!=null?{path:nt(new Ce(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const n=ae(e),r=this.children.get(n);return r!==null?r.subtree(Pe(e)):new Ae(null)}}set(e,n){if(ce(e))return new Ae(n,this.children);{const r=ae(e),i=(this.children.get(r)||new Ae(null)).set(Pe(e),n),o=this.children.insert(r,i);return new Ae(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new Ae(null):new Ae(null,this.children);{const n=ae(e),r=this.children.get(n);if(r){const s=r.remove(Pe(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Ae(null):new Ae(this.value,i)}else return this}}get(e){if(ce(e))return this.value;{const n=ae(e),r=this.children.get(n);return r?r.get(Pe(e)):null}}setTree(e,n){if(ce(e))return n;{const r=ae(e),i=(this.children.get(r)||new Ae(null)).setTree(Pe(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Ae(this.value,o)}}fold(e){return this.fold_(ye(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(nt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ye(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ce(e))return null;{const i=ae(e),o=this.children.get(i);return o?o.findOnPath_(Pe(e),nt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ye(),n)}foreachOnPath_(e,n,r){if(ce(e))return this;{this.value&&r(n,this.value);const s=ae(e),i=this.children.get(s);return i?i.foreachOnPath_(Pe(e),nt(n,s),r):new Ae(null)}}foreach(e){this.foreach_(ye(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(nt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.writeTree_=e}static empty(){return new zn(new Ae(null))}}function sc(t,e,n){if(ce(e))return new zn(new Ae(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Rt(s,e);return i=i.updateChild(o,n),new zn(t.writeTree_.set(s,i))}else{const s=new Ae(n),i=t.writeTree_.setTree(e,s);return new zn(i)}}}function IS(t,e,n){let r=t;return Yt(n,(s,i)=>{r=sc(r,nt(e,s),i)}),r}function RS(t,e){if(ce(e))return zn.empty();{const n=t.writeTree_.setTree(e,new Ae(null));return new zn(n)}}function Ty(t,e){return fo(t,e)!=null}function fo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rt(n.path,e)):null}function AS(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(r,s)=>{e.push(new le(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new le(r,s.value))}),e}function Ls(t,e){if(ce(e))return t;{const n=fo(t,e);return n!=null?new zn(new Ae(n)):new zn(t.writeTree_.subtree(e))}}function Py(t){return t.writeTree_.isEmpty()}function Ma(t,e){return UR(ye(),t.writeTree_,e)}function UR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(j(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=UR(nt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(nt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t,e){return zR(e,t)}function cz(t,e,n,r,s){j(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=sc(t.visibleWrites,e,n)),t.lastWriteId=r}function uz(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function dz(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&hz(a,r.path)?s=!1:Un(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return fz(t),!0;if(r.snap)t.visibleWrites=RS(t.visibleWrites,r.path);else{const a=r.children;Yt(a,l=>{t.visibleWrites=RS(t.visibleWrites,nt(r.path,l))})}return!0}else return!1}function hz(t,e){if(t.snap)return Un(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Un(nt(t.path,n),e))return!0;return!1}function fz(t){t.visibleWrites=VR(t.allWrites,pz,ye()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function pz(t){return t.visible}function VR(t,e,n){let r=zn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Un(n,o)?(a=Rt(n,o),r=sc(r,a,i.snap)):Un(o,n)&&(a=Rt(o,n),r=sc(r,ye(),i.snap.getChild(a)));else if(i.children){if(Un(n,o))a=Rt(n,o),r=IS(r,a,i.children);else if(Un(o,n))if(a=Rt(o,n),ce(a))r=IS(r,ye(),i.children);else{const l=Aa(i.children,ae(a));if(l){const c=l.getChild(Pe(a));r=sc(r,ye(),c)}}}else throw Ja("WriteRecord should have .snap or .children")}}return r}function BR(t,e,n,r,s){if(!r&&!s){const i=fo(t.visibleWrites,e);if(i!=null)return i;{const o=Ls(t.visibleWrites,e);if(Py(o))return n;if(n==null&&!Ty(o,ye()))return null;{const a=n||J.EMPTY_NODE;return Ma(o,a)}}}else{const i=Ls(t.visibleWrites,e);if(!s&&Py(i))return n;if(!s&&n==null&&!Ty(i,ye()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Un(c.path,e)||Un(e,c.path))},a=VR(t.allWrites,o,e),l=n||J.EMPTY_NODE;return Ma(a,l)}}}function mz(t,e,n){let r=J.EMPTY_NODE;const s=fo(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(He,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Ls(t.visibleWrites,e);return n.forEachChild(He,(o,a)=>{const l=Ma(Ls(i,new Ce(o)),a);r=r.updateImmediateChild(o,l)}),AS(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Ls(t.visibleWrites,e);return AS(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function gz(t,e,n,r,s){j(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=nt(e,n);if(Ty(t.visibleWrites,i))return null;{const o=Ls(t.visibleWrites,i);return Py(o)?s.getChild(n):Ma(o,s.getChild(n))}}function yz(t,e,n,r){const s=nt(e,n),i=fo(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Ls(t.visibleWrites,s);return Ma(o,r.getNode().getImmediateChild(n))}else return null}function vz(t,e){return fo(t.visibleWrites,e)}function wz(t,e,n,r,s,i,o){let a;const l=Ls(t.visibleWrites,e),c=fo(l,ye());if(c!=null)a=c;else if(n!=null)a=Ma(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<s;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function _z(){return{visibleWrites:zn.empty(),allWrites:[],lastWriteId:-1}}function qh(t,e,n,r){return BR(t.writeTree,t.treePath,e,n,r)}function v0(t,e){return mz(t.writeTree,t.treePath,e)}function NS(t,e,n,r){return gz(t.writeTree,t.treePath,e,n,r)}function Yh(t,e){return vz(t.writeTree,nt(t.treePath,e))}function bz(t,e,n,r,s,i){return wz(t.writeTree,t.treePath,e,n,r,s,i)}function w0(t,e,n){return yz(t.writeTree,t.treePath,e,n)}function WR(t,e){return zR(nt(t.treePath,e),t.writeTree)}function zR(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Gc(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Kc(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,La(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Gc(r,e.snapshotNode,s.oldSnap));else throw Ja("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const HR=new Sz;class _0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Hs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return w0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zi(this.viewCache_),i=bz(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t){return{filter:t}}function Cz(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Tz(t,e,n,r,s){const i=new xz;let o,a;if(n.type===Vn.OVERWRITE){const c=n;c.source.fromUser?o=ky(t,e,c.path,c.snap,r,s,i):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ce(c.path),o=Qh(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Vn.MERGE){const c=n;c.source.fromUser?o=kz(t,e,c.path,c.children,r,s,i):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Iy(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Vn.ACK_USER_WRITE){const c=n;c.revert?o=Az(t,e,c.path,r,s,i):o=Iz(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Vn.LISTEN_COMPLETE)o=Rz(t,e,n.path,r,i);else throw Ja("Unknown operation type: "+n.type);const l=i.getChanges();return Pz(e,o,l),{viewCache:o,changes:l}}function Pz(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Gh(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(MR(Gh(e)))}}function KR(t,e,n,r,s,i){const o=e.eventCache;if(Yh(r,n)!=null)return e;{let a,l;if(ce(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Zi(e),u=c instanceof J?c:J.EMPTY_NODE,d=v0(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=qh(r,Zi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=ae(n);if(c===".priority"){j(zs(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=NS(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Pe(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=NS(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=w0(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return rc(e,a,o.isFullyInitialized()||ce(n),t.filter.filtersNodes())}}function Qh(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ce(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=ae(n);if(!l.isCompleteForPath(n)&&zs(n)>1)return e;const g=Pe(n),_=l.getNode().getImmediateChild(f).updateChild(g,r);f===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),f,_,g,HR,null)}const d=FR(e,c,l.isFullyInitialized()||ce(n),u.filtersNodes()),h=new _0(s,d,i);return KR(t,d,n,s,h,a)}function ky(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new _0(s,e,i);if(ce(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=rc(e,c,!0,t.filter.filtersNodes());else{const d=ae(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=rc(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Pe(n),f=a.getNode().getImmediateChild(d);let g;if(ce(h))g=r;else{const m=u.getCompleteChild(d);m!=null?PR(h)===".priority"&&m.getChild(IR(h)).isEmpty()?g=m:g=m.updateChild(h,r):g=J.EMPTY_NODE}if(f.equals(g))l=e;else{const m=t.filter.updateChild(a.getNode(),d,g,h,u,o);l=rc(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function OS(t,e){return t.eventCache.isCompleteForChild(e)}function kz(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=nt(n,l);OS(e,ae(u))&&(a=ky(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=nt(n,l);OS(e,ae(u))||(a=ky(t,a,u,c,s,i,o))}),a}function DS(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Iy(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ce(n)?c=r:c=new Ae(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),g=DS(t,f,h);l=Qh(t,l,new Ce(d),g,s,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const g=e.serverCache.getNode().getImmediateChild(d),m=DS(t,g,h);l=Qh(t,l,new Ce(d),m,s,i,o,a)}}),l}function Iz(t,e,n,r,s,i,o){if(Yh(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ce(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Qh(t,e,n,l.getNode().getChild(n),s,i,a,o);if(ce(n)){let c=new Ae(null);return l.getNode().forEachChild(ua,(u,d)=>{c=c.set(new Ce(u),d)}),Iy(t,e,n,c,s,i,a,o)}else return e}else{let c=new Ae(null);return r.foreach((u,d)=>{const h=nt(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Iy(t,e,n,c,s,i,a,o)}}function Rz(t,e,n,r,s){const i=e.serverCache,o=FR(e,i.getNode(),i.isFullyInitialized()||ce(n),i.isFiltered());return KR(t,o,n,r,HR,s)}function Az(t,e,n,r,s,i){let o;if(Yh(r,n)!=null)return e;{const a=new _0(r,e,s),l=e.eventCache.getNode();let c;if(ce(n)||ae(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=qh(r,Zi(e));else{const d=e.serverCache.getNode();j(d instanceof J,"serverChildren would be complete if leaf node"),u=v0(r,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=ae(n);let d=w0(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Pe(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,J.EMPTY_NODE,Pe(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=qh(r,Zi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Yh(r,ye())!=null,rc(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new p0(r.getIndex()),i=JW(r);this.processor_=Ez(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(J.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(J.EMPTY_NODE,a.getNode(),null),u=new Hs(l,o.isFullyInitialized(),s.filtersNodes()),d=new Hs(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=np(d,u),this.eventGenerator_=new sz(this.query_)}get query(){return this.query_}}function Oz(t){return t.viewCache_.serverCache.getNode()}function Dz(t){return Gh(t.viewCache_)}function Lz(t,e){const n=Zi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ce(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function LS(t){return t.eventRegistrations_.length===0}function Mz(t,e){t.eventRegistrations_.push(e)}function MS(t,e,n){const r=[];if(n){j(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function jS(t,e,n,r){e.type===Vn.MERGE&&e.source.queryId!==null&&(j(Zi(t.viewCache_),"We should always have a full cache before handling merges"),j(Gh(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=Tz(t.processor_,s,e,n,r);return Cz(t.processor_,i.viewCache),j(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,GR(t,i.changes,i.viewCache.eventCache.getNode(),null)}function jz(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(i,o)=>{r.push(La(i,o))}),n.isFullyInitialized()&&r.push(MR(n.getNode())),GR(t,r,n.getNode(),e)}function GR(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return iz(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh;class qR{constructor(){this.views=new Map}}function $z(t){j(!Jh,"__referenceConstructor has already been defined"),Jh=t}function Fz(){return j(Jh,"Reference.ts has not been loaded"),Jh}function Uz(t){return t.views.size===0}function b0(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return j(i!=null,"SyncTree gave us an op for an invalid query."),jS(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(jS(o,e,n,r));return i}}function YR(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=qh(n,s?r:null),l=!1;a?l=!0:r instanceof J?(a=v0(n,r),l=!1):(a=J.EMPTY_NODE,l=!1);const c=np(new Hs(a,l,!1),new Hs(r,s,!1));return new Nz(e,c)}return o}function Vz(t,e,n,r,s,i){const o=YR(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Mz(o,n),jz(o,n)}function Bz(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=Ks(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(MS(c,n,r)),LS(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(MS(l,n,r)),LS(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Ks(t)&&i.push(new(Fz())(e._repo,e._path)),{removed:i,events:o}}function QR(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ms(t,e){let n=null;for(const r of t.views.values())n=n||Lz(r,e);return n}function JR(t,e){if(e._queryParams.loadsAllData())return sp(t);{const r=e._queryIdentifier;return t.views.get(r)}}function XR(t,e){return JR(t,e)!=null}function Ks(t){return sp(t)!=null}function sp(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh;function Wz(t){j(!Xh,"__referenceConstructor has already been defined"),Xh=t}function zz(){return j(Xh,"Reference.ts has not been loaded"),Xh}let Hz=1;class $S{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ae(null),this.pendingWriteTree_=_z(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ZR(t,e,n,r,s){return cz(t.pendingWriteTree_,e,n,r,s),s?Au(t,new Xi($R(),e,n)):[]}function Si(t,e,n=!1){const r=uz(t.pendingWriteTree_,e);if(dz(t.pendingWriteTree_,e)){let i=new Ae(null);return r.snap!=null?i=i.set(ye(),!0):Yt(r.children,o=>{i=i.set(new Ce(o),!0)}),Au(t,new Kh(r.path,i,n))}else return[]}function Ru(t,e,n){return Au(t,new Xi(g0(),e,n))}function Kz(t,e,n){const r=Ae.fromObject(n);return Au(t,new Qc(g0(),e,r))}function Gz(t,e){return Au(t,new Yc(g0(),e))}function qz(t,e,n){const r=S0(t,n);if(r){const s=E0(r),i=s.path,o=s.queryId,a=Rt(i,e),l=new Yc(y0(o),a);return C0(t,i,l)}else return[]}function Zh(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||XR(o,e))){const l=Bz(o,e,n,r);Uz(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(h,f)=>Ks(f));if(u&&!d){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const f=Jz(h);for(let g=0;g<f.length;++g){const m=f[g],_=m.query,w=rA(t,m);t.listenProvider_.startListening(ic(_),Jc(t,_),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ic(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(ip(h));t.listenProvider_.stopListening(ic(h),f)}))}Xz(t,c)}return a}function eA(t,e,n,r){const s=S0(t,r);if(s!=null){const i=E0(s),o=i.path,a=i.queryId,l=Rt(o,e),c=new Xi(y0(a),l,n);return C0(t,o,c)}else return[]}function Yz(t,e,n,r){const s=S0(t,r);if(s){const i=E0(s),o=i.path,a=i.queryId,l=Rt(o,e),c=Ae.fromObject(n),u=new Qc(y0(a),l,c);return C0(t,o,u)}else return[]}function Ry(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,f)=>{const g=Rt(h,s);i=i||Ms(f,g),o=o||Ks(f)});let a=t.syncPointTree_.get(s);a?(o=o||Ks(a),i=i||Ms(a,ye())):(a=new qR,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=J.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((f,g)=>{const m=Ms(g,ye());m&&(i=i.updateImmediateChild(f,m))}));const c=XR(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=ip(e);j(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=Zz();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const u=rp(t.pendingWriteTree_,s);let d=Vz(a,e,n,u,i,l);if(!c&&!o&&!r){const h=JR(a,e);d=d.concat(eH(t,e,h))}return d}function x0(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Rt(o,e),c=Ms(a,l);if(c)return c});return BR(s,e,i,n,!0)}function Qz(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Rt(c,n);r=r||Ms(u,d)});let s=t.syncPointTree_.get(n);s?r=r||Ms(s,ye()):(s=new qR,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new Hs(r,!0,!1):null,a=rp(t.pendingWriteTree_,e._path),l=YR(s,e,a,i?o.getNode():J.EMPTY_NODE,i);return Dz(l)}function Au(t,e){return tA(e,t.syncPointTree_,null,rp(t.pendingWriteTree_,ye()))}function tA(t,e,n,r){if(ce(t.path))return nA(t,e,n,r);{const s=e.get(ye());n==null&&s!=null&&(n=Ms(s,ye()));let i=[];const o=ae(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=WR(r,o);i=i.concat(tA(a,l,c,u))}return s&&(i=i.concat(b0(s,t,r,n))),i}}function nA(t,e,n,r){const s=e.get(ye());n==null&&s!=null&&(n=Ms(s,ye()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=WR(r,o),u=t.operationForChild(o);u&&(i=i.concat(nA(u,a,l,c)))}),s&&(i=i.concat(b0(s,t,r,n))),i}function rA(t,e){const n=e.query,r=Jc(t,n);return{hashFn:()=>(Oz(e)||J.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?qz(t,n._path,r):Gz(t,n._path);{const i=Q6(s,n);return Zh(t,n,null,i)}}}}function Jc(t,e){const n=ip(e);return t.queryToTagMap.get(n)}function ip(t){return t._path.toString()+"$"+t._queryIdentifier}function S0(t,e){return t.tagToQueryMap.get(e)}function E0(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ce(t.substr(0,e))}}function C0(t,e,n){const r=t.syncPointTree_.get(e);j(r,"Missing sync point for query tag that we're tracking");const s=rp(t.pendingWriteTree_,e);return b0(r,n,s,null)}function Jz(t){return t.fold((e,n,r)=>{if(n&&Ks(n))return[sp(n)];{let s=[];return n&&(s=QR(n)),Yt(r,(i,o)=>{s=s.concat(o)}),s}})}function ic(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(zz())(t._repo,t._path):t}function Xz(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=ip(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function Zz(){return Hz++}function eH(t,e,n){const r=e._path,s=Jc(t,e),i=rA(t,n),o=t.listenProvider_.startListening(ic(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)j(!Ks(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ce(c)&&u&&Ks(u))return[sp(u).query];{let h=[];return u&&(h=h.concat(QR(u).map(f=>f.query))),Yt(d,(f,g)=>{h=h.concat(g)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ic(u),Jc(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new T0(n)}node(){return this.node_}}class P0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nt(this.path_,e);return new P0(this.syncTree_,n)}node(){return x0(this.syncTree_,this.path_)}}const tH=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},FS=function(t,e,n){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return nH(t[".sv"],e,n);if(typeof t[".sv"]=="object")return rH(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},nH=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+t)}},rH=function(t,e,n){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&j(!1,"Unexpected increment value: "+r);const s=e.node();if(j(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},sH=function(t,e,n,r){return k0(e,new P0(n,t),r)},sA=function(t,e,n){return k0(t,new T0(e),n)};function k0(t,e,n){const r=t.getPriority().val(),s=FS(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=FS(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new it(a,lt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new it(s))),o.forEachChild(He,(a,l)=>{const c=k0(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function R0(t,e){let n=e instanceof Ce?e:new Ce(e),r=t,s=ae(n);for(;s!==null;){const i=Aa(r.node.children,s)||{children:{},childCount:0};r=new I0(s,r,i),n=Pe(n),s=ae(n)}return r}function il(t){return t.node.value}function iA(t,e){t.node.value=e,Ay(t)}function oA(t){return t.node.childCount>0}function iH(t){return il(t)===void 0&&!oA(t)}function op(t,e){Yt(t.node.children,(n,r)=>{e(new I0(n,t,r))})}function aA(t,e,n,r){n&&!r&&e(t),op(t,s=>{aA(s,e,!0,r)}),n&&r&&e(t)}function oH(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Nu(t){return new Ce(t.parent===null?t.name:Nu(t.parent)+"/"+t.name)}function Ay(t){t.parent!==null&&aH(t.parent,t.name,t)}function aH(t,e,n){const r=iH(n),s=Hr(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Ay(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Ay(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=/[\[\].#$\/\u0000-\u001F\u007F]/,cH=/[\[\].#$\u0000-\u001F\u007F]/,Em=10*1024*1024,lA=function(t){return typeof t=="string"&&t.length!==0&&!lH.test(t)},cA=function(t){return typeof t=="string"&&t.length!==0&&!cH.test(t)},uH=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cA(t)},uA=function(t,e,n,r){r&&e===void 0||A0(Yw(t,"value"),e,n)},A0=function(t,e,n){const r=n instanceof Ce?new IW(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+pi(r));if(typeof e=="function")throw new Error(t+"contains a function "+pi(r)+" with contents = "+e.toString());if(oR(e))throw new Error(t+"contains "+e.toString()+" "+pi(r));if(typeof e=="string"&&e.length>Em/3&&Qf(e)>Em)throw new Error(t+"contains a string greater than "+Em+" utf8 bytes "+pi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Yt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!lA(o)))throw new Error(t+" contains an invalid key ("+o+") "+pi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);RW(r,o),A0(t,a,r),AW(r)}),s&&i)throw new Error(t+' contains ".value" child '+pi(r)+" in addition to actual children.")}},dA=function(t,e,n,r){if(!cA(n))throw new Error(Yw(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dH=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dA(t,e,n)},hA=function(t,e){if(ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},hH=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lA(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uH(n))throw new Error(Yw(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function N0(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!d0(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function fA(t,e,n){N0(t,n),pA(t,r=>d0(r,e))}function pr(t,e,n){N0(t,n),pA(t,r=>Un(r,e)||Un(e,r))}function pA(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(pH(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function pH(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();tc&&xt("event: "+n.toString()),sl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH="repo_interrupt",gH=25;class yH{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fH,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hh(),this.transactionQueueTree_=new I0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vH(t,e,n){if(t.stats_=c0(t.repoInfo_),t.forceRestClient_||eW())t.server_=new zh(t.repoInfo_,(r,s,i,o)=>{US(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>VS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Rr(t.repoInfo_,e,(r,s,i,o)=>{US(t,r,s,i,o)},r=>{VS(t,r)},r=>{wH(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=iW(t.repoInfo_,()=>new rz(t.stats_,t.server_)),t.infoData_=new XW,t.infoSyncTree_=new $S({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ru(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),D0(t,"connected",!1),t.serverSyncTree_=new $S({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);pr(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function mA(t){const n=t.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function O0(t){return tH({timestamp:mA(t)})}function US(t,e,n,r,s){t.dataUpdateCount++;const i=new Ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Oh(n,c=>lt(c));o=Yz(t.serverSyncTree_,i,l,s)}else{const l=lt(n);o=eA(t.serverSyncTree_,i,l,s)}else if(r){const l=Oh(n,c=>lt(c));o=Kz(t.serverSyncTree_,i,l)}else{const l=lt(n);o=Ru(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=lp(t,i)),pr(t.eventQueue_,a,o)}function VS(t,e){D0(t,"connected",e),e===!1&&xH(t)}function wH(t,e){Yt(e,(n,r)=>{D0(t,n,r)})}function D0(t,e,n){const r=new Ce("/.info/"+e),s=lt(n);t.infoData_.updateSnapshot(r,s);const i=Ru(t.infoSyncTree_,r,s);pr(t.eventQueue_,r,i)}function gA(t){return t.nextWriteId_++}function _H(t,e,n){const r=Qz(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=lt(s).withIndex(e._queryParams.getIndex());Ry(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ru(t.serverSyncTree_,e._path,i);else{const a=Jc(t.serverSyncTree_,e);o=eA(t.serverSyncTree_,e._path,i,a)}return pr(t.eventQueue_,e._path,o),Zh(t.serverSyncTree_,e,n,null,!0),i},s=>(ap(t,"get for query "+tt(e)+" failed: "+s),Promise.reject(new Error(s))))}function bH(t,e,n,r,s){ap(t,"set",{path:e.toString(),value:n,priority:r});const i=O0(t),o=lt(n,r),a=x0(t.serverSyncTree_,e),l=sA(o,a,i),c=gA(t),u=ZR(t.serverSyncTree_,e,l,c,!0);N0(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{const g=h==="ok";g||qt("set at "+e+" failed: "+h);const m=Si(t.serverSyncTree_,c,!g);pr(t.eventQueue_,e,m),TH(t,s,h,f)});const d=bA(t,e);lp(t,d),pr(t.eventQueue_,d,[])}function xH(t){ap(t,"onDisconnectEvents");const e=O0(t),n=Hh();Cy(t.onDisconnect_,ye(),(s,i)=>{const o=sH(s,i,t.serverSyncTree_,e);jR(n,s,o)});let r=[];Cy(n,ye(),(s,i)=>{r=r.concat(Ru(t.serverSyncTree_,s,i));const o=bA(t,s);lp(t,o)}),t.onDisconnect_=Hh(),pr(t.eventQueue_,ye(),r)}function SH(t,e,n){let r;ae(e._path)===".info"?r=Ry(t.infoSyncTree_,e,n):r=Ry(t.serverSyncTree_,e,n),fA(t.eventQueue_,e._path,r)}function EH(t,e,n){let r;ae(e._path)===".info"?r=Zh(t.infoSyncTree_,e,n):r=Zh(t.serverSyncTree_,e,n),fA(t.eventQueue_,e._path,r)}function CH(t){t.persistentConnection_&&t.persistentConnection_.interrupt(mH)}function ap(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),xt(n,...e)}function TH(t,e,n,r){e&&sl(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function yA(t,e,n){return x0(t.serverSyncTree_,e,n)||J.EMPTY_NODE}function L0(t,e=t.transactionQueueTree_){if(e||cp(t,e),il(e)){const n=wA(t,e);j(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&PH(t,Nu(e),n)}else oA(e)&&op(e,n=>{L0(t,n)})}function PH(t,e,n){const r=n.map(c=>c.currentWriteId),s=yA(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];j(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Rt(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ap(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Si(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();cp(t,R0(t.transactionQueueTree_,e)),L0(t,t.transactionQueueTree_),pr(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)sl(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{qt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}lp(t,e)}},o)}function lp(t,e){const n=vA(t,e),r=Nu(n),s=wA(t,n);return kH(t,s,r),r}function kH(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Rt(n,l.path);let u=!1,d;if(j(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(Si(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=gH)u=!0,d="maxretry",s=s.concat(Si(t.serverSyncTree_,l.currentWriteId,!0));else{const h=yA(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){A0("transaction failed: Data returned ",f,l.path);let g=lt(f);typeof f=="object"&&f!=null&&Hr(f,".priority")||(g=g.updatePriority(h.getPriority()));const _=l.currentWriteId,w=O0(t),v=sA(g,h,w);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=v,l.currentWriteId=gA(t),o.splice(o.indexOf(_),1),s=s.concat(ZR(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),s=s.concat(Si(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",s=s.concat(Si(t.serverSyncTree_,l.currentWriteId,!0))}pr(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}cp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)sl(r[a]);L0(t,t.transactionQueueTree_)}function vA(t,e){let n,r=t.transactionQueueTree_;for(n=ae(e);n!==null&&il(r)===void 0;)r=R0(r,n),e=Pe(e),n=ae(e);return r}function wA(t,e){const n=[];return _A(t,e,n),n.sort((r,s)=>r.order-s.order),n}function _A(t,e,n){const r=il(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);op(e,s=>{_A(t,s,n)})}function cp(t,e){const n=il(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,iA(e,n.length>0?n:void 0)}op(e,r=>{cp(t,r)})}function bA(t,e){const n=Nu(vA(t,e)),r=R0(t.transactionQueueTree_,e);return oH(r,s=>{Cm(t,s)}),Cm(t,r),aA(r,s=>{Cm(t,s)}),n}function Cm(t,e){const n=il(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(j(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(j(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Si(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?iA(e,void 0):n.length=i+1,pr(t.eventQueue_,Nu(e),s);for(let o=0;o<r.length;o++)sl(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function RH(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qt(`Invalid query segment '${n}' in query '${t}'`)}return e}const BS=function(t,e){const n=AH(t),r=n.namespace;n.domain==="firebase.com"&&Ur(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ur("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||H6();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new vR(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ce(n.pathString)}},AH=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=IH(t.substring(u,d)));const h=RH(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",NH=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=WS.charAt(n%64),n=Math.floor(n/64);j(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=WS.charAt(e[s]);return j(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class DH{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ce(this._path)?null:PR(this._path)}get ref(){return new Kr(this._repo,this._path)}get _queryIdentifier(){const e=PS(this._queryParams),n=a0(e);return n==="{}"?"default":n}get _queryObject(){return PS(this._queryParams)}isEqual(e){if(e=Ct(e),!(e instanceof M0))return!1;const n=this._repo===e._repo,r=d0(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+kW(this._path)}}class Kr extends M0{constructor(e,n){super(e,n,new m0,!1)}get parent(){const e=IR(this._path);return e===null?null:new Kr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Xc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ce(e),r=Zc(this.ref,e);return new Xc(this._node.getChild(n),r,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Xc(s,Zc(this.ref,r),He)))}hasChild(e){const n=new Ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function en(t,e){return t=Ct(t),t._checkNotDeleted("ref"),e!==void 0?Zc(t._root,e):t._root}function Zc(t,e){return t=Ct(t),ae(t._path)===null?dH("child","path",e):dA("child","path",e),new Kr(t._repo,nt(t._path,e))}function LH(t,e){t=Ct(t),hA("push",t._path),uA("push",e,t._path,!0);const n=mA(t._repo),r=NH(n),s=Zc(t,r),i=Zc(t,r);let o;return e!=null?o=Mi(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function Mi(t,e){t=Ct(t),hA("set",t._path),uA("set",e,t._path,!1);const n=new Yf;return bH(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function SA(t){t=Ct(t);const e=new xA(()=>{}),n=new up(e);return _H(t._repo,t,n).then(r=>new Xc(r,new Kr(t._repo,t._path),t._queryParams.getIndex()))}class up{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new OH("value",this,new Xc(e.snapshotNode,new Kr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new DH(this,e,n):null}matches(e){return e instanceof up?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function MH(t,e,n,r,s){const i=new xA(n,void 0),o=new up(i);return SH(t._repo,t,o),()=>EH(t._repo,t,o)}function ef(t,e,n,r){return MH(t,"value",e)}$z(Kr);Wz(Kr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH="FIREBASE_DATABASE_EMULATOR_HOST",Ny={};let $H=!1;function FH(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=Xa(i);t.repoInfo_=new vR(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function UH(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Ur("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=BS(i,s),a=o.repoInfo,l;typeof process<"u"&&cS&&(l=cS[jH]),l?(i=`http://${l}?ns=${a.namespace}`,o=BS(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new nW(t.name,t.options,e);hH("Invalid Firebase Database URL",o),ce(o.path)||Ur("Database URL must point to the root of a Firebase Database (not including a child path).");const u=BH(a,t,c,new tW(t,n));return new WH(u,t)}function VH(t,e){const n=Ny[e];(!n||n[t.key]!==t)&&Ur(`Database ${e}(${t.repoInfo_}) has already been deleted.`),CH(t),delete n[t.key]}function BH(t,e,n,r){let s=Ny[e.name];s||(s={},Ny[e.name]=s);let i=s[t.toURLString()];return i&&Ur("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new yH(t,$H,n,r),s[t.toURLString()]=i,i}class WH{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(vH(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kr(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(VH(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ur("Cannot call "+e+" on a deleted database.")}}function zH(t=_I(),e){const n=Xw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=J3("database");r&&HH(n,...r)}return n}function HH(t,e,n,r={}){t=Ct(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&qi(r,i.repoInfo_.emulatorOptions))return;Ur("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ur('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qd(qd.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:X3(r.mockUserToken,t.app.options.projectId);o=new qd(a)}Xa(e)&&(hI(e),fI("Database",!0)),FH(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(t){F6(el),Na(new Yi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return UH(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Os(uS,dS,t),Os(uS,dS,"esm2020")}Rr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Rr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};KH();const GH={apiKey:"AIzaSyClGmWdBBiC5805nEGFKLnWv4p1qgAio40",authDomain:"medicine-indicator-1fbc8.firebaseapp.com",databaseURL:"https://medicine-indicator-1fbc8-default-rtdb.firebaseio.com",projectId:"medicine-indicator-1fbc8",storageBucket:"medicine-indicator-1fbc8.firebasestorage.app",messagingSenderId:"553743088878",appId:"1:553743088878:web:594db03aa078359f7d47ff",measurementId:"G-5EQ8TP9ER6"};let Tm,Wt,eu;try{Tm=wI(GH),eu=L6(Tm),Wt=zH(Tm),console.log(" Firebase initialized successfully")}catch(t){throw console.error("Firebase initialization error:",t),t}const qH=Cw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xe=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?c2:"button";return p.jsx(o,{className:we(qH({variant:e,size:n,className:t})),ref:i,...s})});Xe.displayName="Button";const te=t=>typeof t=="string",Il=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},zS=t=>t==null?"":""+t,YH=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},QH=/###/g,HS=t=>t&&t.indexOf("###")>-1?t.replace(QH,"."):t,KS=t=>!t||te(t),oc=(t,e,n)=>{const r=te(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(KS(t))return{};const i=HS(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return KS(t)?{}:{obj:t,k:HS(r[s])}},GS=(t,e,n)=>{const{obj:r,k:s}=oc(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=oc(t,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=oc(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},JH=(t,e,n,r)=>{const{obj:s,k:i}=oc(t,e,Object);s[i]=s[i]||[],s[i].push(n)},tf=(t,e)=>{const{obj:n,k:r}=oc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},XH=(t,e,n)=>{const r=tf(t,n);return r!==void 0?r:tf(e,n)},EA=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?te(t[r])||t[r]instanceof String||te(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):EA(t[r],e[r],n):t[r]=e[r]);return t},bo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ZH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const e8=t=>te(t)?t.replace(/[&<>"'\/]/g,e=>ZH[e]):t;class t8{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const n8=[" ",",","?","!",";"],r8=new t8(20),s8=(t,e,n)=>{e=e||"",n=n||"";const r=n8.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=r8.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},Oy=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},tu=t=>t==null?void 0:t.replace("_","-"),i8={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class nf{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||i8,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(te(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new nf(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new nf(this.logger,e)}}var ir=new nf;class dp{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[e,...n])})}}class qS extends dp{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){var c,u;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):te(r)&&i?a.push(...r.split(i)):a.push(r)));const l=tf(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!te(r)?l:Oy((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),s=n,n=a[1]),this.addNamespaces(n),GS(this.data,a,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(te(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let l=tf(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?EA(l,r,i):l={...l,...r},GS(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var CA={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{var o;e=((o=this.processors[i])==null?void 0:o.process(e,n,r,s))??e}),e}};const TA=Symbol("i18next/PATH_KEY");function o8(){const t=[],e=Object.create(null);let n;return e.get=(r,s)=>{var i;return(i=n==null?void 0:n.revoke)==null||i.call(n),s===TA?t:(t.push(s),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Dy(t,e){const{[TA]:n}=t(o8());return n.join((e==null?void 0:e.keySeparator)??".")}const YS={},Pm=t=>!te(t)&&typeof t!="boolean"&&typeof t!="number";class rf extends dp{constructor(e,n={}){super(),YH(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ir.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);if((s==null?void 0:s.res)===void 0)return!1;const i=Pm(s.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!s8(e,r,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:te(i)?[i]:i};const c=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(s)}return{key:e,namespaces:te(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Dy(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],s),c=l[l.length-1];let u=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=s.lng||this.language,h=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?i?{res:`${c}${u}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${u}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:a;const f=this.resolve(e,s);let g=f==null?void 0:f.res;const m=(f==null?void 0:f.usedKey)||a,_=(f==null?void 0:f.exactUsedKey)||a,w=["[object Number]","[object Function]","[object RegExp]"],v=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,x=s.count!==void 0&&!te(s.count),S=rf.hasDefaultValue(s),E=x?this.pluralResolver.getSuffix(d,s.count,s):"",C=s.ordinal&&x?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",T=x&&!s.ordinal&&s.count===0,P=T&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${E}`]||s[`defaultValue${C}`]||s.defaultValue;let I=g;b&&!g&&S&&(I=P);const O=Pm(I),L=Object.prototype.toString.apply(I);if(b&&I&&O&&w.indexOf(L)<0&&!(te(v)&&Array.isArray(I))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const B=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,I,{...s,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(f.res=B,f.usedParams=this.getUsedParamsDetails(s),f):B}if(o){const B=Array.isArray(I),N=B?[]:{},G=B?_:m;for(const U in I)if(Object.prototype.hasOwnProperty.call(I,U)){const M=`${G}${o}${U}`;S&&!g?N[U]=this.translate(M,{...s,defaultValue:Pm(P)?P[U]:void 0,joinArrays:!1,ns:l}):N[U]=this.translate(M,{...s,joinArrays:!1,ns:l}),N[U]===M&&(N[U]=I[U])}g=N}}else if(b&&te(v)&&Array.isArray(g))g=g.join(v),g&&(g=this.extendTranslation(g,e,s,r));else{let B=!1,N=!1;!this.isValidLookup(g)&&S&&(B=!0,g=P),this.isValidLookup(g)||(N=!0,g=a);const U=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:g,M=S&&P!==g&&this.options.updateMissing;if(N||B||M){if(this.logger.log(M?"updateKey":"missingKey",d,c,a,M?P:g),o){const H=this.resolve(a,{...s,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let k=[];const R=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&R&&R[0])for(let H=0;H<R.length;H++)k.push(R[H]);else this.options.saveMissingTo==="all"?k=this.languageUtils.toResolveHierarchy(s.lng||this.language):k.push(s.lng||this.language);const F=(H,z,Z)=>{var xe;const ee=S&&Z!==g?Z:U;this.options.missingKeyHandler?this.options.missingKeyHandler(H,c,z,ee,M,s):(xe=this.backendConnector)!=null&&xe.saveMissing&&this.backendConnector.saveMissing(H,c,z,ee,M,s),this.emit("missingKey",H,c,z,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?k.forEach(H=>{const z=this.pluralResolver.getSuffixes(H,s);T&&s[`defaultValue${this.options.pluralSeparator}zero`]&&z.indexOf(`${this.options.pluralSeparator}zero`)<0&&z.push(`${this.options.pluralSeparator}zero`),z.forEach(Z=>{F([H],a+Z,s[`defaultValue${Z}`]||P)})}):F(k,a,P))}g=this.extendTranslation(g,e,s,f,r),N&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${a}`),(N||B)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${a}`:a,B?g:void 0,s))}return i?(f.res=g,f.usedParams=this.getUsedParamsDetails(s),f):g}extendTranslation(e,n,r,s,i){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=te(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let h=r.replace&&!te(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;d<g&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>(i==null?void 0:i[0])===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${n[0]}`),null):this.translate(...f,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=te(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=CA.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,o,a;return te(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;s=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!te(n.count),f=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(te(n.context)||typeof n.context=="number")&&n.context!=="",m=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(_=>{var w,v;this.isValidLookup(r)||(a=_,!YS[`${m[0]}-${_}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((v=this.utils)!=null&&v.hasLoadedNamespace(a))&&(YS[`${m[0]}-${_}`]=!0,this.logger.warn(`key "${s}" for languages "${m.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(b=>{var E;if(this.isValidLookup(r))return;o=b;const x=[u];if((E=this.i18nFormat)!=null&&E.addLookupKeys)this.i18nFormat.addLookupKeys(x,u,b,_,n);else{let C;h&&(C=this.pluralResolver.getSuffix(b,n.count,n));const T=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&C.indexOf(P)===0&&x.push(u+C.replace(P,this.options.pluralSeparator)),x.push(u+C),f&&x.push(u+T)),g){const I=`${u}${this.options.contextSeparator||"_"}${n.context}`;x.push(I),h&&(n.ordinal&&C.indexOf(P)===0&&x.push(I+C.replace(P,this.options.pluralSeparator)),x.push(I+C),f&&x.push(I+T))}}let S;for(;S=x.pop();)this.isValidLookup(r)||(i=S,r=this.getResource(b,_,S,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!te(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class QS{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ir.create("languageUtils")}getScriptPartFromCode(e){if(e=tu(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=tu(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(te(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),te(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return te(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):te(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const JS={zero:0,one:1,two:2,few:3,many:4,other:5},XS={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class a8{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=ir.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=tu(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),XS;if(!e.match(/-|_/))return XS;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[i]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>JS[s]-JS[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const ZS=(t,e,n,r=".",s=!0)=>{let i=XH(t,e,n);return!i&&s&&te(n)&&(i=Oy(t,n,r),i===void 0&&(i=Oy(e,n,r))),i},km=t=>t.replace(/\$/g,"$$$$");class l8{constructor(e={}){var n;this.logger=ir.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:m,nestingOptionsSeparator:_,maxReplaces:w,alwaysFormat:v}=e.interpolation;this.escape=n!==void 0?n:e8,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?bo(i):o||"{{",this.suffix=a?bo(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?bo(h):f||bo("$t("),this.nestingSuffix=g?bo(g):m||bo(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=w||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,s){var f;let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const v=ZS(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,r,{...s,...n,interpolationkey:g}):v}const m=g.split(this.formatSeparator),_=m.shift().trim(),w=m.join(this.formatSeparator).trim();return this.format(ZS(n,l,_,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...s,...n,interpolationkey:_})};this.resetRegExp();const u=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((f=s==null?void 0:s.interpolation)==null?void 0:f.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>km(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?km(this.escape(g)):km(g)}].forEach(g=>{for(a=0;i=g.regex.exec(e);){const m=i[1].trim();if(o=c(m),o===void 0)if(typeof u=="function"){const w=u(e,i,s);o=te(w)?w:""}else if(s&&Object.prototype.hasOwnProperty.call(s,m))o="";else if(d){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else!te(o)&&!this.useRawValueToEscape&&(o=zS(o));const _=g.safeValue(o);if(e=e.replace(i[0],_),d?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,o;const a=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,o);const f=h.match(/'/g),g=h.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),c&&(o={...c,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${u}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!te(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const c=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(c!==-1&&(l=s[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),s[1]=s[1].slice(0,c)),i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&!te(i))return i;te(i)||(i=zS(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const c8=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},eE=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=e[o];return a||(a=t(tu(r),s),e[o]=a),a(n)}},u8=t=>(e,n,r)=>t(tu(n),r)(e);class d8{constructor(e={}){this.logger=ir.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?eE:u8;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return a=>o.format(a)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return a=>o.format(a)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return a=>o.format(a)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return a=>o.format(a,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=eE(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{var d;const{formatName:c,formatOptions:u}=c8(l);if(this.formats[c]){let h=a;try{const f=((d=s==null?void 0:s.formatParams)==null?void 0:d[s.interpolationkey])||{},g=f.locale||f.lng||s.locale||s.lng||r;h=this.formats[c](a,g,{...u,...s,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const h8=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class f8 extends dp{constructor(e,n,r,s={}){var i,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=ir.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},a={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,u=!1,o[h]===void 0&&(o[h]=!0),i[h]===void 0&&(i[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(a[c]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{JH(l.loaded,[i],o),h8(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{a[c][d]===void 0&&(a[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,s=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();te(e)&&(e=this.languageUtils.toResolveHierarchy(e)),te(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,s,i,o={},a=()=>{}){var l,c,u,d,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const f={...o,isUpdate:i},g=this.backend.create.bind(this.backend);if(g.length<6)try{let m;g.length===5?m=g(e,n,r,s,f):m=g(e,n,r,s),m&&typeof m.then=="function"?m.then(_=>a(null,_)).catch(a):a(null,m)}catch(m){a(m)}else g(e,n,r,s,a,f)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const tE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),te(t[1])&&(e.defaultValue=t[1]),te(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),nE=t=>{var e,n;return te(t.ns)&&(t.ns=[t.ns]),te(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),te(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},md=()=>{},p8=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class nu extends dp{constructor(e={},n){if(super(),this.options=nE(e),this.services={},this.logger=ir,this.modules={external:[]},p8(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(te(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=tE();this.options={...r,...this.options,...nE(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?ir.init(s(this.modules.logger),this.options):ir.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=d8;const u=new QS(this.options);this.store=new qS(this.options.resources,this.options);const d=this.services;d.logger=ir,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new a8(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=s(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new l8(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new f8(s(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.languageDetector&&(d.languageDetector=s(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=s(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new rf(this.services,this.options),this.translator.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,n||(n=md),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const a=Il(),l=()=>{const c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=md){var i,o;let r=n;const s=te(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const s=Il();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=md),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&CA.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Il();this.emit("languageChanging",e);const s=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},i=(a,l)=>{l?this.isLanguageChangingTo===e&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(a,(...c)=>this.t(...c))},o=a=>{var u,d;!e&&!a&&this.services.languageDetector&&(a=[]);const l=te(a)?a:a&&a[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(te(a)?[a]:a);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,h=>{i(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const s=(i,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([i,o].concat(a)):l={...o},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(i)?u=i.map(d=>(typeof d=="function"&&(d=Dy(d,{...this.options,...o})),`${l.keyPrefix}${c}${d}`)):(typeof i=="function"&&(i=Dy(i,{...this.options,...o})),u=l.keyPrefix?`${l.keyPrefix}${c}${i}`:i),this.t(u,l)};return te(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=Il();return this.options.ns?(te(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Il();te(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new QS(tE());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new nu(e,n)}cloneInstance(e={},n=md){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new nu(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});i.store=new qS(a,s),i.services.resourceStore=i.store}return i.translator=new rf(i.services,s),i.translator.on("*",(a,...l)=>{i.emit(a,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Tt=nu.createInstance();Tt.createInstance=nu.createInstance;Tt.createInstance;Tt.dir;Tt.init;Tt.loadResources;Tt.reloadResources;Tt.use;Tt.changeLanguage;Tt.getFixedT;Tt.t;Tt.exists;Tt.setDefaultNamespace;Tt.hasLoadedNamespace;Tt.loadNamespaces;Tt.loadLanguages;const m8=(t,e,n,r)=>{var i,o,a,l;const s=[n,{code:e,...r||{}}];if((o=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&o.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);ji(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},rE={},Ly=(t,e,n,r)=>{ji(n)&&rE[n]||(ji(n)&&(rE[n]=new Date),m8(t,e,n,r))},PA=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},My=(t,e,n)=>{t.loadNamespaces(e,PA(t,n))},sE=(t,e,n,r)=>{if(ji(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return My(t,n,r);n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,PA(t,r))},g8=(t,e,n={})=>!e.languages||!e.languages.length?(Ly(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}),ji=t=>typeof t=="string",y8=t=>typeof t=="object"&&t!==null,v8=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,w8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},_8=t=>w8[t],b8=t=>t.replace(v8,_8);let jy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:b8};const x8=(t={})=>{jy={...jy,...t}},S8=()=>jy;let kA;const E8=t=>{kA=t},C8=()=>kA,T8={type:"3rdParty",init(t){x8(t.options.react),E8(t)}},P8=y.createContext();class k8{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const I8=(t,e)=>{const n=y.useRef();return y.useEffect(()=>{n.current=t},[t,e]),n.current},IA=(t,e,n,r)=>t.getFixedT(e,n,r),R8=(t,e,n,r)=>y.useCallback(IA(t,e,n,r),[t,e,n,r]),gr=(t,e={})=>{var x,S,E,C;const{i18n:n}=e,{i18n:r,defaultNS:s}=y.useContext(P8)||{},i=n||r||C8();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new k8),!i){Ly(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const T=(I,O)=>ji(O)?O:y8(O)&&ji(O.defaultValue)?O.defaultValue:Array.isArray(I)?I[I.length-1]:I,P=[T,{},!1];return P.t=T,P.i18n={},P.ready=!1,P}(x=i.options.react)!=null&&x.wait&&Ly(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...S8(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=s||((S=i.options)==null?void 0:S.defaultNS);c=ji(c)?[c]:c||["translation"],(C=(E=i.reportNamespaces).addUsedNamespaces)==null||C.call(E,c);const u=(i.isInitialized||i.initializedStoreOnce)&&c.every(T=>g8(T,i,o)),d=R8(i,e.lng||null,o.nsMode==="fallback"?c:c[0],l),h=()=>d,f=()=>IA(i,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[g,m]=y.useState(h);let _=c.join();e.lng&&(_=`${e.lng}${_}`);const w=I8(_),v=y.useRef(!0);y.useEffect(()=>{const{bindI18n:T,bindI18nStore:P}=o;v.current=!0,!u&&!a&&(e.lng?sE(i,e.lng,c,()=>{v.current&&m(f)}):My(i,c,()=>{v.current&&m(f)})),u&&w&&w!==_&&v.current&&m(f);const I=()=>{v.current&&m(f)};return T&&(i==null||i.on(T,I)),P&&(i==null||i.store.on(P,I)),()=>{v.current=!1,i&&T&&(T==null||T.split(" ").forEach(O=>i.off(O,I))),P&&i&&P.split(" ").forEach(O=>i.store.off(O,I))}},[i,_]),y.useEffect(()=>{v.current&&u&&m(h)},[i,l,u]);const b=[g,i,u];if(b.t=g,b.i18n=i,b.ready=u,u||!u&&!a)return b;throw new Promise(T=>{e.lng?sE(i,e.lng,c,()=>T()):My(i,c,()=>T())})},j0=y.createContext({});function $0(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const F0=typeof window<"u",RA=F0?y.useLayoutEffect:y.useEffect,hp=y.createContext(null);function U0(t,e){t.indexOf(e)===-1&&t.push(e)}function V0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vr=(t,e,n)=>n>e?e:n<t?t:n;let sf=()=>{};const Br={},AA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function NA(t){return typeof t=="object"&&t!==null}const OA=t=>/^0[^.\s]+$/u.test(t);function B0(t){let e;return()=>(e===void 0&&(e=t()),e)}const yn=t=>t,A8=(t,e)=>n=>e(t(n)),Ou=(...t)=>t.reduce(A8),ru=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class W0{constructor(){this.subscriptions=[]}add(e){return U0(this.subscriptions,e),()=>V0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dr=t=>t*1e3,mn=t=>t/1e3;function DA(t,e){return e?t*(1e3/e):0}const LA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,N8=1e-7,O8=12;function D8(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=LA(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>N8&&++a<O8);return o}function Du(t,e,n,r){if(t===e&&n===r)return yn;const s=i=>D8(i,0,1,t,n);return i=>i===0||i===1?i:LA(s(i),e,r)}const MA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jA=t=>e=>1-t(1-e),$A=Du(.33,1.53,.69,.99),z0=jA($A),FA=MA(z0),UA=t=>(t*=2)<1?.5*z0(t):.5*(2-Math.pow(2,-10*(t-1))),H0=t=>1-Math.sin(Math.acos(t)),VA=jA(H0),BA=MA(H0),L8=Du(.42,0,1,1),M8=Du(0,0,.58,1),WA=Du(.42,0,.58,1),j8=t=>Array.isArray(t)&&typeof t[0]!="number",zA=t=>Array.isArray(t)&&typeof t[0]=="number",iE={linear:yn,easeIn:L8,easeInOut:WA,easeOut:M8,circIn:H0,circInOut:BA,circOut:VA,backIn:z0,backInOut:FA,backOut:$A,anticipate:UA},$8=t=>typeof t=="string",oE=t=>{if(zA(t)){sf(t.length===4);const[e,n,r,s]=t;return Du(e,n,r,s)}else if($8(t))return sf(iE[t]!==void 0),iE[t];return t},gd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],aE={value:null,addProjectionMetrics:null};function F8(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(u.schedule(d),t()),l++,d(a)}const u={schedule:(d,h=!1,f=!1)=>{const m=f&&s?n:r;return h&&o.add(d),m.has(d)||m.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&aE.value&&aE.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const U8=40;function HA(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=gd.reduce((b,x)=>(b[x]=F8(i,e?x:void 0),b),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:g}=o,m=()=>{const b=Br.useManualTiming?s.timestamp:performance.now();n=!1,Br.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,U8),1)),s.timestamp=b,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),g.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(m))},_=()=>{n=!0,r=!0,s.isProcessing||t(m)};return{schedule:gd.reduce((b,x)=>{const S=o[x];return b[x]=(E,C=!1,T=!1)=>(n||_(),S.schedule(E,C,T)),b},{}),cancel:b=>{for(let x=0;x<gd.length;x++)o[gd[x]].cancel(b)},state:s,steps:o}}const{schedule:Le,cancel:Gs,state:ft,steps:Im}=HA(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0);let Yd;function V8(){Yd=void 0}const zt={now:()=>(Yd===void 0&&zt.set(ft.isProcessing||Br.useManualTiming?ft.timestamp:performance.now()),Yd),set:t=>{Yd=t,queueMicrotask(V8)}},KA=t=>e=>typeof e=="string"&&e.startsWith(t),K0=KA("--"),B8=KA("var(--"),G0=t=>B8(t)?W8.test(t.split("/*")[0].trim()):!1,W8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ol={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},su={...ol,transform:t=>Vr(0,1,t)},yd={...ol,default:1},ac=t=>Math.round(t*1e5)/1e5,q0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function z8(t){return t==null}const H8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Y0=(t,e)=>n=>!!(typeof n=="string"&&H8.test(n)&&n.startsWith(t)||e&&!z8(n)&&Object.prototype.hasOwnProperty.call(n,e)),GA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(q0);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},K8=t=>Vr(0,255,t),Rm={...ol,transform:t=>Math.round(K8(t))},Ei={test:Y0("rgb","red"),parse:GA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Rm.transform(t)+", "+Rm.transform(e)+", "+Rm.transform(n)+", "+ac(su.transform(r))+")"};function G8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const $y={test:Y0("#"),parse:G8,transform:Ei.transform},Lu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),rs=Lu("deg"),hr=Lu("%"),X=Lu("px"),q8=Lu("vh"),Y8=Lu("vw"),lE={...hr,parse:t=>hr.parse(t)/100,transform:t=>hr.transform(t*100)},Go={test:Y0("hsl","hue"),parse:GA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+hr.transform(ac(e))+", "+hr.transform(ac(n))+", "+ac(su.transform(r))+")"},Qe={test:t=>Ei.test(t)||$y.test(t)||Go.test(t),parse:t=>Ei.test(t)?Ei.parse(t):Go.test(t)?Go.parse(t):$y.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ei.transform(t):Go.transform(t),getAnimatableNone:t=>{const e=Qe.parse(t);return e.alpha=0,Qe.transform(e)}},Q8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function J8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(q0))==null?void 0:e.length)||0)+(((n=t.match(Q8))==null?void 0:n.length)||0)>0}const qA="number",YA="color",X8="var",Z8="var(",cE="${}",eK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(eK,l=>(Qe.test(l)?(r.color.push(i),s.push(YA),n.push(Qe.parse(l))):l.startsWith(Z8)?(r.var.push(i),s.push(X8),n.push(l)):(r.number.push(i),s.push(qA),n.push(parseFloat(l))),++i,cE)).split(cE);return{values:n,split:a,indexes:r,types:s}}function QA(t){return iu(t).values}function JA(t){const{split:e,types:n}=iu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===qA?i+=ac(s[o]):a===YA?i+=Qe.transform(s[o]):i+=s[o]}return i}}const tK=t=>typeof t=="number"?0:Qe.test(t)?Qe.getAnimatableNone(t):t;function nK(t){const e=QA(t);return JA(t)(e.map(tK))}const qs={test:J8,parse:QA,createTransformer:JA,getAnimatableNone:nK};function Am(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Am(l,a,t+1/3),i=Am(l,a,t),o=Am(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function of(t,e){return n=>n>0?e:t}const je=(t,e,n)=>t+(e-t)*n,Nm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},sK=[$y,Ei,Go],iK=t=>sK.find(e=>e.test(t));function uE(t){const e=iK(t);if(!e)return!1;let n=e.parse(t);return e===Go&&(n=rK(n)),n}const dE=(t,e)=>{const n=uE(t),r=uE(e);if(!n||!r)return of(t,e);const s={...n};return i=>(s.red=Nm(n.red,r.red,i),s.green=Nm(n.green,r.green,i),s.blue=Nm(n.blue,r.blue,i),s.alpha=je(n.alpha,r.alpha,i),Ei.transform(s))},Fy=new Set(["none","hidden"]);function oK(t,e){return Fy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function aK(t,e){return n=>je(t,e,n)}function Q0(t){return typeof t=="number"?aK:typeof t=="string"?G0(t)?of:Qe.test(t)?dE:uK:Array.isArray(t)?XA:typeof t=="object"?Qe.test(t)?dE:lK:of}function XA(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Q0(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function lK(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Q0(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function cK(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const uK=(t,e)=>{const n=qs.createTransformer(e),r=iu(t),s=iu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Fy.has(t)&&!s.values.length||Fy.has(e)&&!r.values.length?oK(t,e):Ou(XA(cK(r,s),s.values),n):of(t,e)};function ZA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?je(t,e,n):Q0(t)(t,e)}const dK=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Le.update(e,n),stop:()=>Gs(e),now:()=>ft.isProcessing?ft.timestamp:zt.now()}},eN=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},af=2e4;function J0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<af;)e+=n,r=t.next(e);return e>=af?1/0:e}function hK(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(J0(r),af);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:mn(s)}}const fK=5;function tN(t,e,n){const r=Math.max(e-fK,0);return DA(n-t(r),e-r)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Om=.001;function pK({duration:t=We.duration,bounce:e=We.bounce,velocity:n=We.velocity,mass:r=We.mass}){let s,i,o=1-e;o=Vr(We.minDamping,We.maxDamping,o),t=Vr(We.minDuration,We.maxDuration,mn(t)),o<1?(s=c=>{const u=c*o,d=u*t,h=u-n,f=Uy(c,o),g=Math.exp(-d);return Om-h/f*g},i=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),m=Uy(Math.pow(c,2),o);return(-s(c)+Om>0?-1:1)*((h-f)*g)/m}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Om+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=gK(s,i,a);if(t=dr(t),isNaN(l))return{stiffness:We.stiffness,damping:We.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const mK=12;function gK(t,e,n){let r=n;for(let s=1;s<mK;s++)r=r-t(r)/e(r);return r}function Uy(t,e){return t*Math.sqrt(1-e*e)}const yK=["duration","bounce"],vK=["stiffness","damping","mass"];function hE(t,e){return e.some(n=>t[n]!==void 0)}function wK(t){let e={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...t};if(!hE(t,vK)&&hE(t,yK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Vr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:We.mass,stiffness:s,damping:i}}else{const n=pK(t);e={...e,...n,mass:We.mass},e.isResolvedFromDuration=!0}return e}function lf(t=We.visualDuration,e=We.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=wK({...n,velocity:-mn(n.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),_=o-i,w=mn(Math.sqrt(l/u)),v=Math.abs(_)<5;r||(r=v?We.restSpeed.granular:We.restSpeed.default),s||(s=v?We.restDelta.granular:We.restDelta.default);let b;if(m<1){const S=Uy(w,m);b=E=>{const C=Math.exp(-m*w*E);return o-C*((g+m*w*_)/S*Math.sin(S*E)+_*Math.cos(S*E))}}else if(m===1)b=S=>o-Math.exp(-w*S)*(_+(g+w*_)*S);else{const S=w*Math.sqrt(m*m-1);b=E=>{const C=Math.exp(-m*w*E),T=Math.min(S*E,300);return o-C*((g+m*w*_)*Math.sinh(T)+S*_*Math.cosh(T))/S}}const x={calculatedDuration:f&&d||null,next:S=>{const E=b(S);if(f)a.done=S>=d;else{let C=S===0?g:0;m<1&&(C=S===0?dr(g):tN(b,S,E));const T=Math.abs(C)<=r,P=Math.abs(o-E)<=s;a.done=T&&P}return a.value=a.done?o:E,a},toString:()=>{const S=Math.min(J0(x),af),E=eN(C=>x.next(S*C).value,S,30);return S+"ms "+E},toTransition:()=>{}};return x}lf.applyToOptions=t=>{const e=hK(t,100,lf);return t.ease=e.ease,t.duration=dr(e.duration),t.type="keyframes",t};function Vy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=T=>a!==void 0&&T<a||l!==void 0&&T>l,g=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let m=n*e;const _=d+m,w=o===void 0?_:o(_);w!==_&&(m=w-d);const v=T=>-m*Math.exp(-T/r),b=T=>w+v(T),x=T=>{const P=v(T),I=b(T);h.done=Math.abs(P)<=c,h.value=h.done?w:I};let S,E;const C=T=>{f(h.value)&&(S=T,E=lf({keyframes:[h.value,g(h.value)],velocity:tN(b,T,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let P=!1;return!E&&S===void 0&&(P=!0,x(T),C(T)),S!==void 0&&T>=S?E.next(T-S):(!P&&x(T),h)}}}function _K(t,e,n){const r=[],s=n||Br.mix||ZA,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||yn:e;a=Ou(l,a)}r.push(a)}return r}function bK(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(sf(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=_K(e,r,s),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=ru(t[d],t[d+1],u);return a[d](h)};return n?u=>c(Vr(t[0],t[i-1],u)):c}function xK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ru(0,e,r);t.push(je(n,1,s))}}function SK(t){const e=[0];return xK(e,t.length-1),e}function EK(t,e){return t.map(n=>n*e)}function CK(t,e){return t.map(()=>e||WA).splice(0,t.length-1)}function lc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=j8(r)?r.map(oE):oE(r),i={done:!1,value:e[0]},o=EK(n&&n.length===e.length?n:SK(e),t),a=bK(o,e,{ease:Array.isArray(s)?s:CK(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const TK=t=>t!==null;function X0(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(TK),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const PK={decay:Vy,inertia:Vy,tween:lc,keyframes:lc,spring:lf};function nN(t){typeof t.type=="string"&&(t.type=PK[t.type])}class Z0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const kK=t=>t/100;class e_ extends Z0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==zt.now()&&this.tick(zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nN(e);const{type:n=lc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||lc;l!==lc&&typeof a[0]!="number"&&(this.mixKeyframes=Ou(kK,ZA(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=J0(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:f,type:g,onUpdate:m,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,x=r;if(d){const T=Math.min(this.currentTime,s)/a;let P=Math.floor(T),I=T%1;!I&&T>=1&&(I=1),I===1&&P--,P=Math.min(P,d+1),!!(P%2)&&(h==="reverse"?(I=1-I,f&&(I-=f/a)):h==="mirror"&&(x=o)),b=Vr(0,1,I)*a}const S=v?{done:!1,value:u[0]}:x.next(b);i&&(S.value=i(S.value));let{done:E}=S;!v&&l!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return C&&g!==Vy&&(S.value=X0(u,this.options,_,this.speed)),m&&m(S.value),C&&this.finish(),S}then(e,n){return this.finished.then(e,n)}get duration(){return mn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mn(e)}get time(){return mn(this.currentTime)}set time(e){var n;e=dr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=mn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=dK,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function IK(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ci=t=>t*180/Math.PI,By=t=>{const e=Ci(Math.atan2(t[1],t[0]));return Wy(e)},RK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:By,rotateZ:By,skewX:t=>Ci(Math.atan(t[1])),skewY:t=>Ci(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Wy=t=>(t=t%360,t<0&&(t+=360),t),fE=By,pE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),mE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),AK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pE,scaleY:mE,scale:t=>(pE(t)+mE(t))/2,rotateX:t=>Wy(Ci(Math.atan2(t[6],t[5]))),rotateY:t=>Wy(Ci(Math.atan2(-t[2],t[0]))),rotateZ:fE,rotate:fE,skewX:t=>Ci(Math.atan(t[4])),skewY:t=>Ci(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zy(t){return t.includes("scale")?1:0}function Hy(t,e){if(!t||t==="none")return zy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=AK,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=RK,s=a}if(!s)return zy(e);const i=r[e],o=s[1].split(",").map(OK);return typeof i=="function"?i(o):o[i]}const NK=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Hy(n,e)};function OK(t){return parseFloat(t.trim())}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ll=new Set(al),gE=t=>t===ol||t===X,DK=new Set(["x","y","z"]),LK=al.filter(t=>!DK.has(t));function MK(t){const e=[];return LK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $i={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Hy(e,"x"),y:(t,{transform:e})=>Hy(e,"y")};$i.translateX=$i.x;$i.translateY=$i.y;const Fi=new Set;let Ky=!1,Gy=!1,qy=!1;function rN(){if(Gy){const t=Array.from(Fi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=MK(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Gy=!1,Ky=!1,Fi.forEach(t=>t.complete(qy)),Fi.clear()}function sN(){Fi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Gy=!0)})}function jK(){qy=!0,sN(),rN(),qy=!1}class t_{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Fi.add(this),Ky||(Ky=!0,Le.read(sN),Le.resolveKeyframes(rN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}IK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fi.delete(this)}cancel(){this.state==="scheduled"&&(Fi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $K=t=>t.startsWith("--");function FK(t,e,n){$K(e)?t.style.setProperty(e,n):t.style[e]=n}const UK=B0(()=>window.ScrollTimeline!==void 0),VK={};function BK(t,e){const n=B0(t);return()=>VK[e]??n()}const iN=BK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,yE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fl([0,.65,.55,1]),circOut:Fl([.55,0,1,.45]),backIn:Fl([.31,.01,.66,-.59]),backOut:Fl([.33,1.53,.69,.99])};function oN(t,e){if(t)return typeof t=="function"?iN()?eN(t,e):"ease-out":zA(t)?Fl(t):Array.isArray(t)?t.map(n=>oN(n,e)||yE.easeOut):yE[t]}function WK(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=oN(a,s);Array.isArray(d)&&(u.easing=d);const h={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),t.animate(u,h)}function aN(t){return typeof t=="function"&&"applyToOptions"in t}function zK({type:t,...e}){return aN(t)&&iN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class HK extends Z0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,sf(typeof e.type!="string");const c=zK(e);this.animation=WK(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=X0(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):FK(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return mn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mn(e)}get time(){return mn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=dr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&UK()?(this.animation.timeline=e,yn):n(this)}}const lN={anticipate:UA,backInOut:FA,circInOut:BA};function KK(t){return t in lN}function GK(t){typeof t.ease=="string"&&KK(t.ease)&&(t.ease=lN[t.ease])}const vE=10;class qK extends HK{constructor(e){GK(e),nN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new e_({...o,autoplay:!1}),l=dr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-vE).value,a.sample(l).value,vE),a.stop()}}const wE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qs.test(t)||t==="0")&&!t.startsWith("url("));function YK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function QK(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=wE(s,e),a=wE(i,e);return!o||!a?!1:YK(t)||(n==="spring"||aN(n))&&r}function Yy(t){t.duration=0,t.type="keyframes"}const JK=new Set(["opacity","clipPath","filter","transform"]),XK=B0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ZK(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return XK()&&n&&JK.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const eG=40;class tG extends Z0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var g;super(),this.stop=()=>{var m,_;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=zt.now();const h={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...d},f=(u==null?void 0:u.KeyframeResolver)||t_;this.keyframeResolver=new f(a,(m,_,w)=>this.onKeyframesResolved(m,_,h,!w),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=zt.now(),QK(e,i,o,a)||((Br.instantAnimations||!l)&&(u==null||u(X0(e,r,n))),e[0]=e[e.length-1],Yy(r),r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>eG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},f=!c&&ZK(h)?new qK({...h,element:h.motionValue.owner.current}):new e_(h);f.finished.then(()=>this.notifyFinished()).catch(yn),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),jK()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const nG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rG(t){const e=nG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function cN(t,e,n=1){const[r,s]=rG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return AA(o)?parseFloat(o):o}return G0(s)?cN(s,e,n+1):s}function n_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const uN=new Set(["width","height","top","left","right","bottom",...al]),sG={test:t=>t==="auto",parse:t=>t},dN=t=>e=>e.test(t),hN=[ol,X,hr,rs,Y8,q8,sG],_E=t=>hN.find(dN(t));function iG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||OA(t):!0}const oG=new Set(["brightness","contrast","saturate","opacity"]);function aG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(q0)||[];if(!r)return t;const s=n.replace(r,"");let i=oG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const lG=/\b([a-z-]*)\(.*?\)/gu,Qy={...qs,getAnimatableNone:t=>{const e=t.match(lG);return e?e.map(aG).join(" "):t}},bE={...ol,transform:Math.round},cG={rotate:rs,rotateX:rs,rotateY:rs,rotateZ:rs,scale:yd,scaleX:yd,scaleY:yd,scaleZ:yd,skew:rs,skewX:rs,skewY:rs,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:su,originX:lE,originY:lE,originZ:X},r_={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X,...cG,zIndex:bE,fillOpacity:su,strokeOpacity:su,numOctaves:bE},uG={...r_,color:Qe,backgroundColor:Qe,outlineColor:Qe,fill:Qe,stroke:Qe,borderColor:Qe,borderTopColor:Qe,borderRightColor:Qe,borderBottomColor:Qe,borderLeftColor:Qe,filter:Qy,WebkitFilter:Qy},fN=t=>uG[t];function pN(t,e){let n=fN(t);return n!==Qy&&(n=qs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dG=new Set(["auto","none","0"]);function hG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!dG.has(i)&&iu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=pN(n,s)}class fG extends t_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),G0(c))){const u=cN(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!uN.has(r)||e.length!==2)return;const[s,i]=e,o=_E(s),a=_E(i);if(o!==a)if(gE(o)&&gE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else $i[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||iG(e[s]))&&r.push(s);r.length&&hG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$i[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=$i[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function pG(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const mN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function gN(t){return NA(t)&&"offsetHeight"in t}const xE=30,mG=t=>!isNaN(parseFloat(t));class gG{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=zt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new W0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xE);return DA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ja(t,e){return new gG(t,e)}const{schedule:s_,cancel:lae}=HA(queueMicrotask,!1),kn={x:!1,y:!1};function yN(){return kn.x||kn.y}function yG(t){return t==="x"||t==="y"?kn[t]?null:(kn[t]=!0,()=>{kn[t]=!1}):kn.x||kn.y?null:(kn.x=kn.y=!0,()=>{kn.x=kn.y=!1})}function vN(t,e){const n=pG(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function SE(t){return!(t.pointerType==="touch"||yN())}function vG(t,e,n={}){const[r,s,i]=vN(t,n),o=a=>{if(!SE(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{SE(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const wN=(t,e)=>e?t===e?!0:wN(t,e.parentElement):!1,i_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _G(t){return wG.has(t.tagName)||t.tabIndex!==-1}const Qd=new WeakSet;function EE(t){return e=>{e.key==="Enter"&&t(e)}}function Dm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=EE(()=>{if(Qd.has(n))return;Dm(n,"down");const s=EE(()=>{Dm(n,"up")}),i=()=>Dm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function CE(t){return i_(t)&&!yN()}function xG(t,e,n={}){const[r,s,i]=vN(t,n),o=a=>{const l=a.currentTarget;if(!CE(a))return;Qd.add(l);const c=e(l,a),u=(f,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),Qd.has(l)&&Qd.delete(l),CE(f)&&typeof c=="function"&&c(f,{success:g})},d=f=>{u(f,l===window||l===document||n.useGlobalTarget||wN(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),gN(a)&&(a.addEventListener("focus",c=>bG(c,s)),!_G(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function _N(t){return NA(t)&&"ownerSVGElement"in t}function SG(t){return _N(t)&&t.tagName==="svg"}const St=t=>!!(t&&t.getVelocity),EG=[...hN,Qe,qs],CG=t=>EG.find(dN(t)),o_=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function TE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function TG(...t){return e=>{let n=!1;const r=t.map(s=>{const i=TE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():TE(t[s],null)}}}}function PG(...t){return y.useCallback(TG(...t),t)}class kG extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=gN(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function IG({children:t,isPresent:e,anchorX:n,root:r}){const s=y.useId(),i=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=y.useContext(o_),l=PG(i,t==null?void 0:t.ref);return y.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h,right:f}=o.current;if(e||!i.current||!c||!u)return;const g=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=s;const m=document.createElement("style");a&&(m.nonce=a);const _=r??document.head;return _.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${d}px !important;
          }
        `),()=>{_.contains(m)&&_.removeChild(m)}},[e]),p.jsx(kG,{isPresent:e,childRef:i,sizeRef:o,children:y.cloneElement(t,{ref:l})})}const RG=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=$0(AG),u=y.useId();let d=!0,h=y.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:f=>{c.set(f,!0);for(const g of c.values())if(!g)return;r&&r()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,r]);return i&&d&&(h={...h}),y.useMemo(()=>{c.forEach((f,g)=>c.set(g,!1))},[n]),y.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(IG,{isPresent:n,anchorX:a,root:l,children:t})),p.jsx(hp.Provider,{value:h,children:t})};function AG(){return new Map}function bN(t=!0){const e=y.useContext(hp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=y.useId();y.useEffect(()=>{if(t)return s(i)},[t]);const o=y.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const vd=t=>t.key||"";function PE(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const xN=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=bN(o),d=y.useMemo(()=>PE(t),[t]),h=o&&!c?[]:d.map(vd),f=y.useRef(!0),g=y.useRef(d),m=$0(()=>new Map),[_,w]=y.useState(d),[v,b]=y.useState(d);RA(()=>{f.current=!1,g.current=d;for(let E=0;E<v.length;E++){const C=vd(v[E]);h.includes(C)?m.delete(C):m.get(C)!==!0&&m.set(C,!1)}},[v,h.length,h.join("-")]);const x=[];if(d!==_){let E=[...d];for(let C=0;C<v.length;C++){const T=v[C],P=vd(T);h.includes(P)||(E.splice(C,0,T),x.push(T))}return i==="wait"&&x.length&&(E=x),b(PE(E)),w(d),null}const{forceRender:S}=y.useContext(j0);return p.jsx(p.Fragment,{children:v.map(E=>{const C=vd(E),T=o&&!c?!1:d===v||h.includes(C),P=()=>{if(m.has(C))m.set(C,!0);else return;let I=!0;m.forEach(O=>{O||(I=!1)}),I&&(S==null||S(),b(g.current),o&&(u==null||u()),r&&r())};return p.jsx(RG,{isPresent:T,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:T?void 0:P,anchorX:a,children:E},C)})})},SN=y.createContext({strict:!1}),kE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$a={};for(const t in kE)$a[t]={isEnabled:e=>kE[t].some(n=>!!e[n])};function NG(t){for(const e in t)$a[e]={...$a[e],...t[e]}}const OG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OG.has(t)}let EN=t=>!cf(t);function DG(t){typeof t=="function"&&(EN=e=>e.startsWith("on")?!cf(e):t(e))}try{DG(require("@emotion/is-prop-valid").default)}catch{}function LG(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(EN(s)||n===!0&&cf(s)||!e&&!cf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const fp=y.createContext({});function pp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ou(t){return typeof t=="string"||Array.isArray(t)}const a_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],l_=["initial",...a_];function mp(t){return pp(t.animate)||l_.some(e=>ou(t[e]))}function CN(t){return!!(mp(t)||t.variants)}function MG(t,e){if(mp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ou(n)?n:void 0,animate:ou(r)?r:void 0}}return t.inherit!==!1?e:{}}function jG(t){const{initial:e,animate:n}=MG(t,y.useContext(fp));return y.useMemo(()=>({initial:e,animate:n}),[IE(e),IE(n)])}function IE(t){return Array.isArray(t)?t.join(" "):t}const au={};function $G(t){for(const e in t)au[e]=t[e],K0(e)&&(au[e].isCSSVariable=!0)}function TN(t,{layout:e,layoutId:n}){return ll.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!au[t]||t==="opacity")}const FG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UG=al.length;function VG(t,e,n){let r="",s=!0;for(let i=0;i<UG;i++){const o=al[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=mN(a,r_[o]);if(!l){s=!1;const u=FG[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function c_(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ll.has(l)){o=!0;continue}else if(K0(l)){s[l]=c;continue}else{const u=mN(c,r_[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=VG(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const u_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PN(t,e,n){for(const r in e)!St(e[r])&&!TN(r,n)&&(t[r]=e[r])}function BG({transformTemplate:t},e){return y.useMemo(()=>{const n=u_();return c_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function WG(t,e){const n=t.style||{},r={};return PN(r,n,t),Object.assign(r,BG(t,e)),r}function zG(t,e){const n={},r=WG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const HG={offset:"stroke-dashoffset",array:"stroke-dasharray"},KG={offset:"strokeDashoffset",array:"strokeDasharray"};function GG(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?HG:KG;t[i.offset]=X.transform(-r);const o=X.transform(e),a=X.transform(n);t[i.array]=`${o} ${a}`}function kN(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(c_(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&GG(d,s,i,o,!1)}const IN=()=>({...u_(),attrs:{}}),RN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qG(t,e,n,r){const s=y.useMemo(()=>{const i=IN();return kN(i,e,RN(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};PN(i,t.style,t),s.style={...i,...s.style}}return s}const YG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d_(t){return typeof t!="string"||t.includes("-")?!1:!!(YG.indexOf(t)>-1||/[A-Z]/u.test(t))}function QG(t,e,n,{latestValues:r},s,i=!1){const a=(d_(t)?qG:zG)(e,r,s,t),l=LG(e,typeof t=="string",i),c=t!==y.Fragment?{...l,...a,ref:n}:{},{children:u}=e,d=y.useMemo(()=>St(u)?u.get():u,[u]);return y.createElement(t,{...c,children:d})}function RE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function h_(t,e,n,r){if(typeof e=="function"){const[s,i]=RE(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=RE(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Jd(t){return St(t)?t.get():t}function JG({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:XG(n,r,s,t),renderState:e()}}function XG(t,e,n,r){const s={},i=r(t,{});for(const h in i)s[h]=Jd(i[h]);let{initial:o,animate:a}=t;const l=mp(t),c=CN(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!pp(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const g=h_(t,h[f]);if(g){const{transitionEnd:m,transition:_,...w}=g;for(const v in w){let b=w[v];if(Array.isArray(b)){const x=u?b.length-1:0;b=b[x]}b!==null&&(s[v]=b)}for(const v in m)s[v]=m[v]}}}return s}const AN=t=>(e,n)=>{const r=y.useContext(fp),s=y.useContext(hp),i=()=>JG(t,e,r,s);return n?i():$0(i)};function f_(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(St(r[o])||e.style&&St(e.style[o])||TN(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const ZG=AN({scrapeMotionValuesFromProps:f_,createRenderState:u_});function NN(t,e,n){const r=f_(t,e,n);for(const s in t)if(St(t[s])||St(e[s])){const i=al.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const e9=AN({scrapeMotionValuesFromProps:NN,createRenderState:IN}),t9=Symbol.for("motionComponentSymbol");function qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function n9(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):qo(n)&&(n.current=r))},[e])}const p_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),r9="framerAppearId",ON="data-"+p_(r9),DN=y.createContext({});function s9(t,e,n,r,s){var m,_;const{visualElement:i}=y.useContext(fp),o=y.useContext(SN),a=y.useContext(hp),l=y.useContext(o_).reducedMotion,c=y.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=y.useContext(DN);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&i9(c.current,n,s,d);const h=y.useRef(!1);y.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const f=n[ON],g=y.useRef(!!f&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,f))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,f)));return RA(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),y.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,f)}),g.current=!1),u.enteringChildren=void 0)}),u}function i9(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:LN(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&qo(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function LN(t){if(t)return t.options.allowProjection!==!1?t.projection:LN(t.parent)}function Lm(t,{forwardMotionProps:e=!1}={},n,r){n&&NG(n);const s=d_(t)?e9:ZG;function i(a,l){let c;const u={...y.useContext(o_),...a,layoutId:o9(a)},{isStatic:d}=u,h=jG(a),f=s(a,d);if(!d&&F0){a9();const g=l9(u);c=g.MeasureLayout,h.visualElement=s9(t,f,u,r,g.ProjectionNode)}return p.jsxs(fp.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...u}):null,QG(t,a,n9(f,h.visualElement,l),f,d,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=y.forwardRef(i);return o[t9]=t,o}function o9({layoutId:t}){const e=y.useContext(j0).id;return e&&t!==void 0?e+"-"+t:t}function a9(t,e){y.useContext(SN).strict}function l9(t){const{drag:e,layout:n}=$a;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function c9(t,e){if(typeof Proxy>"u")return Lm;const n=new Map,r=(i,o)=>Lm(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Lm(o,void 0,t,e)),n.get(o))})}function MN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function u9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function d9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Mm(t){return t===void 0||t===1}function Jy({scale:t,scaleX:e,scaleY:n}){return!Mm(t)||!Mm(e)||!Mm(n)}function mi(t){return Jy(t)||jN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jN(t){return AE(t.x)||AE(t.y)}function AE(t){return t&&t!=="0%"}function uf(t,e,n){const r=t-n,s=e*r;return n+s}function NE(t,e,n,r,s){return s!==void 0&&(t=uf(t,s,r)),uf(t,n,r)+e}function Xy(t,e=0,n=1,r,s){t.min=NE(t.min,e,n,r,s),t.max=NE(t.max,e,n,r,s)}function $N(t,{x:e,y:n}){Xy(t.x,e.translate,e.scale,e.originPoint),Xy(t.y,n.translate,n.scale,n.originPoint)}const OE=.999999999999,DE=1.0000000000001;function h9(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qo(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$N(t,o)),r&&mi(i.latestValues)&&Qo(t,i.latestValues))}e.x<DE&&e.x>OE&&(e.x=1),e.y<DE&&e.y>OE&&(e.y=1)}function Yo(t,e){t.min=t.min+e,t.max=t.max+e}function LE(t,e,n,r,s=.5){const i=je(t.min,t.max,s);Xy(t,e,n,i,r)}function Qo(t,e){LE(t.x,e.x,e.scaleX,e.scale,e.originX),LE(t.y,e.y,e.scaleY,e.scale,e.originY)}function FN(t,e){return MN(d9(t.getBoundingClientRect(),e))}function f9(t,e,n){const r=FN(t,n),{scroll:s}=e;return s&&(Yo(r.x,s.offset.x),Yo(r.y,s.offset.y)),r}const ME=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jo=()=>({x:ME(),y:ME()}),jE=()=>({min:0,max:0}),Ke=()=>({x:jE(),y:jE()}),Zy={current:null},UN={current:!1};function p9(){if(UN.current=!0,!!F0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zy.current=t.matches;t.addEventListener("change",e),e()}else Zy.current=!1}const m9=new WeakMap;function g9(t,e,n){for(const r in e){const s=e[r],i=n[r];if(St(s))t.addValue(r,s);else if(St(i))t.addValue(r,ja(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ja(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const $E=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class y9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=t_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=zt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Le.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=mp(n),this.isVariantNode=CN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const f=d[h];l[h]!==void 0&&St(f)&&f.set(l[h])}}mount(e){var n;this.current=e,m9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),UN.current||p9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zy.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Gs(this.notifyUpdate),Gs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ll.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Le.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $a){const n=$a[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ke()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$E.length;r++){const s=$E[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=g9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ja(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(AA(r)||OA(r))?r=parseFloat(r):!CG(r)&&qs.test(n)&&(r=pN(e,n)),this.setBaseTarget(e,St(r)?r.get():r)),St(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=h_(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!St(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new W0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){s_.render(this.render)}}class VN extends y9{constructor(){super(...arguments),this.KeyframeResolver=fG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;St(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BN(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function v9(t){return window.getComputedStyle(t)}class w9 extends VN{constructor(){super(...arguments),this.type="html",this.renderInstance=BN}readValueFromInstance(e,n){var r;if(ll.has(n))return(r=this.projection)!=null&&r.isProjecting?zy(n):NK(e,n);{const s=v9(e),i=(K0(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return FN(e,n)}build(e,n,r){c_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return f_(e,n,r)}}const WN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _9(t,e,n,r){BN(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(WN.has(s)?s:p_(s),e.attrs[s])}class b9 extends VN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ke}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ll.has(n)){const r=fN(n);return r&&r.default||0}return n=WN.has(n)?n:p_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return NN(e,n,r)}build(e,n,r){kN(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){_9(e,n,r,s)}mount(e){this.isSVGTag=RN(e.tagName),super.mount(e)}}const x9=(t,e)=>d_(t)?new b9(e):new w9(e,{allowProjection:t!==y.Fragment});function da(t,e,n){const r=t.getProps();return h_(r,e,n!==void 0?n:r.custom,t)}const ev=t=>Array.isArray(t);function S9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ja(n))}function E9(t){return ev(t)?t[t.length-1]||0:t}function C9(t,e){const n=da(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=E9(i[o]);S9(t,o,a)}}function T9(t){return!!(St(t)&&t.add)}function tv(t,e){const n=t.getValue("willChange");if(T9(n))return n.add(e);if(!n&&Br.WillChange){const r=new Br.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function zN(t){return t.props[ON]}const P9=t=>t!==null;function k9(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(P9),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const I9={type:"spring",stiffness:500,damping:25,restSpeed:10},R9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),A9={type:"keyframes",duration:.8},N9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O9=(t,{keyframes:e})=>e.length>2?A9:ll.has(t)?t.startsWith("scale")?R9(e[1]):I9:N9;function D9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const m_=(t,e,n,r={},s,i)=>o=>{const a=n_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-dr(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};D9(a)||Object.assign(u,O9(t,u)),u.duration&&(u.duration=dr(u.duration)),u.repeatDelay&&(u.repeatDelay=dr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Yy(u),u.delay===0&&(d=!0)),(Br.instantAnimations||Br.skipAnimations)&&(d=!0,Yy(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!i&&e.get()!==void 0){const h=k9(u.keyframes,a);if(h!==void 0){Le.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new e_(u):new tG(u)};function L9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function HN(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const u in a){const d=t.getValue(u,t.latestValues[u]??null),h=a[u];if(h===void 0||c&&L9(c,u))continue;const f={delay:n,...n_(i||{},u)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===g&&!f.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const w=zN(t);if(w){const v=window.MotionHandoffAnimation(w,u,Le);v!==null&&(f.startTime=v,m=!0)}}tv(t,u),d.start(m_(u,d,h,t.shouldReduceMotion&&uN.has(u)?{type:!1}:f,t,m));const _=d.animation;_&&l.push(_)}return o&&Promise.all(l).then(()=>{Le.update(()=>{o&&C9(t,o)})}),l}function KN(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function nv(t,e,n={}){var l;const r=da(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(HN(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return M9(t,e,c,u,d,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function M9(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(nv(l,e,{...o,delay:n+(typeof r=="function"?0:r)+KN(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function j9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>nv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=nv(t,e,n);else{const s=typeof e=="function"?da(t,e,n.custom):e;r=Promise.all(HN(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function GN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const $9=l_.length;function qN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?qN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$9;n++){const r=l_[n],s=t.props[r];(ou(s)||s===!1)&&(e[r]=s)}return e}const F9=[...a_].reverse(),U9=a_.length;function V9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>j9(t,n,r)))}function B9(t){let e=V9(t),n=FE(),r=!0;const s=l=>(c,u)=>{var h;const d=da(t,u,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:g,...m}=d;c={...c,...m,...g}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=qN(t.parent)||{},d=[],h=new Set;let f={},g=1/0;for(let _=0;_<U9;_++){const w=F9[_],v=n[w],b=c[w]!==void 0?c[w]:u[w],x=ou(b),S=w===l?v.isActive:null;S===!1&&(g=_);let E=b===u[w]&&b!==c[w]&&x;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),v.protectedKeys={...f},!v.isActive&&S===null||!b&&!v.prevProp||pp(b)||typeof b=="boolean")continue;const C=W9(v.prevProp,b);let T=C||w===l&&v.isActive&&!E&&x||_>g&&x,P=!1;const I=Array.isArray(b)?b:[b];let O=I.reduce(s(w),{});S===!1&&(O={});const{prevResolvedValues:L={}}=v,B={...L,...O},N=M=>{T=!0,h.has(M)&&(P=!0,h.delete(M)),v.needsAnimating[M]=!0;const k=t.getValue(M);k&&(k.liveStyle=!1)};for(const M in B){const k=O[M],R=L[M];if(f.hasOwnProperty(M))continue;let F=!1;ev(k)&&ev(R)?F=!GN(k,R):F=k!==R,F?k!=null?N(M):h.add(M):k!==void 0&&h.has(M)?N(M):v.protectedKeys[M]=!0}v.prevProp=b,v.prevResolvedValues=O,v.isActive&&(f={...f,...O}),r&&t.blockInitialAnimation&&(T=!1);const G=E&&C;T&&(!G||P)&&d.push(...I.map(M=>{const k={type:w};if(typeof M=="string"&&r&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:R}=t,F=da(R,M);if(R.enteringChildren&&F){const{delayChildren:H}=F.transition||{};k.delay=KN(R.enteringChildren,t,H)}}return{animation:M,options:k}}))}if(h.size){const _={};if(typeof c.initial!="boolean"){const w=da(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(_.transition=w.transition)}h.forEach(w=>{const v=t.getBaseTarget(w),b=t.getValue(w);b&&(b.liveStyle=!0),_[w]=v??null}),d.push({animation:_})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=FE()}}}function W9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!GN(e,t):!1}function li(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FE(){return{animate:li(!0),whileInView:li(),whileHover:li(),whileTap:li(),whileDrag:li(),whileFocus:li(),exit:li()}}class ei{constructor(e){this.isMounted=!1,this.node=e}update(){}}class z9 extends ei{constructor(e){super(e),e.animationState||(e.animationState=B9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let H9=0;class K9 extends ei{constructor(){super(...arguments),this.id=H9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const G9={animation:{Feature:z9},exit:{Feature:K9}};function lu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Mu(t){return{point:{x:t.pageX,y:t.pageY}}}const q9=t=>e=>i_(e)&&t(e,Mu(e));function cc(t,e,n,r){return lu(t,e,q9(n),r)}const YN=1e-4,Y9=1-YN,Q9=1+YN,QN=.01,J9=0-QN,X9=0+QN;function At(t){return t.max-t.min}function Z9(t,e,n){return Math.abs(t-e)<=n}function UE(t,e,n,r=.5){t.origin=r,t.originPoint=je(e.min,e.max,t.origin),t.scale=At(n)/At(e),t.translate=je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Y9&&t.scale<=Q9||isNaN(t.scale))&&(t.scale=1),(t.translate>=J9&&t.translate<=X9||isNaN(t.translate))&&(t.translate=0)}function uc(t,e,n,r){UE(t.x,e.x,n.x,r?r.originX:void 0),UE(t.y,e.y,n.y,r?r.originY:void 0)}function VE(t,e,n){t.min=n.min+e.min,t.max=t.min+At(e)}function e7(t,e,n){VE(t.x,e.x,n.x),VE(t.y,e.y,n.y)}function BE(t,e,n){t.min=e.min-n.min,t.max=t.min+At(e)}function dc(t,e,n){BE(t.x,e.x,n.x),BE(t.y,e.y,n.y)}function un(t){return[t("x"),t("y")]}const JN=({current:t})=>t?t.ownerDocument.defaultView:null,WE=(t,e)=>Math.abs(t-e);function t7(t,e){const n=WE(t.x,e.x),r=WE(t.y,e.y);return Math.sqrt(n**2+r**2)}class XN{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=$m(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=t7(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!g)return;const{point:m}=h,{timestamp:_}=ft;this.history.push({...m,timestamp:_});const{onStart:w,onMove:v}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=jm(f,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=$m(h.type==="pointercancel"?this.lastMoveEventInfo:jm(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,w),m&&m(h,w)},!i_(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Mu(e),l=jm(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=ft;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,$m(l,this.history)),this.removeListeners=Ou(cc(this.contextWindow,"pointermove",this.handlePointerMove),cc(this.contextWindow,"pointerup",this.handlePointerUp),cc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gs(this.updatePoint)}}function jm(t,e){return e?{point:e(t.point)}:t}function zE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $m({point:t},e){return{point:t,delta:zE(t,ZN(e)),offset:zE(t,n7(e)),velocity:r7(e,.1)}}function n7(t){return t[0]}function ZN(t){return t[t.length-1]}function r7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=ZN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>dr(e)));)n--;if(!r)return{x:0,y:0};const i=mn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function s7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?je(n,t,r.max):Math.min(t,n)),t}function HE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function i7(t,{top:e,left:n,bottom:r,right:s}){return{x:HE(t.x,n,s),y:HE(t.y,e,r)}}function KE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function o7(t,e){return{x:KE(t.x,e.x),y:KE(t.y,e.y)}}function a7(t,e){let n=.5;const r=At(t),s=At(e);return s>r?n=ru(e.min,e.max-r,t.min):r>s&&(n=ru(t.min,t.max-s,e.min)),Vr(0,1,n)}function l7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rv=.35;function c7(t=rv){return t===!1?t=0:t===!0&&(t=rv),{x:GE(t,"left","right"),y:GE(t,"top","bottom")}}function GE(t,e,n){return{min:qE(t,e),max:qE(t,n)}}function qE(t,e){return typeof t=="number"?t:t[e]||0}const u7=new WeakMap;class d7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mu(d).point)},o=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:m}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yG(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(w=>{let v=this.getAxisMotionValue(w).get()||0;if(hr.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[w];x&&(v=At(x)*(parseFloat(v)/100))}}this.originPoint[w]=v}),m&&Le.postRender(()=>m(d,h)),tv(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:m,onDrag:_}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=h;if(g&&this.currentDirection===null){this.currentDirection=h7(w),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),_&&_(d,h)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>un(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new XN(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:JN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Le.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!wd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=s7(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=i7(r.layoutBox,e):this.constraints=!1,this.elastic=c7(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&un(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=l7(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=f9(r,s.root,this.visualElement.getTransformPagePoint());let o=o7(s.layout.layoutBox,i);if(n){const a=n(u9(o));this.hasMutatedConstraints=!!a,a&&(o=MN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=un(u=>{if(!wd(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=s?200:1e6,f=s?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return tv(this.visualElement,e),r.start(m_(e,r,0,n,this.visualElement,!1))}stopAnimation(){un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){un(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){un(n=>{const{drag:r}=this.getProps();if(!wd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};un(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=a7({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),un(o=>{if(!wd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(je(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;u7.set(this.visualElement,this);const e=this.visualElement.current,n=cc(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();qo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Le.read(r);const o=lu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(un(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=rv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function wd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function h7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class f7 extends ei{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new d7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const YE=t=>(e,n)=>{t&&Le.postRender(()=>t(e,n))};class p7 extends ei{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new XN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:YE(e),onStart:YE(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Le.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=cc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Rl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(X.test(t))t=parseFloat(t);else return t;const n=QE(t,e.target.x),r=QE(t,e.target.y);return`${n}% ${r}%`}},m7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=qs.parse(t);if(s.length>5)return r;const i=qs.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=je(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let Fm=!1;class g7 extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;$G(y7),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Fm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Xd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Fm=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Le.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),s_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Fm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eO(t){const[e,n]=bN(),r=y.useContext(j0);return p.jsx(g7,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(DN),isPresent:e,safeToRemove:n})}const y7={borderRadius:{...Rl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rl,borderTopRightRadius:Rl,borderBottomLeftRadius:Rl,borderBottomRightRadius:Rl,boxShadow:m7};function v7(t,e,n){const r=St(t)?t:ja(t);return r.start(m_("",r,e,n)),r.animation}const w7=(t,e)=>t.depth-e.depth;class _7{constructor(){this.children=[],this.isDirty=!1}add(e){U0(this.children,e),this.isDirty=!0}remove(e){V0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(w7),this.isDirty=!1,this.children.forEach(e)}}function b7(t,e){const n=zt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Gs(r),t(i-e))};return Le.setup(r,!0),()=>Gs(r)}const tO=["TopLeft","TopRight","BottomLeft","BottomRight"],x7=tO.length,JE=t=>typeof t=="string"?parseFloat(t):t,XE=t=>typeof t=="number"||X.test(t);function S7(t,e,n,r,s,i){s?(t.opacity=je(0,n.opacity??1,E7(r)),t.opacityExit=je(e.opacity??1,0,C7(r))):i&&(t.opacity=je(e.opacity??1,n.opacity??1,r));for(let o=0;o<x7;o++){const a=`border${tO[o]}Radius`;let l=ZE(e,a),c=ZE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||XE(l)===XE(c)?(t[a]=Math.max(je(JE(l),JE(c),r),0),(hr.test(c)||hr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=je(e.rotate||0,n.rotate||0,r))}function ZE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const E7=nO(0,.5,VA),C7=nO(.5,.95,yn);function nO(t,e,n){return r=>r<t?0:r>e?1:n(ru(t,e,r))}function eC(t,e){t.min=e.min,t.max=e.max}function cn(t,e){eC(t.x,e.x),eC(t.y,e.y)}function tC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nC(t,e,n,r,s){return t-=e,t=uf(t,1/n,r),s!==void 0&&(t=uf(t,1/s,r)),t}function T7(t,e=0,n=1,r=.5,s,i=t,o=t){if(hr.test(e)&&(e=parseFloat(e),e=je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=je(i.min,i.max,r);t===i&&(a-=e),t.min=nC(t.min,e,n,a,s),t.max=nC(t.max,e,n,a,s)}function rC(t,e,[n,r,s],i,o){T7(t,e[n],e[r],e[s],e.scale,i,o)}const P7=["x","scaleX","originX"],k7=["y","scaleY","originY"];function sC(t,e,n,r){rC(t.x,e,P7,n?n.x:void 0,r?r.x:void 0),rC(t.y,e,k7,n?n.y:void 0,r?r.y:void 0)}function iC(t){return t.translate===0&&t.scale===1}function rO(t){return iC(t.x)&&iC(t.y)}function oC(t,e){return t.min===e.min&&t.max===e.max}function I7(t,e){return oC(t.x,e.x)&&oC(t.y,e.y)}function aC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sO(t,e){return aC(t.x,e.x)&&aC(t.y,e.y)}function lC(t){return At(t.x)/At(t.y)}function cC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class R7{constructor(){this.members=[]}add(e){U0(this.members,e),e.scheduleRender()}remove(e){if(V0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A7(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),f&&(r+=`skewX(${f}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Um=["","X","Y","Z"],N7=1e3;let O7=0;function Vm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function iO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Le,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&iO(r)}function oO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=O7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(M7),this.nodes.forEach(U7),this.nodes.forEach(V7),this.nodes.forEach(j7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new _7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new W0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=_N(o)&&!SG(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,d=0;const h=()=>this.root.updateBlockedByResize=!1;Le.read(()=>{d=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,u&&u(),u=b7(h,250),Xd.hasAnimatedSinceResize&&(Xd.hasAnimatedSinceResize=!1,this.nodes.forEach(hC)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||K7,{onLayoutAnimationStart:m,onLayoutAnimationComplete:_}=c.getProps(),w=!this.targetLayout||!sO(this.targetLayout,f),v=!d&&h;if(this.options.layoutRoot||this.resumeFrom||v||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...n_(g,"layout"),onPlay:m,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,v)}else d||hC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(F7),this.nodes.forEach(D7),this.nodes.forEach(L7)):this.nodes.forEach(dC),this.clearAllSnapshots();const a=zt.now();ft.delta=Vr(0,1e3/60,a-ft.timestamp),ft.timestamp=a,ft.isProcessing=!0,Im.update.process(ft),Im.preRender.process(ft),Im.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($7),this.sharedNodes.forEach(W7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!rO(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||mi(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),G7(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ke();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(q7))){const{scroll:u}=this.root;u&&(Yo(a.x,u.offset.x),Yo(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Ke();if(cn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&cn(a,o),Yo(a.x,d.offset.x),Yo(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Ke();cn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Qo(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),mi(u.latestValues)&&Qo(l,u.latestValues)}return mi(this.latestValues)&&Qo(l,this.latestValues),l}removeTransform(o){const a=Ke();cn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!mi(c.latestValues))continue;Jy(c.latestValues)&&c.updateSnapshot();const u=Ke(),d=c.measurePageBox();cn(u,d),sC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return mi(this.latestValues)&&sC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),dc(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ke(),this.targetWithTransforms=Ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),e7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),$N(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),dc(this.relativeTargetOrigin,this.target,f.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Jy(this.parent.latestValues)||jN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;cn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;h9(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ke());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tC(this.prevProjectionDelta.x,this.projectionDelta.x),tC(this.prevProjectionDelta.y,this.projectionDelta.y)),uc(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!cC(this.projectionDelta.x,this.prevProjectionDelta.x)||!cC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jo(),this.projectionDelta=Jo(),this.projectionDeltaWithTransform=Jo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ke(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=f!==g,_=this.getStack(),w=!_||_.members.length<=1,v=!!(m&&!w&&this.options.crossfade===!0&&!this.path.some(H7));this.animationProgress=0;let b;this.mixTargetDelta=x=>{const S=x/1e3;fC(d.x,o.x,S),fC(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z7(this.relativeTarget,this.relativeTargetOrigin,h,S),b&&I7(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ke()),cn(b,this.relativeTarget)),m&&(this.animationValues=u,S7(u,c,this.latestValues,S,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Xd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ja(0)),this.currentAnimation=v7(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(N7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&aO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ke();const d=At(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=At(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}cn(a,l),Qo(a,u),uc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new R7),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Vm("z",o,c,this.animationValues);for(let u=0;u<Um.length;u++)Vm(`rotate${Um[u]}`,o,c,this.animationValues),Vm(`skew${Um[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Jd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Jd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!mi(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=A7(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in au){if(u[g]===void 0)continue;const{correct:m,applyTo:_,isCSSVariable:w}=au[g],v=d==="none"?u[g]:m(u[g],c);if(_){const b=_.length;for(let x=0;x<b;x++)o[_[x]]=v}else w?this.options.visualElement.renderState.vars[g]=v:o[g]=v}this.options.layoutId&&(o.pointerEvents=c===this?Jd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(uC),this.root.sharedNodes.clear()}}}function D7(t){t.updateLayout()}function L7(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?un(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=At(h);h.min=r[d].min,h.max=h.min+f}):aO(i,e.layoutBox,r)&&un(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=At(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Jo();uc(a,r,e.layoutBox);const l=Jo();o?uc(l,t.applyTransform(s,!0),e.measuredBox):uc(l,r,e.layoutBox);const c=!rO(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const g=Ke();dc(g,e.layoutBox,h.layoutBox);const m=Ke();dc(m,r,f.layoutBox),sO(g,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function M7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function j7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $7(t){t.clearSnapshot()}function uC(t){t.clearMeasurements()}function dC(t){t.isLayoutDirty=!1}function F7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function U7(t){t.resolveTargetDelta()}function V7(t){t.calcProjection()}function B7(t){t.resetSkewAndRotation()}function W7(t){t.removeLeadSnapshot()}function fC(t,e,n){t.translate=je(e.translate,0,n),t.scale=je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pC(t,e,n,r){t.min=je(e.min,n.min,r),t.max=je(e.max,n.max,r)}function z7(t,e,n,r){pC(t.x,e.x,n.x,r),pC(t.y,e.y,n.y,r)}function H7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const K7={duration:.45,ease:[.4,0,.1,1]},mC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gC=mC("applewebkit/")&&!mC("chrome/")?Math.round:yn;function yC(t){t.min=gC(t.min),t.max=gC(t.max)}function G7(t){yC(t.x),yC(t.y)}function aO(t,e,n){return t==="position"||t==="preserve-aspect"&&!Z9(lC(e),lC(n),.2)}function q7(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Y7=oO({attachResizeListener:(t,e)=>lu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bm={current:void 0},lO=oO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bm.current){const t=new Y7({});t.mount(window),t.setOptions({layoutScroll:!0}),Bm.current=t}return Bm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Q7={pan:{Feature:p7},drag:{Feature:f7,ProjectionNode:lO,MeasureLayout:eO}};function vC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Le.postRender(()=>i(e,Mu(e)))}class J7 extends ei{mount(){const{current:e}=this.node;e&&(this.unmount=vG(e,(n,r)=>(vC(this.node,r,"Start"),s=>vC(this.node,s,"End"))))}unmount(){}}class X7 extends ei{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ou(lu(this.node.current,"focus",()=>this.onFocus()),lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Le.postRender(()=>i(e,Mu(e)))}class Z7 extends ei{mount(){const{current:e}=this.node;e&&(this.unmount=xG(e,(n,r)=>(wC(this.node,r,"Start"),(s,{success:i})=>wC(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sv=new WeakMap,Wm=new WeakMap,eq=t=>{const e=sv.get(t.target);e&&e(t)},tq=t=>{t.forEach(eq)};function nq({root:t,...e}){const n=t||document;Wm.has(n)||Wm.set(n,{});const r=Wm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(tq,{root:t,...e})),r[s]}function rq(t,e,n){const r=nq(e);return sv.set(t,n),r.observe(t),()=>{sv.delete(t),r.unobserve(t)}}const sq={some:0,all:1};class iq extends ei{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:sq[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return rq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oq(e,n))&&this.startObserver()}unmount(){}}function oq({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aq={inView:{Feature:iq},tap:{Feature:Z7},focus:{Feature:X7},hover:{Feature:J7}},lq={layout:{ProjectionNode:lO,MeasureLayout:eO}},cq={...G9,...aq,...Q7,...lq},K=c9(cq,x9);function cu(t,[e,n]){return Math.min(n,Math.max(e,t))}var uq=y.createContext(void 0);function g_(t){const e=y.useContext(uq);return t||e||"ltr"}var zm=0;function dq(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_C()),document.body.insertAdjacentElement("beforeend",t[1]??_C()),zm++,()=>{zm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zm--}},[])}function _C(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Hm="focusScope.autoFocusOnMount",Km="focusScope.autoFocusOnUnmount",bC={bubbles:!1,cancelable:!0},hq="FocusScope",cO=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=ct(s),u=ct(i),d=y.useRef(null),h=de(e,m=>l(m)),f=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let m=function(b){if(f.paused||!a)return;const x=b.target;a.contains(x)?d.current=x:ss(d.current,{select:!0})},_=function(b){if(f.paused||!a)return;const x=b.relatedTarget;x!==null&&(a.contains(x)||ss(d.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&ss(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",_);const v=new MutationObserver(w);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",_),v.disconnect()}}},[r,a,f.paused]),y.useEffect(()=>{if(a){SC.add(f);const m=document.activeElement;if(!a.contains(m)){const w=new CustomEvent(Hm,bC);a.addEventListener(Hm,c),a.dispatchEvent(w),w.defaultPrevented||(fq(vq(uO(a)),{select:!0}),document.activeElement===m&&ss(a))}return()=>{a.removeEventListener(Hm,c),setTimeout(()=>{const w=new CustomEvent(Km,bC);a.addEventListener(Km,u),a.dispatchEvent(w),w.defaultPrevented||ss(m??document.body,{select:!0}),a.removeEventListener(Km,u),SC.remove(f)},0)}}},[a,c,u,f]);const g=y.useCallback(m=>{if(!n&&!r||f.paused)return;const _=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(_&&w){const v=m.currentTarget,[b,x]=pq(v);b&&x?!m.shiftKey&&w===x?(m.preventDefault(),n&&ss(b,{select:!0})):m.shiftKey&&w===b&&(m.preventDefault(),n&&ss(x,{select:!0})):w===v&&m.preventDefault()}},[n,r,f.paused]);return p.jsx(ie.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});cO.displayName=hq;function fq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ss(r,{select:e}),document.activeElement!==n)return}function pq(t){const e=uO(t),n=xC(e,t),r=xC(e.reverse(),t);return[n,r]}function uO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xC(t,e){for(const n of t)if(!mq(n,{upTo:e}))return n}function mq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function gq(t){return t instanceof HTMLInputElement&&"select"in t}function ss(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&gq(t)&&e&&t.select()}}var SC=yq();function yq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=EC(t,e),t.unshift(e)},remove(e){var n;t=EC(t,e),(n=t[0])==null||n.resume()}}}function EC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function vq(t){return t.filter(e=>e.tagName!=="A")}function y_(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var wq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xo=new WeakMap,_d=new WeakMap,bd={},Gm=0,dO=function(t){return t&&(t.host||dO(t.parentNode))},_q=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=dO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bq=function(t,e,n,r){var s=_q(e,Array.isArray(t)?t:[t]);bd[n]||(bd[n]=new WeakMap);var i=bd[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(r),g=f!==null&&f!=="false",m=(xo.get(h)||0)+1,_=(i.get(h)||0)+1;xo.set(h,m),i.set(h,_),o.push(h),m===1&&g&&_d.set(h,!0),_===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return u(e),a.clear(),Gm++,function(){o.forEach(function(d){var h=xo.get(d)-1,f=i.get(d)-1;xo.set(d,h),i.set(d,f),h||(_d.has(d)||d.removeAttribute(r),_d.delete(d)),f||d.removeAttribute(n)}),Gm--,Gm||(xo=new WeakMap,xo=new WeakMap,_d=new WeakMap,bd={})}},xq=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=wq(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),bq(r,s,n,"aria-hidden")):function(){return null}},rr=function(){return rr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rr.apply(this,arguments)};function hO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Sq(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Zd="right-scroll-bar-position",eh="width-before-scroll-bar",Eq="with-scroll-bars-hidden",Cq="--removed-body-scroll-bar-size";function qm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Tq(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Pq=typeof window<"u"?y.useLayoutEffect:y.useEffect,CC=new WeakMap;function kq(t,e){var n=Tq(null,function(r){return t.forEach(function(s){return qm(s,r)})});return Pq(function(){var r=CC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||qm(a,null)}),i.forEach(function(a){s.has(a)||qm(a,o)})}CC.set(n,t)},[t]),n}function Iq(t){return t}function Rq(t,e){e===void 0&&(e=Iq);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function Aq(t){t===void 0&&(t={});var e=Rq(null);return e.options=rr({async:!0,ssr:!1},t),e}var fO=function(t){var e=t.sideCar,n=hO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,rr({},n))};fO.isSideCarExport=!0;function Nq(t,e){return t.useMedium(e),fO}var pO=Aq(),Ym=function(){},gp=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Ym,onWheelCapture:Ym,onTouchMoveCapture:Ym}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noRelative,g=t.noIsolation,m=t.inert,_=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,b=t.gapMode,x=hO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=kq([n,e]),C=rr(rr({},x),s);return y.createElement(y.Fragment,null,u&&y.createElement(S,{sideCar:pO,removeScrollBar:c,shards:d,noRelative:f,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:b}),o?y.cloneElement(y.Children.only(a),rr(rr({},C),{ref:E})):y.createElement(v,rr({},C,{className:l,ref:E}),a))});gp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gp.classNames={fullWidth:eh,zeroRight:Zd};var Oq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Dq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Oq();return e&&t.setAttribute("nonce",e),t}function Lq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Mq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var jq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Dq())&&(Lq(e,n),Mq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$q=function(){var t=jq();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},mO=function(){var t=$q(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Fq={left:0,top:0,right:0,gap:0},Qm=function(t){return parseInt(t||"",10)||0},Uq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Qm(n),Qm(r),Qm(s)]},Vq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Fq;var e=Uq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Bq=mO(),ha="data-scroll-locked",Wq=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Eq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ha,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(eh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zd," .").concat(Zd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(eh," .").concat(eh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ha,`] {
    `).concat(Cq,": ").concat(a,`px;
  }
`)},TC=function(){var t=parseInt(document.body.getAttribute(ha)||"0",10);return isFinite(t)?t:0},zq=function(){y.useEffect(function(){return document.body.setAttribute(ha,(TC()+1).toString()),function(){var t=TC()-1;t<=0?document.body.removeAttribute(ha):document.body.setAttribute(ha,t.toString())}},[])},Hq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;zq();var i=y.useMemo(function(){return Vq(s)},[s]);return y.createElement(Bq,{styles:Wq(i,!e,s,n?"":"!important")})},iv=!1;if(typeof window<"u")try{var xd=Object.defineProperty({},"passive",{get:function(){return iv=!0,!0}});window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{iv=!1}var So=iv?{passive:!1}:!1,Kq=function(t){return t.tagName==="TEXTAREA"},gO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kq(t)&&n[e]==="visible")},Gq=function(t){return gO(t,"overflowY")},qq=function(t){return gO(t,"overflowX")},PC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=yO(t,r);if(s){var i=vO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Yq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Qq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},yO=function(t,e){return t==="v"?Gq(e):qq(e)},vO=function(t,e){return t==="v"?Yq(e):Qq(e)},Jq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Xq=function(t,e,n,r,s){var i=Jq(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{if(!a)break;var f=vO(t,a),g=f[0],m=f[1],_=f[2],w=m-_-i*g;(g||w)&&yO(t,a)&&(d+=w,h+=g);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(c=!0),c},Sd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kC=function(t){return[t.deltaX,t.deltaY]},IC=function(t){return t&&"current"in t?t.current:t},Zq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tY=0,Eo=[];function nY(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(tY++)[0],i=y.useState(mO)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Sq([t.lockRef.current],(t.shards||[]).map(IC),!0).filter(Boolean);return m.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(m,_){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var w=Sd(m),v=n.current,b="deltaX"in m?m.deltaX:v[0]-w[0],x="deltaY"in m?m.deltaY:v[1]-w[1],S,E=m.target,C=Math.abs(b)>Math.abs(x)?"h":"v";if("touches"in m&&C==="h"&&E.type==="range")return!1;var T=PC(C,E);if(!T)return!0;if(T?S=C:(S=C==="v"?"h":"v",T=PC(C,E)),!T)return!1;if(!r.current&&"changedTouches"in m&&(b||x)&&(r.current=S),!S)return!0;var P=r.current||S;return Xq(P,_,m,P==="h"?b:x,!0)},[]),l=y.useCallback(function(m){var _=m;if(!(!Eo.length||Eo[Eo.length-1]!==i)){var w="deltaY"in _?kC(_):Sd(_),v=e.current.filter(function(S){return S.name===_.type&&(S.target===_.target||_.target===S.shadowParent)&&Zq(S.delta,w)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(IC).filter(Boolean).filter(function(S){return S.contains(_.target)}),x=b.length>0?a(_,b[0]):!o.current.noIsolation;x&&_.cancelable&&_.preventDefault()}}},[]),c=y.useCallback(function(m,_,w,v){var b={name:m,delta:_,target:w,should:v,shadowParent:rY(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(x){return x!==b})},1)},[]),u=y.useCallback(function(m){n.current=Sd(m),r.current=void 0},[]),d=y.useCallback(function(m){c(m.type,kC(m),m.target,a(m,t.lockRef.current))},[]),h=y.useCallback(function(m){c(m.type,Sd(m),m.target,a(m,t.lockRef.current))},[]);y.useEffect(function(){return Eo.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,So),document.addEventListener("touchmove",l,So),document.addEventListener("touchstart",u,So),function(){Eo=Eo.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,So),document.removeEventListener("touchmove",l,So),document.removeEventListener("touchstart",u,So)}},[]);var f=t.removeScrollBar,g=t.inert;return y.createElement(y.Fragment,null,g?y.createElement(i,{styles:eY(s)}):null,f?y.createElement(Hq,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function rY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const sY=Nq(pO,nY);var wO=y.forwardRef(function(t,e){return y.createElement(gp,rr({},t,{ref:e,sideCar:sY}))});wO.classNames=gp.classNames;var iY=[" ","Enter","ArrowUp","ArrowDown"],oY=[" ","Enter"],eo="Select",[yp,vp,aY]=_w(eo),[cl,uae]=zr(eo,[aY,Vf]),wp=Vf(),[lY,ti]=cl(eo),[cY,uY]=cl(eo),_O=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:f,form:g}=t,m=wp(e),[_,w]=y.useState(null),[v,b]=y.useState(null),[x,S]=y.useState(!1),E=g_(c),[C,T]=Oc({prop:r,defaultProp:s??!1,onChange:i,caller:eo}),[P,I]=Oc({prop:o,defaultProp:a,onChange:l,caller:eo}),O=y.useRef(null),L=_?g||!!_.closest("form"):!0,[B,N]=y.useState(new Set),G=Array.from(B).map(U=>U.props.value).join(";");return p.jsx(s4,{...m,children:p.jsxs(lY,{required:f,scope:e,trigger:_,onTriggerChange:w,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:x,onValueNodeHasChildrenChange:S,contentId:kw(),value:P,onValueChange:I,open:C,onOpenChange:T,dir:E,triggerPointerDownPosRef:O,disabled:h,children:[p.jsx(yp.Provider,{scope:e,children:p.jsx(cY,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(U=>{N(M=>new Set(M).add(U))},[]),onNativeOptionRemove:y.useCallback(U=>{N(M=>{const k=new Set(M);return k.delete(U),k})},[]),children:n})}),L?p.jsxs(zO,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:U=>I(U.target.value),disabled:h,form:g,children:[P===void 0?p.jsx("option",{value:""}):null,Array.from(B)]},G):null]})})};_O.displayName=eo;var bO="SelectTrigger",xO=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=wp(n),o=ti(bO,n),a=o.disabled||r,l=de(e,o.onTriggerChange),c=vp(n),u=y.useRef("touch"),[d,h,f]=KO(m=>{const _=c().filter(b=>!b.disabled),w=_.find(b=>b.value===o.value),v=GO(_,m,w);v!==void 0&&o.onValueChange(v.value)}),g=m=>{a||(o.onOpenChange(!0),f()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return p.jsx(Nk,{asChild:!0,...i,children:p.jsx(ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":HO(o.value)?"":void 0,...s,ref:l,onClick:Y(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:Y(s.onPointerDown,m=>{u.current=m.pointerType;const _=m.target;_.hasPointerCapture(m.pointerId)&&_.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Y(s.onKeyDown,m=>{const _=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(_&&m.key===" ")&&iY.includes(m.key)&&(g(),m.preventDefault())})})})});xO.displayName=bO;var SO="SelectValue",EO=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ti(SO,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=de(e,l.onValueNodeChange);return dt(()=>{c(u)},[c,u]),p.jsx(ie.span,{...a,ref:d,style:{pointerEvents:"none"},children:HO(l.value)?p.jsx(p.Fragment,{children:o}):i})});EO.displayName=SO;var dY="SelectIcon",CO=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return p.jsx(ie.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});CO.displayName=dY;var hY="SelectPortal",TO=t=>p.jsx(bw,{asChild:!0,...t});TO.displayName=hY;var to="SelectContent",PO=y.forwardRef((t,e)=>{const n=ti(to,t.__scopeSelect),[r,s]=y.useState();if(dt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ao.createPortal(p.jsx(kO,{scope:t.__scopeSelect,children:p.jsx(yp.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),i):null}return p.jsx(IO,{...t,ref:e})});PO.displayName=to;var In=10,[kO,ni]=cl(to),fY="SelectContentImpl",pY=Nc("SelectContent.RemoveScroll"),IO=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:m,avoidCollisions:_,...w}=t,v=ti(to,n),[b,x]=y.useState(null),[S,E]=y.useState(null),C=de(e,V=>x(V)),[T,P]=y.useState(null),[I,O]=y.useState(null),L=vp(n),[B,N]=y.useState(!1),G=y.useRef(!1);y.useEffect(()=>{if(b)return xq(b)},[b]),dq();const U=y.useCallback(V=>{const[_e,...Ve]=L().map(me=>me.ref.current),[ve]=Ve.slice(-1),fe=document.activeElement;for(const me of V)if(me===fe||(me==null||me.scrollIntoView({block:"nearest"}),me===_e&&S&&(S.scrollTop=0),me===ve&&S&&(S.scrollTop=S.scrollHeight),me==null||me.focus(),document.activeElement!==fe))return},[L,S]),M=y.useCallback(()=>U([T,b]),[U,T,b]);y.useEffect(()=>{B&&M()},[B,M]);const{onOpenChange:k,triggerPointerDownPosRef:R}=v;y.useEffect(()=>{if(b){let V={x:0,y:0};const _e=ve=>{var fe,me;V={x:Math.abs(Math.round(ve.pageX)-(((fe=R.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((me=R.current)==null?void 0:me.y)??0))}},Ve=ve=>{V.x<=10&&V.y<=10?ve.preventDefault():b.contains(ve.target)||k(!1),document.removeEventListener("pointermove",_e),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[b,k,R]),y.useEffect(()=>{const V=()=>k(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[k]);const[F,H]=KO(V=>{const _e=L().filter(fe=>!fe.disabled),Ve=_e.find(fe=>fe.ref.current===document.activeElement),ve=GO(_e,V,Ve);ve&&setTimeout(()=>ve.ref.current.focus())}),z=y.useCallback((V,_e,Ve)=>{const ve=!G.current&&!Ve;(v.value!==void 0&&v.value===_e||ve)&&(P(V),ve&&(G.current=!0))},[v.value]),Z=y.useCallback(()=>b==null?void 0:b.focus(),[b]),ee=y.useCallback((V,_e,Ve)=>{const ve=!G.current&&!Ve;(v.value!==void 0&&v.value===_e||ve)&&O(V)},[v.value]),xe=r==="popper"?ov:RO,Ue=xe===ov?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:m,avoidCollisions:_}:{};return p.jsx(kO,{scope:n,content:b,viewport:S,onViewportChange:E,itemRefCallback:z,selectedItem:T,onItemLeave:Z,itemTextRefCallback:ee,focusSelectedItem:M,selectedItemText:I,position:r,isPositioned:B,searchRef:F,children:p.jsx(wO,{as:pY,allowPinchZoom:!0,children:p.jsx(cO,{asChild:!0,trapped:v.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:Y(s,V=>{var _e;(_e=v.trigger)==null||_e.focus({preventScroll:!0}),V.preventDefault()}),children:p.jsx(Lf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:p.jsx(xe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:V=>V.preventDefault(),...w,...Ue,onPlaced:()=>N(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Y(w.onKeyDown,V=>{const _e=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!_e&&V.key.length===1&&H(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let ve=L().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(V.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const fe=V.target,me=ve.indexOf(fe);ve=ve.slice(me+1)}setTimeout(()=>U(ve)),V.preventDefault()}})})})})})})});IO.displayName=fY;var mY="SelectItemAlignedPosition",RO=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ti(to,n),o=ni(to,n),[a,l]=y.useState(null),[c,u]=y.useState(null),d=de(e,C=>u(C)),h=vp(n),f=y.useRef(!1),g=y.useRef(!0),{viewport:m,selectedItem:_,selectedItemText:w,focusSelectedItem:v}=o,b=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&_&&w){const C=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),I=w.getBoundingClientRect();if(i.dir!=="rtl"){const fe=I.left-T.left,me=P.left-fe,gt=C.left-me,an=C.width+gt,si=Math.max(an,T.width),Gr=window.innerWidth-In,ii=cu(me,[In,Math.max(In,Gr-si)]);a.style.minWidth=an+"px",a.style.left=ii+"px"}else{const fe=T.right-I.right,me=window.innerWidth-P.right-fe,gt=window.innerWidth-C.right-me,an=C.width+gt,si=Math.max(an,T.width),Gr=window.innerWidth-In,ii=cu(me,[In,Math.max(In,Gr-si)]);a.style.minWidth=an+"px",a.style.right=ii+"px"}const O=h(),L=window.innerHeight-In*2,B=m.scrollHeight,N=window.getComputedStyle(c),G=parseInt(N.borderTopWidth,10),U=parseInt(N.paddingTop,10),M=parseInt(N.borderBottomWidth,10),k=parseInt(N.paddingBottom,10),R=G+U+B+k+M,F=Math.min(_.offsetHeight*5,R),H=window.getComputedStyle(m),z=parseInt(H.paddingTop,10),Z=parseInt(H.paddingBottom,10),ee=C.top+C.height/2-In,xe=L-ee,Ue=_.offsetHeight/2,V=_.offsetTop+Ue,_e=G+U+V,Ve=R-_e;if(_e<=ee){const fe=O.length>0&&_===O[O.length-1].ref.current;a.style.bottom="0px";const me=c.clientHeight-m.offsetTop-m.offsetHeight,gt=Math.max(xe,Ue+(fe?Z:0)+me+M),an=_e+gt;a.style.height=an+"px"}else{const fe=O.length>0&&_===O[0].ref.current;a.style.top="0px";const gt=Math.max(ee,G+m.offsetTop+(fe?z:0)+Ue)+Ve;a.style.height=gt+"px",m.scrollTop=_e-ee+m.offsetTop}a.style.margin=`${In}px 0`,a.style.minHeight=F+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[h,i.trigger,i.valueNode,a,c,m,_,w,i.dir,r]);dt(()=>b(),[b]);const[x,S]=y.useState();dt(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const E=y.useCallback(C=>{C&&g.current===!0&&(b(),v==null||v(),g.current=!1)},[b,v]);return p.jsx(yY,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:p.jsx(ie.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});RO.displayName=mY;var gY="SelectPopperPosition",ov=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=In,...i}=t,o=wp(n);return p.jsx(Ok,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ov.displayName=gY;var[yY,v_]=cl(to,{}),av="SelectViewport",AO=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ni(av,n),o=v_(av,n),a=de(e,i.onViewportChange),l=y.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(yp.Slot,{scope:n,children:p.jsx(ie.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Y(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(l.current-u.scrollTop);if(f>0){const g=window.innerHeight-In*2,m=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),w=Math.max(m,_);if(w<g){const v=w+f,b=Math.min(g,v),x=v-b;d.style.height=b+"px",d.style.bottom==="0px"&&(u.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});AO.displayName=av;var NO="SelectGroup",[vY,wY]=cl(NO),_Y=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=kw();return p.jsx(vY,{scope:n,id:s,children:p.jsx(ie.div,{role:"group","aria-labelledby":s,...r,ref:e})})});_Y.displayName=NO;var OO="SelectLabel",DO=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=wY(OO,n);return p.jsx(ie.div,{id:s.id,...r,ref:e})});DO.displayName=OO;var df="SelectItem",[bY,LO]=cl(df),MO=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ti(df,n),l=ni(df,n),c=a.value===r,[u,d]=y.useState(i??""),[h,f]=y.useState(!1),g=de(e,v=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,v,r,s)}),m=kw(),_=y.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(bY,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:y.useCallback(v=>{d(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:p.jsx(yp.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:p.jsx(ie.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Y(o.onFocus,()=>f(!0)),onBlur:Y(o.onBlur,()=>f(!1)),onClick:Y(o.onClick,()=>{_.current!=="mouse"&&w()}),onPointerUp:Y(o.onPointerUp,()=>{_.current==="mouse"&&w()}),onPointerDown:Y(o.onPointerDown,v=>{_.current=v.pointerType}),onPointerMove:Y(o.onPointerMove,v=>{var b;_.current=v.pointerType,s?(b=l.onItemLeave)==null||b.call(l):_.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Y(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:Y(o.onKeyDown,v=>{var x;((x=l.searchRef)==null?void 0:x.current)!==""&&v.key===" "||(oY.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});MO.displayName=df;var Ul="SelectItemText",jO=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ti(Ul,n),a=ni(Ul,n),l=LO(Ul,n),c=uY(Ul,n),[u,d]=y.useState(null),h=de(e,w=>d(w),l.onItemTextChange,w=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,w,l.value,l.disabled)}),f=u==null?void 0:u.textContent,g=y.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:_}=c;return dt(()=>(m(g),()=>_(g)),[m,_,g]),p.jsxs(p.Fragment,{children:[p.jsx(ie.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ao.createPortal(i.children,o.valueNode):null]})});jO.displayName=Ul;var $O="SelectItemIndicator",FO=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return LO($O,n).isSelected?p.jsx(ie.span,{"aria-hidden":!0,...r,ref:e}):null});FO.displayName=$O;var lv="SelectScrollUpButton",UO=y.forwardRef((t,e)=>{const n=ni(lv,t.__scopeSelect),r=v_(lv,t.__scopeSelect),[s,i]=y.useState(!1),o=de(e,r.onScrollButtonChange);return dt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(BO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});UO.displayName=lv;var cv="SelectScrollDownButton",VO=y.forwardRef((t,e)=>{const n=ni(cv,t.__scopeSelect),r=v_(cv,t.__scopeSelect),[s,i]=y.useState(!1),o=de(e,r.onScrollButtonChange);return dt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(BO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});VO.displayName=cv;var BO=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ni("SelectScrollButton",n),o=y.useRef(null),a=vp(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),dt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),p.jsx(ie.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Y(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Y(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Y(s.onPointerLeave,()=>{l()})})}),xY="SelectSeparator",WO=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(ie.div,{"aria-hidden":!0,...r,ref:e})});WO.displayName=xY;var uv="SelectArrow",SY=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=wp(n),i=ti(uv,n),o=ni(uv,n);return i.open&&o.position==="popper"?p.jsx(Dk,{...s,...r,ref:e}):null});SY.displayName=uv;var EY="SelectBubbleInput",zO=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=de(r,s),o=y_(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),p.jsx(ie.select,{...n,style:{...IP,...n.style},ref:i,defaultValue:e})});zO.displayName=EY;function HO(t){return t===""||t===void 0}function KO(t){const e=ct(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function GO(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=CY(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function CY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var TY=_O,qO=xO,PY=EO,kY=CO,IY=TO,YO=PO,RY=AO,QO=DO,JO=MO,AY=jO,NY=FO,XO=UO,ZO=VO,eD=WO;const Ui=TY,Vi=PY,js=y.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(qO,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(kY,{asChild:!0,children:p.jsx(Ka,{className:"h-4 w-4 opacity-50"})})]}));js.displayName=qO.displayName;const tD=y.forwardRef(({className:t,...e},n)=>p.jsx(XO,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(_u,{className:"h-4 w-4"})}));tD.displayName=XO.displayName;const nD=y.forwardRef(({className:t,...e},n)=>p.jsx(ZO,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(Ka,{className:"h-4 w-4"})}));nD.displayName=ZO.displayName;const $s=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>p.jsx(IY,{children:p.jsxs(YO,{ref:s,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(tD,{}),p.jsx(RY,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(nD,{})]})}));$s.displayName=YO.displayName;const OY=y.forwardRef(({className:t,...e},n)=>p.jsx(QO,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));OY.displayName=QO.displayName;const Fs=y.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(JO,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(NY,{children:p.jsx(n$,{className:"h-4 w-4"})})}),p.jsx(AY,{children:e})]}));Fs.displayName=JO.displayName;const DY=y.forwardRef(({className:t,...e},n)=>p.jsx(eD,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));DY.displayName=eD.displayName;const LY=[{code:"en",name:"English"},{code:"hi",name:""},{code:"mr",name:""},{code:"ta",name:""},{code:"te",name:""}],w_=()=>{const{i18n:t}=gr();return p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(c$,{className:"w-4 h-4 text-muted-foreground"}),p.jsxs(Ui,{value:t.language,onValueChange:e=>t.changeLanguage(e),children:[p.jsx(js,{className:"w-32 bg-background border-input",children:p.jsx(Vi,{})}),p.jsx($s,{children:LY.map(e=>p.jsx(Fs,{value:e.code,children:e.name},e.code))})]})]})},MY=()=>{const t=Hw(),{t:e}=gr();return y.useEffect(()=>{const n=KI(eu,r=>{r&&t("/dashboard")});return()=>n()},[t]),p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted to-background relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[p.jsx(K.div,{animate:{y:[0,-20,0],x:[0,10,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-20 left-10 opacity-10",children:p.jsx(u$,{className:"w-32 h-32 text-primary"})}),p.jsx(K.div,{animate:{y:[0,20,0],x:[0,-15,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 right-10 opacity-10",children:p.jsx(Lr,{className:"w-40 h-40 text-accent"})})]}),p.jsx("header",{className:"absolute top-0 right-0 p-6 z-10",children:p.jsx(w_,{})}),p.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:p.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-3xl",children:[p.jsx(K.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,repeatDelay:2},className:"inline-block mb-6",children:p.jsx(bu,{className:"w-24 h-24 text-primary mx-auto"})}),p.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-primary via-accent to-secondary bg-clip-text text-transparent",children:e("appTitle")}),p.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:e("manageYourFarm")}),p.jsx(K.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:p.jsx(Xe,{onClick:()=>t("/auth"),size:"lg",className:"bg-gradient-to-r from-primary to-accent hover:opacity-90 transition-opacity text-primary-foreground font-semibold px-12 py-6 text-lg shadow-[var(--shadow-glow)]",children:e("login")})}),p.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8 text-left",children:[p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card/50 backdrop-blur-sm p-6 rounded-lg border border-border",children:[p.jsx(XP,{className:"w-8 h-8 text-primary mb-3"}),p.jsx("h3",{className:"font-semibold text-lg mb-2 text-foreground",children:e("autoMode")}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e("autoModeDesc")})]}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-card/50 backdrop-blur-sm p-6 rounded-lg border border-border",children:[p.jsx(ek,{className:"w-8 h-8 text-primary mb-3"}),p.jsx("h3",{className:"font-semibold text-lg mb-2 text-foreground",children:e("laserSystem")}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e("laserSystemDesc")})]}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-card/50 backdrop-blur-sm p-6 rounded-lg border border-border",children:[p.jsx(Lr,{className:"w-8 h-8 text-primary mb-3"}),p.jsx("h3",{className:"font-semibold text-lg mb-2 text-foreground",children:e("pump")}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e("pumpDesc")})]})]})]})})]})},no=y.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));no.displayName="Input";var jY="Label",rD=y.forwardRef((t,e)=>p.jsx(ie.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));rD.displayName=jY;var sD=rD;const $Y=Cw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ro=y.forwardRef(({className:t,...e},n)=>p.jsx(sD,{ref:n,className:we($Y(),t),...e}));ro.displayName=sD.displayName;const Dt=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Dt.displayName="Card";const Fa=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));Fa.displayName="CardHeader";const ju=y.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));ju.displayName="CardTitle";const $u=y.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));$u.displayName="CardDescription";const Ua=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));Ua.displayName="CardContent";const FY=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));FY.displayName="CardFooter";const UY=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(!1),o=Hw(),{toast:a}=lo(),{t:l}=gr(),c=async u=>{u.preventDefault(),i(!0);try{await b5(eu,t,n),a({title:l("welcomeBack"),description:l("manageYourFarm")}),o("/dashboard")}catch{a({title:l("error"),description:l("loginError"),variant:"destructive"})}finally{i(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted p-4",children:p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:p.jsxs(Dt,{className:"p-8 bg-card border-border shadow-[var(--shadow-card)]",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(K.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:p.jsx(bu,{className:"w-10 h-10 text-primary"})}),p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:l("appTitle")})]}),p.jsx(w_,{})]}),p.jsxs("form",{onSubmit:c,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(ro,{htmlFor:"email",className:"text-foreground",children:l("email")}),p.jsxs("div",{className:"relative",children:[p.jsx(p$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(no,{id:"email",type:"email",value:t,onChange:u=>e(u.target.value),required:!0,className:"pl-10 bg-background border-input",placeholder:"your@email.com"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(ro,{htmlFor:"password",className:"text-foreground",children:l("password")}),p.jsxs("div",{className:"relative",children:[p.jsx(h$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(no,{id:"password",type:"password",value:n,onChange:u=>r(u.target.value),required:!0,className:"pl-10 bg-background border-input",placeholder:""})]})]}),p.jsx(Xe,{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-primary to-accent hover:opacity-90 transition-opacity text-primary-foreground font-semibold py-6 text-lg",children:s?"...":l("signIn")})]}),p.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:p.jsx("p",{children:l("manageYourFarm")})})]})})})};var _p="Switch",[VY,dae]=zr(_p),[BY,WY]=VY(_p),iD=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[h,f]=y.useState(null),g=de(e,b=>f(b)),m=y.useRef(!1),_=h?u||!!h.closest("form"):!0,[w,v]=Oc({prop:s,defaultProp:i??!1,onChange:c,caller:_p});return p.jsxs(BY,{scope:n,checked:w,disabled:a,children:[p.jsx(ie.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":cD(w),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:g,onClick:Y(t.onClick,b=>{v(x=>!x),_&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),_&&p.jsx(lD,{control:h,bubbles:!m.current,name:r,value:l,checked:w,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});iD.displayName=_p;var oD="SwitchThumb",aD=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=WY(oD,n);return p.jsx(ie.span,{"data-state":cD(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});aD.displayName=oD;var zY="SwitchBubbleInput",lD=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=de(o,i),l=y_(n),c=Mw(e);return y.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&f){const g=new Event("click",{bubbles:r});f.call(u,n),u.dispatchEvent(g)}},[l,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lD.displayName=zY;function cD(t){return t?"checked":"unchecked"}var uD=iD,HY=aD;const dD=y.forwardRef(({className:t,...e},n)=>p.jsx(uD,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:p.jsx(HY,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));dD.displayName=uD.displayName;const Ed=({label:t,description:e,checked:n,onChange:r,icon:s})=>p.jsx(K.div,{whileHover:{scale:1.02},transition:{duration:.2},children:p.jsx(Dt,{className:"p-6 bg-card border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300",children:p.jsxs("div",{className:"flex items-start justify-between gap-4",children:[p.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[p.jsx(K.div,{animate:{scale:n?[1,1.2,1]:1,rotate:n?[0,10,-10,0]:0},transition:{duration:.5},className:"text-primary",children:s}),p.jsxs("div",{className:"flex-1",children:[p.jsx(ro,{htmlFor:t,className:"text-lg font-semibold text-foreground cursor-pointer",children:t}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e}),p.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},className:`mt-2 text-xs font-medium ${n?"text-[hsl(var(--success))]":"text-muted-foreground"}`,children:n?" Active":" Inactive"})]})]}),p.jsx(dD,{id:t,checked:n,onCheckedChange:r,className:"data-[state=checked]:bg-primary"})]})})}),KY=({label:t,description:e,value:n,onChange:r})=>p.jsx(K.div,{whileHover:{scale:1.02},transition:{duration:.2},children:p.jsx(Dt,{className:"p-6 bg-card border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(r$,{className:"w-5 h-5 text-primary"}),p.jsxs("div",{children:[p.jsx(ro,{htmlFor:t,className:"text-lg font-semibold text-foreground",children:t}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e})]})]}),p.jsx(no,{id:t,type:"time",value:n,onChange:s=>r(s.target.value),className:"text-lg font-mono bg-background border-input focus:ring-primary"})]})})}),GY=({label:t,description:e,value:n,onChange:r})=>{const s=i=>{const o=i.target.value;o.length<=5&&r(o)};return p.jsx(K.div,{whileHover:{scale:1.02},transition:{duration:.2},children:p.jsx(Dt,{className:"p-6 bg-card border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(x$,{className:"w-5 h-5 text-primary"}),p.jsxs("div",{children:[p.jsx(ro,{htmlFor:t,className:"text-lg font-semibold text-foreground",children:t}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e})]})]}),p.jsx(no,{id:t,type:"text",value:n,onChange:s,placeholder:"00:00",pattern:"[0-9]{2}:[0-9]{2}",className:"text-lg font-mono bg-background border-input focus:ring-primary"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: HH:MM"})]})})})},Jm=({label:t,value:e,max:n,unit:r,icon:s,color:i})=>{const o=e??0,a=Math.min(o/n*100,100),l=2*Math.PI*45,c=l-a/100*l;return p.jsx(K.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},whileHover:{scale:1.05},className:"w-full",children:p.jsx(Dt,{className:"p-4 sm:p-6 bg-card border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300 h-full",children:p.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s,p.jsx("h3",{className:"text-xs sm:text-sm font-semibold truncate max-w-full",children:t})]}),p.jsxs("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32 flex-shrink-0",children:[p.jsxs("svg",{className:"transform -rotate-90 w-full h-full",viewBox:"0 0 128 128",children:[p.jsx("circle",{cx:"64",cy:"64",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-muted"}),p.jsx(K.circle,{cx:"64",cy:"64",r:"45",stroke:i,strokeWidth:"8",fill:"none",strokeLinecap:"round",initial:{strokeDashoffset:l},animate:{strokeDashoffset:c},transition:{duration:1,ease:"easeInOut"},style:{strokeDasharray:l}})]}),p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center px-2",children:[p.jsx(K.span,{className:"text-2xl sm:text-3xl font-bold text-foreground leading-none",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:o.toFixed(1)}),p.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:r})]})]}),p.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:p.jsx(K.div,{className:"h-full rounded-full",style:{backgroundColor:i},initial:{width:0},animate:{width:`${a}%`},transition:{duration:1,ease:"easeOut"}})})]})})})},qY="modulepreload",YY=function(t){return"/SMART_FARMING/"+t},RC={},Fu=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=YY(l),l in RC)return;RC[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":qY,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},QY=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fu(async()=>{const{default:r}=await Promise.resolve().then(()=>ul);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class __ extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class AC extends __{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class NC extends __{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class OC extends __{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dv||(dv={}));var JY=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class XY{constructor(e,{headers:n={},customFetch:r,region:s=dv.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=QY(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return JY(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:a,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(c["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(c["Content-Type"]="application/json",h=JSON.stringify(a)));const f=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:l}).catch(w=>{throw w.name==="AbortError"?w:new AC(w)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new NC(f);if(!f.ok)throw new OC(f);let m=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return m==="application/json"?_=yield f.json():m==="application/octet-stream"?_=yield f.blob():m==="text/event-stream"?_=f:m==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new AC(i)}:{data:null,error:i,response:i instanceof OC||i instanceof NC?i.context:void 0}}})}}var Ut={},b_={},bp={},Uu={},xp={},Sp={},ZY=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Va=ZY();const eQ=Va.fetch,hD=Va.fetch.bind(Va),fD=Va.Headers,tQ=Va.Request,nQ=Va.Response,ul=Object.freeze(Object.defineProperty({__proto__:null,Headers:fD,Request:tQ,Response:nQ,default:hD,fetch:eQ},Symbol.toStringTag,{value:"Module"})),rQ=AL(ul);var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});let sQ=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ep.default=sQ;var pD=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sp,"__esModule",{value:!0});const iQ=pD(rQ),oQ=pD(Ep);let aQ=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=iQ.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=v:d=JSON.parse(v))}const _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&_===""?(f=204,g="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new oQ.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Sp.default=aQ;var lQ=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xp,"__esModule",{value:!0});const cQ=lQ(Sp);let uQ=class extends cQ.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};xp.default=uQ;var dQ=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uu,"__esModule",{value:!0});const hQ=dQ(xp);let fQ=class extends hQ.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Uu.default=fQ;var pQ=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bp,"__esModule",{value:!0});const Al=pQ(Uu);let mQ=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,n){const{head:r=!1,count:s}=n??{},i=r?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),s&&this.headers.append("Prefer",`count=${s}`),new Al.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Al.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Al.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Al.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Al.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};bp.default=mQ;var mD=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(b_,"__esModule",{value:!0});const gQ=mD(bp),yQ=mD(Uu);let vQ=class gD{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new gQ.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new gD(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=n);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new yQ.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};b_.default=vQ;var dl=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.PostgrestError=Ut.PostgrestBuilder=Ut.PostgrestTransformBuilder=Ut.PostgrestFilterBuilder=Ut.PostgrestQueryBuilder=Ut.PostgrestClient=void 0;const yD=dl(b_);Ut.PostgrestClient=yD.default;const vD=dl(bp);Ut.PostgrestQueryBuilder=vD.default;const wD=dl(Uu);Ut.PostgrestFilterBuilder=wD.default;const _D=dl(xp);Ut.PostgrestTransformBuilder=_D.default;const bD=dl(Sp);Ut.PostgrestBuilder=bD.default;const xD=dl(Ep);Ut.PostgrestError=xD.default;var wQ=Ut.default={PostgrestClient:yD.default,PostgrestQueryBuilder:vD.default,PostgrestFilterBuilder:wD.default,PostgrestTransformBuilder:_D.default,PostgrestBuilder:bD.default,PostgrestError:xD.default};const{PostgrestClient:_Q,PostgrestQueryBuilder:yae,PostgrestFilterBuilder:vae,PostgrestTransformBuilder:wae,PostgrestBuilder:_ae,PostgrestError:bae}=wQ;class bQ{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xQ="2.75.1",SQ=`realtime-js/${xQ}`,EQ="1.0.0",hv=1e4,CQ=1e3,TQ=100;var hc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hc||(hc={}));var Ze;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ze||(Ze={}));var Ln;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ln||(Ln={}));var fv;(function(t){t.websocket="websocket"})(fv||(fv={}));var yi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yi||(yi={}));class PQ{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class SD{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Te||(Te={}));const DC=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=kQ(o,t,e,s),i),{}):{}},kQ=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?ED(i,o):pv(o)},ED=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return NQ(e,n)}switch(t){case Te.bool:return IQ(e);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return RQ(e);case Te.json:case Te.jsonb:return AQ(e);case Te.timestamp:return OQ(e);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return pv(e);default:return pv(e)}},pv=t=>t,IQ=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},RQ=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},AQ=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},NQ=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ED(e,a))}return t},OQ=t=>typeof t=="string"?t.replace(" ","T"):t,CD=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Xm{constructor(e,n,r={},s=hv){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var LC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(LC||(LC={}));class fc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=fc.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=fc.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),g=u.filter(_=>f.indexOf(_.presence_ref)<0),m=d.filter(_=>h.indexOf(_.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var MC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(MC||(MC={}));var pc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(pc||(pc={}));var br;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(br||(br={}));class x_{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xm(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new SD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new fc(this),this.broadcastEndpointURL=CD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[pc.PRESENCE]&&this.bindings[pc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(br.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(br.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){e==null||e(br.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,_=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,w=[];for(let v=0;v<_;v++){const b=m[v],{filter:{event:x,schema:S,table:E,filter:C}}=b,T=f&&f[v];if(T&&T.event===x&&T.schema===S&&T.table===E&&T.filter===C)w.push(Object.assign(Object.assign({},b),{id:T.id}));else{this.unsubscribe(),this.state=Ze.errored,e==null||e(br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(br.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ze.errored,e==null||e(br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Ze.joined&&e===pc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Xm(this,Ln.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xm(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>TQ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ln;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var g,m,_;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(m=f.filter)===null||m===void 0?void 0:m.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,m,_,w,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,S=(g=f.filter)===null||g===void 0?void 0:g.event;return x&&((m=n.ids)===null||m===void 0?void 0:m.includes(x))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(v=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return x==="*"||x===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:_,commit_timestamp:w,type:v,errors:b}=g;h=Object.assign(Object.assign({},{schema:m,table:_,commit_timestamp:w,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&x_.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ln.close,{},e)}_onError(e){this._on(Ln.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=DC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=DC(e.columns,e.old_record)),n}}const Zm=()=>{},Cd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DQ=[1e3,2e3,5e3,1e4],LQ=1e4,MQ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jQ{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hv,this.transport=null,this.heartbeatIntervalMs=Cd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zm,this.ref=0,this.reconnectTimer=null,this.logger=Zm,this.conn=null,this.sendBuffer=[],this.serializer=new PQ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Fu(async()=>{const{default:a}=await Promise.resolve().then(()=>ul);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${fv.websocket}`,this.httpEndpoint=CD(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bQ.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:EQ}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hc.connecting:return yi.Connecting;case hc.open:return yi.Open;case hc.closing:return yi.Closing;default:return yi.Closed}}isConnected(){return this.connectionState()===yi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new x_(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(CQ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Cd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ln.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([MQ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:SQ};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ln.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new SD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:hv,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Cd.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Zm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>DQ[d-1]||LQ,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class S_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $Q extends S_{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mv extends S_{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var FQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const TD=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fu(async()=>{const{default:r}=await Promise.resolve().then(()=>ul);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},UQ=()=>FQ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fu(()=>Promise.resolve().then(()=>ul),void 0)).Response:Response}),gv=t=>{if(Array.isArray(t))return t.map(n=>gv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=gv(r)}),e},VQ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var po=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const eg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),BQ=(t,e,n)=>po(void 0,void 0,void 0,function*(){const r=yield UQ();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new $Q(eg(s),i,o))}).catch(s=>{e(new mv(eg(s),s))}):e(new mv(eg(t),t))}),WQ=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(VQ(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Vu(t,e,n,r,s,i){return po(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,WQ(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>BQ(l,a,r))})})}function hf(t,e,n,r){return po(this,void 0,void 0,function*(){return Vu(t,"GET",e,n,r)})}function Jn(t,e,n,r,s){return po(this,void 0,void 0,function*(){return Vu(t,"POST",e,r,s,n)})}function yv(t,e,n,r,s){return po(this,void 0,void 0,function*(){return Vu(t,"PUT",e,r,s,n)})}function zQ(t,e,n,r){return po(this,void 0,void 0,function*(){return Vu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function PD(t,e,n,r,s){return po(this,void 0,void 0,function*(){return Vu(t,"DELETE",e,r,s,n)})}var HQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class KQ{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return HQ(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}}var GQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},kD;class qQ{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[kD]="BlobDownloadBuilder",this.promise=null}asStream(){return new KQ(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return GQ(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}}kD=Symbol.toStringTag;var jt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const YQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QQ{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=TD(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return jt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},jC),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?yv:Jn)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}upload(e,n,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return jt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:jC.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield yv(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Jn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new S_("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}update(e,n,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return jt(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}copy(e,n,r){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return jt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Jn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return jt(this,void 0,void 0,function*(){try{const s=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>hf(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new qQ(l,this.shouldThrowOnError)}info(e){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield hf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}exists(e){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield zQ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r)&&r instanceof mv){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return jt(this,void 0,void 0,function*(){try{return{data:yield PD(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}list(e,n,r){return jt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},YQ),n),{prefix:e||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}listV2(e,n){return jt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Jn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const JQ="2.75.1",XQ={"X-Client-Info":`storage-js/${JQ}`};var Co=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class ZQ{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XQ),n),this.fetch=TD(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Co(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}getBucket(e){return Co(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}createBucket(e){return Co(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ye(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Co(this,void 0,void 0,function*(){try{return{data:yield yv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Co(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Co(this,void 0,void 0,function*(){try{return{data:yield PD(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}}class eJ extends ZQ{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new QQ(this.url,this.headers,e,this.fetch)}}const tJ="2.75.1";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const nJ={"X-Client-Info":`supabase-js-${Vl}/${tJ}`},rJ={headers:nJ},sJ={schema:"public"},iJ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oJ={};var aJ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const lJ=t=>{let e;return t?e=t:typeof fetch>"u"?e=hD:e=fetch,(...n)=>e(...n)},cJ=()=>typeof Headers>"u"?fD:Headers,uJ=(t,e,n)=>{const r=lJ(n),s=cJ();return(i,o)=>aJ(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var dJ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function hJ(t){return t.endsWith("/")?t:t+"/"}function fJ(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>dJ(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function pJ(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hJ(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ID="2.75.1",Ao=30*1e3,vv=3,tg=vv*Ao,mJ="http://localhost:9999",gJ="supabase.auth.token",yJ={"X-Client-Info":`gotrue-js/${ID}`},wv="X-Supabase-Api-Version",RD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wJ=10*60*1e3;class uu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _J extends uu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function bJ(t){return q(t)&&t.name==="AuthApiError"}class vi extends uu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ri extends uu{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class is extends ri{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xJ(t){return q(t)&&t.name==="AuthSessionMissingError"}class To extends ri{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Td extends ri{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pd extends ri{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SJ(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}class $C extends ri{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _v extends ri{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ng(t){return q(t)&&t.name==="AuthRetryableFetchError"}class FC extends ri{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bv extends ri{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ff="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UC=` 	
\r=`.split(""),EJ=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<UC.length;e+=1)t[UC[e].charCodeAt(0)]=-2;for(let e=0;e<ff.length;e+=1)t[ff[e].charCodeAt(0)]=e;return t})();function VC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ff[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ff[r]),e.queuedBits-=6}}function AD(t,e,n){const r=EJ[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function BC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{PJ(o,r,n)};for(let o=0;o<t.length;o+=1)AD(t.charCodeAt(o),s,i);return e.join("")}function CJ(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function TJ(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}CJ(r,e)}}function PJ(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function fa(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)AD(t.charCodeAt(s),n,r);return new Uint8Array(e)}function kJ(t){const e=[];return TJ(t,n=>e.push(n)),new Uint8Array(e)}function Ti(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>VC(s,n,r)),VC(null,n,r),e.join("")}function IJ(t){return Math.round(Date.now()/1e3)+t}function RJ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qt=()=>typeof window<"u"&&typeof document<"u",ci={tested:!1,writable:!1},ND=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ci.tested)return ci.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ci.tested=!0,ci.writable=!0}catch{ci.tested=!0,ci.writable=!1}return ci.writable};function AJ(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const OD=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fu(async()=>{const{default:r}=await Promise.resolve().then(()=>ul);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},NJ=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",No=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ui=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ts=async(t,e)=>{await t.removeItem(e)};class Cp{constructor(){this.promise=new Cp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cp.promiseConstructor=Promise;function rg(t){const e=t.split(".");if(e.length!==3)throw new bv("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!vJ.test(e[r]))throw new bv("JWT not in base64url format");return{header:JSON.parse(BC(e[0])),payload:JSON.parse(BC(e[1])),signature:fa(e[2]),raw:{header:e[0],payload:e[1]}}}async function OJ(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function DJ(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function LJ(t){return("0"+t.toString(16)).substr(-2)}function MJ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,LJ).join("")}async function jJ(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function $J(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await jJ(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Po(t,e,n=!1){const r=MJ();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await No(t,`${e}-code-verifier`,s);const i=await $J(r);return[i,r===i?"plain":"s256"]}const FJ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UJ(t){const e=t.headers.get(wv);if(!e||!e.match(FJ))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function VJ(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function BJ(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WJ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ko(t){if(!WJ.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WC(t){return JSON.parse(JSON.stringify(t))}var zJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const gi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HJ=[502,503,504];async function zC(t){var e;if(!NJ(t))throw new _v(gi(t),0);if(HJ.includes(t.status))throw new _v(gi(t),t.status);let n;try{n=await t.json()}catch(i){throw new vi(gi(i),i)}let r;const s=UJ(t);if(s&&s.getTime()>=RD["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new FC(gi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new is}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new FC(gi(n),t.status,n.weak_password.reasons);throw new _J(gi(n),t.status||500,r)}const KJ=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ne(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[wv]||(i[wv]=RD["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await GJ(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function GJ(t,e,n,r,s,i){const o=KJ(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new _v(gi(l),0)}if(a.ok||await zC(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await zC(l)}}function Pn(t){var e;let n=null;QJ(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=IJ(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function HC(t){const e=Pn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ps(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function qJ(t){return{data:t,error:null}}function YJ(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=zJ(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function KC(t){return t}function QJ(t){return t.access_token&&t.refresh_token&&t.expires_in}const ig=["global","local","others"];var JJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class XJ{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=OD(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ig[0]){if(ig.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ig.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ps})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=JJ(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:YJ,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ps})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:KC});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);c[`${_}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ko(e);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ps})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ko(e);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ps})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ko(e);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ps})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ko(e.userId);try{const{data:n,error:r}=await ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ko(e.userId),ko(e.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:KC});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);c[`${_}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(q(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}}function GC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Io={debug:!!(globalThis&&ND()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class DD extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ZJ extends DD{}async function eX(t,e,n){Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Io.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ZJ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Io.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function tX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function LD(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nX(t){return parseInt(t,16)}function rX(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function sX(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=LD(t.address),g=u?`${u}://${r}`:r,m=t.statement?`${t.statement}
`:"",_=`${g} wants you to sign in with your Ethereum account:
${f}

${m}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);v+=`
- ${b}`}w+=v}return`${_}
${w}`}class qe extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class pf extends qe{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function iX({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(jD(o)){if(i.rp.id!==o)return new qe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function oX({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(jD(r)){if(n.rpId!==r)return new qe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var MD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class aX{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const lX=new aX;function cX(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=MD(t,["challenge","user","excludeCredentials"]),i=fa(e).buffer,o=Object.assign(Object.assign({},n),{id:fa(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:fa(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function uX(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=MD(t,["challenge","allowCredentials"]),s=fa(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:fa(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function dX(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ti(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ti(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hX(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ti(new Uint8Array(s.authenticatorData)),clientDataJSON:Ti(new Uint8Array(s.clientDataJSON)),signature:Ti(new Uint8Array(s.signature)),userHandle:s.userHandle?Ti(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jD(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function qC(){var t,e;return!!(Qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function fX(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pf("Browser returned unexpected credential type",e)}:{data:null,error:new pf("Empty credential response",e)}}catch(e){return{data:null,error:iX({error:e,options:t})}}}async function pX(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pf("Browser returned unexpected credential type",e)}:{data:null,error:new pf("Empty credential response",e)}}catch(e){return{data:null,error:oX({error:e,options:t})}}}const mX={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},gX={userVerification:"preferred",hints:["security-key"]};function mf(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=mf(a,o):r[i]=mf(o)}else r[i]=o}return r}function yX(t,e){return mf(mX,t,e||{})}function vX(t,e){return mf(gX,t,e||{})}class wX{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??lX.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=yX(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:d}=await fX({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=vX(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:d}=await pX(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new vi("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new uu("rpId is required for WebAuthn authentication")};try{if(!qC())return{data:null,error:new vi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new vi("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new uu("rpId is required for WebAuthn registration")};try{if(!qC())return{data:null,error:new vi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return q(o)?{data:null,error:o}:{data:null,error:new vi("Unexpected error in register",o)}}}}tX();const _X={url:mJ,storageKey:gJ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yJ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function YC(t,e,n){return await n()}const Ro={};class du{get jwks(){var e,n;return(n=(e=Ro[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ro[this.storageKey]=Object.assign(Object.assign({},Ro[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ro[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ro[this.storageKey]=Object.assign(Object.assign({},Ro[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=du.nextInstanceID,du.nextInstanceID+=1,this.instanceID>0&&Qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},_X),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new XJ({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=OD(s.fetch),this.lock=s.lock||YC,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=eX:this.lock=YC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wX(this)},this.persistSession?(s.storage?this.storage=s.storage:ND()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=GC(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=GC(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ID}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=AJ(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Qt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),SJ(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return q(n)?{error:n}:{error:new vi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Pn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Po(this.storage,this.storageKey)),i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:Pn})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pn})}else throw new Td("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:HC})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:HC})}else throw new Td("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new To}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,c,u,d,h;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:m,wallet:_,statement:w,options:v}=e;let b;if(Qt())if(typeof _=="object")b=_;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=_}const x=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=LD(S[0]);let C=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const P=await b.request({method:"eth_chainId"});C=nX(P)}const T={domain:x.host,address:E,statement:w,uri:x.href,version:"1",chainId:C,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=sX(T),g=await b.request({method:"personal_sign",params:[rX(f),E]})}try{const{data:m,error:_}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Pn});if(_)throw _;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new To}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:_})}catch(m){if(q(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(e){var n,r,s,i,o,a,l,c,u,d,h,f;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:_,wallet:w,statement:v,options:b}=e;let x;if(Qt())if(typeof w=="object")x=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(g),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:_,error:w}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ti(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Pn});if(w)throw w;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new To}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:w})}catch(_){if(q(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await ui(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Pn});if(await ts(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new To}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new To}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Po(this.storage,this.storageKey));const{error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Td("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Pn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Po(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qJ})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new is;const{error:s}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Td("You must provide either an email or phone number and a type")}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<tg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ui(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=sg()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ps}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new is}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ps})})}catch(n){if(q(n))return xJ(n)&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new is;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Po(this.storage,this.storageKey));const{data:c,error:u}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ps});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new is;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=rg(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new is;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Qt())throw new Pd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $C("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $C("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Pd("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:m,error:_}=await this._getUser(i);if(_)throw _;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ui(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(bJ(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=RJ(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Po(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Qt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Pn}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new To}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await DJ(async s=>(s>0&&await OJ(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ng(i)&&Date.now()+o-r<Ao})}catch(r){if(this._debug(n,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Qt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ui(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await No(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:sg()}else if(s&&!s.user&&!s.user){const o=await ui(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ts(this.storage,this.storageKey+"-user"),await No(this.storage,this.storageKey,s)):s.user=sg()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<tg;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${tg}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ng(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new is;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Cp;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new is;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),q(i)){const o={data:null,error:i};return ng(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await No(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=WC(s);await No(this.storage,this.storageKey,i)}else{const s=WC(n);await No(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ts(this.storage,this.storageKey),await ts(this.storage,this.storageKey+"-code-verifier"),await ts(this.storage,this.storageKey+"-user"),this.userStorage&&await ts(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ao);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ao}ms, refresh threshold is ${vv} ticks`),s<=vv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof DD)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Po(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(q(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?dX(e.webauthn.credential_response):hX(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:cX(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:uX(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=rg(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+wJ>s)return r;const{data:i,error:o}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=rg(r);n!=null&&n.allowExpired||VJ(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const u=BJ(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,kJ(`${a}.${l}`)))throw new bv("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}du.nextInstanceID=0;const bX=du;class xX extends bX{constructor(e){super(e)}}var SX=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class EX{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=pJ(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:sJ,realtime:oJ,auth:Object.assign(Object.assign({},iJ),{storageKey:l}),global:rJ},u=fJ(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=uJ(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new _Q(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new eJ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new XY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return SX(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xX({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new jQ(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const CX=(t,e,n)=>new EX(t,e,n);function TX(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}TX()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const PX="https://xibiayicnyvvfbmdcuai.supabase.co",kX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhpYmlheWljbnl2dmZibWRjdWFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA3NzU3NDEsImV4cCI6MjA3NjM1MTc0MX0.gMt64zlbZQ__E8wLa5ZwcSKUuqwfGaQm3YTR3aAcGo8",so=CX(PX,kX,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});var E_="Progress",C_=100,[IX,xae]=zr(E_),[RX,AX]=IX(E_),$D=y.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=NX,...o}=t;(s||s===0)&&!QC(s)&&console.error(OX(`${s}`,"Progress"));const a=QC(s)?s:C_;r!==null&&!JC(r,a)&&console.error(DX(`${r}`,"Progress"));const l=JC(r,a)?r:null,c=gf(l)?i(l,a):void 0;return p.jsx(RX,{scope:n,value:l,max:a,children:p.jsx(ie.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":gf(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":VD(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});$D.displayName=E_;var FD="ProgressIndicator",UD=y.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=AX(FD,n);return p.jsx(ie.div,{"data-state":VD(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});UD.displayName=FD;function NX(t,e){return`${Math.round(t/e*100)}%`}function VD(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function gf(t){return typeof t=="number"}function QC(t){return gf(t)&&!isNaN(t)&&t>0}function JC(t,e){return gf(t)&&!isNaN(t)&&t<=e&&t>=0}function OX(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${C_}\`.`}function DX(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${C_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var BD=$D,LX=UD;const WD=y.forwardRef(({className:t,value:e,...n},r)=>p.jsx(BD,{ref:r,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:p.jsx(LX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));WD.displayName=BD.displayName;const og=[{value:"rice",duration:120},{value:"wheat",duration:120},{value:"corn",duration:90},{value:"tomato",duration:80},{value:"potato",duration:90},{value:"cotton",duration:150},{value:"sugarcane",duration:365},{value:"beans",duration:60}],MX=({sensorData:t,predictedCrop:e})=>{const{t:n,i18n:r}=gr(),[s,i]=y.useState({active:!1,startDate:null,farmerCrop:null,cropDuration:null,dailyInstructions:{}}),[o,a]=y.useState(""),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,f]=y.useState(!0),g=new Date().toISOString().split("T")[0],m=s.dailyInstructions[g],_=s.startDate?Math.floor((new Date().getTime()-new Date(s.startDate).getTime())/(1e3*60*60*24)):0,w=s.cropDuration?Math.min(_/s.cropDuration*100,100):0;y.useEffect(()=>{const S=en(Wt,"guide"),E=ef(S,C=>{const T=C.val();T&&(i({active:T.active||!1,startDate:T.startDate||null,farmerCrop:T.farmerCrop||null,cropDuration:T.cropDuration||null,dailyInstructions:T.dailyInstructions||{}}),T.farmerCrop&&a(T.farmerCrop))});return()=>E()},[]),y.useEffect(()=>{s.active&&!m&&!u&&(console.log("Auto-generating daily instructions..."),b())},[s.active,m]),y.useEffect(()=>{if(e&&!o&&!s.farmerCrop){const S=og.find(E=>E.value.toLowerCase()===e.toLowerCase()||n(`crops.${E.value}`).toLowerCase()===e.toLowerCase());S&&a(S.value)}},[e,o,s.farmerCrop,n]),y.useEffect(()=>{s.active&&!m&&!u&&(console.log("No instructions for today, auto-generating..."),b())},[s.active,m,u]);const v=async()=>{if(!o){Xn.error(n("selectCropFirst")||"Please select a crop first");return}c(!0);try{const S=og.find(C=>C.value===o),E=new Date().toISOString().split("T")[0];await Mi(en(Wt,"guide"),{active:!0,startDate:E,farmerCrop:o,cropDuration:(S==null?void 0:S.duration)||90,dailyInstructions:{}}),Xn.success(n("guideStarted")||"Smart Farm Guide started successfully!"),await b()}catch(S){console.error("Error starting guide:",S),Xn.error(n("guideFailed")||"Failed to start guide")}finally{c(!1)}},b=async()=>{d(!0);try{const{data:S,error:E}=await so.functions.invoke("daily-guide",{body:{crop:s.farmerCrop||o,sensorData:t,daysSincePlanting:_,cropDuration:s.cropDuration,language:r.language}});if(E)throw E;const C=en(Wt,`guide/dailyInstructions/${g}`);await Mi(C,{instructions:S.instructions,generatedAt:S.generatedAt}),Xn.success(n("instructionsGenerated")||"Daily instructions generated!")}catch(S){console.error("Error generating instructions:",S),Xn.error(n("instructionsFailed")||"Failed to generate instructions")}finally{d(!1)}},x=async()=>{try{await Mi(en(Wt,"guide/active"),!1),Xn.success(n("guideStopped")||"Guide stopped")}catch(S){console.error("Error stopping guide:",S),Xn.error(n("guideStopFailed")||"Failed to stop guide")}};return p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:p.jsxs(Dt,{className:"bg-gradient-to-br from-card to-card/50 border-primary/20",children:[p.jsxs(Fa,{children:[p.jsxs(ju,{className:"flex items-center gap-2",children:[p.jsx(Xl,{className:"w-5 h-5 text-primary"}),n("smartFarmGuide")||"Smart Farm Guide"]}),p.jsx($u,{children:n("aiPoweredGuidance")||"AI-powered daily farming guidance"})]}),p.jsx(Ua,{className:"space-y-6",children:s.active?p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:n("currentCrop")||"Current Crop"}),p.jsx("p",{className:"text-lg font-semibold capitalize",children:s.farmerCrop})]}),p.jsx(Xe,{variant:"outline",size:"sm",onClick:x,children:n("stopGuide")||"Stop Guide"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(ZP,{className:"w-4 h-4"}),n("growthProgress")||"Growth Progress"]}),p.jsxs("span",{className:"font-medium",children:[_," / ",s.cropDuration," ",n("days")||"days"]})]}),p.jsx(WD,{value:w,className:"h-2"}),p.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[w.toFixed(1),"% ",n("complete")||"complete"]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[p.jsx(t$,{className:"w-4 h-4"}),n("todayInstructions")||"Today's Instructions"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Xe,{variant:"outline",size:"sm",onClick:b,disabled:u,children:u?n("generating")||"Generating...":n("refresh")||"Refresh"}),m&&p.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>f(!h),children:h?p.jsx(_u,{className:"w-4 h-4"}):p.jsx(Ka,{className:"w-4 h-4"})})]})]}),m?p.jsx(K.div,{initial:!1,animate:{height:h?"auto":0,opacity:h?1:0},transition:{duration:.3},style:{overflow:"hidden"},children:p.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[p.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:p.jsx("div",{className:"whitespace-pre-wrap text-sm",children:m.instructions})}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[n("generated")||"Generated",": ",new Date(m.generatedAt).toLocaleString()]})]})}):p.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-center",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:n("noInstructions")||"No instructions for today yet"}),p.jsx(Xe,{variant:"link",size:"sm",onClick:b,disabled:u,className:"mt-2",children:n("generateNow")||"Generate Now"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[(t==null?void 0:t.soilMoisture)<30&&p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-destructive/10 rounded-lg border border-destructive/20",children:[p.jsx(Lr,{className:"w-4 h-4 text-destructive"}),p.jsx("span",{className:"text-xs",children:n("lowMoisture")||"Low Moisture"})]}),(t==null?void 0:t.temperature)>35&&p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-destructive/10 rounded-lg border border-destructive/20",children:[p.jsx(Dc,{className:"w-4 h-4 text-destructive"}),p.jsx("span",{className:"text-xs",children:n("highTemp")||"High Temp"})]}),(t==null?void 0:t.rainDetected)&&p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[p.jsx(S$,{className:"w-4 h-4 text-primary"}),p.jsx("span",{className:"text-xs",children:n("rainDetected")||"Rain Detected"})]})]})]}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:n("selectCrop")||"Select Crop"}),p.jsxs(Ui,{value:o,onValueChange:a,children:[p.jsx(js,{children:p.jsx(Vi,{placeholder:n("chooseCrop")||"Choose a crop"})}),p.jsx($s,{children:og.map(S=>p.jsxs(Fs,{value:S.value,children:[n(`crops.${S.value}`)," (",S.duration," ",n("days")||"days",")"]},S.value))})]}),e&&p.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[p.jsx(Xl,{className:"w-3 h-3"}),n("aiPredicted")||"AI Predicted",": ",e]})]}),p.jsxs(Xe,{onClick:v,disabled:l||!o,className:"w-full",children:[p.jsx(y$,{className:"w-4 h-4 mr-2"}),l?n("starting")||"Starting...":n("startGuide")||"Start Guide"]})]})})]})})};function kd({className:t,...e}){return p.jsx("div",{className:we("animate-pulse rounded-md bg-muted",t),...e})}const XC=t=>t.includes("01")?p.jsx(Dc,{className:"w-12 h-12 text-yellow-500"}):t.includes("02")||t.includes("03")||t.includes("04")?p.jsx(i$,{className:"w-12 h-12 text-gray-400"}):t.includes("09")||t.includes("10")||t.includes("11")?p.jsx(s$,{className:"w-12 h-12 text-blue-500"}):p.jsx(Dc,{className:"w-12 h-12 text-yellow-500"}),jX=()=>{const{t}=gr(),[e,n]=y.useState(null),[r,s]=y.useState(!0),[i,o]=y.useState(!1),[a,l]=y.useState(""),c=async(f,g)=>{try{const{data:m,error:_}=await so.functions.invoke("weather",{body:{lat:f,lon:g}});if(_)throw _;n(m)}catch(m){console.error("Weather fetch error:",m),Xn.error("Failed to fetch weather data")}finally{s(!1)}},u=async f=>{o(!0);try{const{data:g,error:m}=await so.functions.invoke("weather",{body:{city:f}});if(m)throw m;n(g),Xn.success(`Weather loaded for ${g.current.city}`)}catch(g){console.error("Weather fetch error:",g),Xn.error("Failed to fetch weather for this city")}finally{o(!1)}};y.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(f=>{c(f.coords.latitude,f.coords.longitude)},f=>{console.error("Geolocation error:",f),u("London")}):u("London")},[]);const d=f=>{f.preventDefault(),a.trim()&&u(a.trim())},h=f=>new Date(f).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return r?p.jsxs(Dt,{className:"w-full",children:[p.jsxs(Fa,{children:[p.jsx(kd,{className:"h-8 w-48"}),p.jsx(kd,{className:"h-4 w-64 mt-2"})]}),p.jsx(Ua,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsx(kd,{className:"h-32 w-full"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[...Array(5)].map((f,g)=>p.jsx(kd,{className:"h-32"},g))})]})})]}):e?p.jsxs(Dt,{className:"w-full overflow-hidden border-2 border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300",children:[p.jsx(Fa,{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent",children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsxs(ju,{className:"flex items-center gap-2 text-2xl",children:[p.jsx(Dc,{className:"w-6 h-6 text-primary"}),t("weatherForecast")]}),p.jsxs($u,{className:"flex items-center gap-1 mt-2",children:[p.jsx(m$,{className:"w-4 h-4"}),e.current.city,", ",e.current.country]})]}),p.jsxs("form",{onSubmit:d,className:"flex gap-2 w-full md:w-auto",children:[p.jsx(no,{type:"text",placeholder:t("searchCity"),value:a,onChange:f=>l(f.target.value),className:"w-full md:w-64"}),p.jsx(Xe,{type:"submit",disabled:i,size:"icon",children:i?p.jsx(d$,{className:"w-4 h-4 animate-spin"}):p.jsx(v$,{className:"w-4 h-4"})})]})]})}),p.jsxs(Ua,{className:"p-6",children:[p.jsx("div",{className:"mb-8 p-6 rounded-lg bg-gradient-to-br from-primary/5 to-primary/10 border border-border",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[XC(e.current.icon),p.jsxs("div",{children:[p.jsxs("div",{className:"text-5xl font-bold text-foreground",children:[e.current.temp,"C"]}),p.jsx("div",{className:"text-muted-foreground capitalize",children:e.current.description}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[t("feelsLike"),": ",e.current.feels_like,"C"]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 text-center md:text-left",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Lr,{className:"w-5 h-5 text-blue-500"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-muted-foreground",children:t("humidity")}),p.jsxs("div",{className:"text-lg font-semibold",children:[e.current.humidity,"%"]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(tx,{className:"w-5 h-5 text-gray-500"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm text-muted-foreground",children:t("windSpeed")}),p.jsxs("div",{className:"text-lg font-semibold",children:[e.current.wind_speed," km/h"]})]})]})]})]})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-semibold mb-4 text-foreground",children:t("fiveDayForecast")}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:e.forecast.map((f,g)=>p.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border hover:border-primary transition-all duration-200 hover:shadow-md",children:[p.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:h(f.date)}),p.jsx("div",{className:"flex justify-center mb-2",children:XC(f.icon)}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[f.temp,"C"]}),p.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.temp_min," / ",f.temp_max,""]}),p.jsx("div",{className:"text-xs text-muted-foreground mt-2 capitalize",children:f.description}),p.jsxs("div",{className:"flex justify-center gap-3 mt-3 text-xs",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(Lr,{className:"w-3 h-3"}),f.humidity,"%"]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(tx,{className:"w-3 h-3"}),f.wind_speed]})]})]})]},g))})]})]})]}):null},$X=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(!0);y.useEffect(()=>{const l=en(Wt,"SMART_FARM/webUrl"),c=ef(l,u=>{const d=u.val();d&&e(d)});return()=>c()},[]);const o=()=>{if(t.trim()){let l=t.trim();!l.startsWith("http://")&&!l.startsWith("https://")&&(l="https://"+l),r(""),setTimeout(()=>r(l),0)}},a=()=>{r("")};return p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:p.jsxs(Dt,{className:"overflow-hidden border-2 border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300 bg-card",children:[p.jsx("div",{className:"p-4 border-b border-border bg-muted/30",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ex,{className:"w-5 h-5 text-primary"}),p.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Web Viewer"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Xe,{onClick:o,disabled:!t.trim(),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Go"}),n&&p.jsx(Xe,{onClick:a,variant:"outline",className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:p.jsx(Tw,{className:"w-4 h-4"})}),p.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>i(!s),className:"hover:bg-muted",children:s?p.jsx(_u,{className:"w-4 h-4"}):p.jsx(Ka,{className:"w-4 h-4"})})]})]})}),p.jsx(xN,{children:s&&n&&p.jsx(K.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:p.jsx("div",{className:"relative w-full",style:{paddingBottom:"26.25%"},children:p.jsx("iframe",{src:n,className:"absolute top-0 left-0 w-full h-full border-none",title:"Embedded Webpage",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups",loading:"lazy"})})})}),s&&!n&&p.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},className:"p-12 text-center",children:[p.jsx(ex,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),p.jsx("p",{className:"text-muted-foreground",children:"Enter a URL above to view a webpage"})]})]})})};function FX(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var T_="ScrollArea",[zD,Sae]=zr(T_),[UX,bn]=zD(T_),HD=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=y.useState(null),[c,u]=y.useState(null),[d,h]=y.useState(null),[f,g]=y.useState(null),[m,_]=y.useState(null),[w,v]=y.useState(0),[b,x]=y.useState(0),[S,E]=y.useState(!1),[C,T]=y.useState(!1),P=de(e,O=>l(O)),I=g_(s);return p.jsx(UX,{scope:n,type:r,dir:I,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:_,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:v,onCornerHeightChange:x,children:p.jsx(ie.div,{dir:I,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});HD.displayName=T_;var KD="ScrollAreaViewport",GD=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=bn(KD,n),a=y.useRef(null),l=de(e,a,o.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),p.jsx(ie.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});GD.displayName=KD;var yr="ScrollAreaScrollbar",P_=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bn(yr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return y.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?p.jsx(VX,{...r,ref:e,forceMount:n}):s.type==="scroll"?p.jsx(BX,{...r,ref:e,forceMount:n}):s.type==="auto"?p.jsx(qD,{...r,ref:e,forceMount:n}):s.type==="always"?p.jsx(k_,{...r,ref:e}):null});P_.displayName=yr;var VX=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bn(yr,t.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),p.jsx(co,{present:n||i,children:p.jsx(qD,{"data-state":i?"visible":"hidden",...r,ref:e})})}),BX=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bn(yr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Pp(()=>l("SCROLL_END"),100),[a,l]=FX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),y.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const f=c[u];d!==f&&(l("SCROLL"),o()),d=f};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[s.viewport,i,l,o]),p.jsx(co,{present:n||a!=="hidden",children:p.jsx(k_,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Y(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Y(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),qD=y.forwardRef((t,e)=>{const n=bn(yr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=y.useState(!1),a=t.orientation==="horizontal",l=Pp(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return Ba(n.viewport,l),Ba(n.content,l),p.jsx(co,{present:r||i,children:p.jsx(k_,{"data-state":i?"visible":"hidden",...s,ref:e})})}),k_=y.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=bn(yr,t.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[a,l]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=ZD(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,f){return qX(h,o.current,a,f)}return n==="horizontal"?p.jsx(WX,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,f=ZC(h,a,s.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,s.dir))}}):n==="vertical"?p.jsx(zX,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,f=ZC(h,a);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),WX=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=bn(yr,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),c=de(e,l,i.onScrollbarXChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(QD,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),tL(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:vf(o.paddingLeft),paddingEnd:vf(o.paddingRight)}})}})}),zX=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=bn(yr,t.__scopeScrollArea),[o,a]=y.useState(),l=y.useRef(null),c=de(e,l,i.onScrollbarYChange);return y.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(QD,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tp(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),tL(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:vf(o.paddingTop),paddingEnd:vf(o.paddingBottom)}})}})}),[HX,YD]=zD(yr),QD=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=t,f=bn(yr,n),[g,m]=y.useState(null),_=de(e,P=>m(P)),w=y.useRef(null),v=y.useRef(""),b=f.viewport,x=r.content-r.viewport,S=ct(u),E=ct(l),C=Pp(d,10);function T(P){if(w.current){const I=P.clientX-w.current.left,O=P.clientY-w.current.top;c({x:I,y:O})}}return y.useEffect(()=>{const P=I=>{const O=I.target;(g==null?void 0:g.contains(O))&&S(I,x)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,g,x,S]),y.useEffect(E,[r,E]),Ba(g,C),Ba(f.content,C),p.jsx(HX,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:ct(i),onThumbPointerUp:ct(o),onThumbPositionChange:E,onThumbPointerDown:ct(a),children:p.jsx(ie.div,{...h,ref:_,style:{position:"absolute",...h.style},onPointerDown:Y(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),w.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),T(P))}),onPointerMove:Y(t.onPointerMove,T),onPointerUp:Y(t.onPointerUp,P=>{const I=P.target;I.hasPointerCapture(P.pointerId)&&I.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=v.current,f.viewport&&(f.viewport.style.scrollBehavior=""),w.current=null})})})}),yf="ScrollAreaThumb",JD=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=YD(yf,t.__scopeScrollArea);return p.jsx(co,{present:n||s.hasThumb,children:p.jsx(KX,{ref:e,...r})})}),KX=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=bn(yf,n),o=YD(yf,n),{onThumbPositionChange:a}=o,l=de(e,d=>o.onThumbChange(d)),c=y.useRef(void 0),u=Pp(()=>{c.current&&(c.current(),c.current=void 0)},100);return y.useEffect(()=>{const d=i.viewport;if(d){const h=()=>{if(u(),!c.current){const f=YX(d,a);c.current=f,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[i.viewport,u,a]),p.jsx(ie.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Y(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),g=d.clientX-f.left,m=d.clientY-f.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:Y(t.onPointerUp,o.onThumbPointerUp)})});JD.displayName=yf;var I_="ScrollAreaCorner",XD=y.forwardRef((t,e)=>{const n=bn(I_,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(GX,{...t,ref:e}):null});XD.displayName=I_;var GX=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=bn(I_,n),[i,o]=y.useState(0),[a,l]=y.useState(0),c=!!(i&&a);return Ba(s.scrollbarX,()=>{var d;const u=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),Ba(s.scrollbarY,()=>{var d;const u=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?p.jsx(ie.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function vf(t){return t?parseInt(t,10):0}function ZD(t,e){const n=t/e;return isNaN(n)?0:n}function Tp(t){const e=ZD(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function qX(t,e,n,r="ltr"){const s=Tp(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return eL([l,c],d)(t)}function ZC(t,e,n="ltr"){const r=Tp(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=cu(t,l);return eL([0,o],[0,a])(c)}function eL(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function tL(t,e){return t>0&&t<e}var YX=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Pp(t,e){const n=ct(t),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ba(t,e){const n=ct(e);dt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var nL=HD,QX=GD,JX=XD;const rL=y.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(nL,{ref:r,className:we("relative overflow-hidden",t),...n,children:[p.jsx(QX,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(sL,{}),p.jsx(JX,{})]}));rL.displayName=nL.displayName;const sL=y.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(P_,{ref:r,orientation:e,className:we("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(JD,{className:"relative flex-1 rounded-full bg-border"})}));sL.displayName=P_.displayName;const XX=({sensorData:t,predictedCrop:e})=>{const[n,r]=y.useState(!1),[s,i]=y.useState([{role:"assistant",content:"Hello! I'm your smart farming assistant. How can I help you today?"}]),[o,a]=y.useState(""),[l,c]=y.useState(!1),{toast:u}=lo(),{i18n:d}=gr(),h=async()=>{if(!o.trim())return;const f={role:"user",content:o};i(g=>[...g,f]),a(""),c(!0);try{const{data:g,error:m}=await so.functions.invoke("gemini-chat",{body:{messages:[f],sensorData:t,predictedCrop:e,language:d.language}});if(m)throw m;const _={role:"assistant",content:g.response};i(w=>[...w,_])}catch(g){console.error("Chat error:",g),u({title:"Error",description:"Failed to get response. Please try again.",variant:"destructive"})}finally{c(!1)}};return p.jsxs(p.Fragment,{children:[p.jsx(K.div,{className:"fixed bottom-6 right-6 z-50",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},children:p.jsx(Xe,{onClick:()=>r(!n),className:"h-14 w-14 rounded-full shadow-[var(--shadow-glow)] bg-primary hover:bg-primary/90",size:"icon",children:n?p.jsx(Tw,{className:"w-6 h-6"}):p.jsx(g$,{className:"w-6 h-6"})})}),p.jsx(xN,{children:n&&p.jsx(K.div,{className:"fixed bottom-24 right-6 z-50 w-96",initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},children:p.jsxs(Dt,{className:"flex flex-col h-[500px] bg-card border-border shadow-[var(--shadow-glow)]",children:[p.jsx("div",{className:"p-4 border-b border-border bg-primary text-primary-foreground rounded-t-lg",children:p.jsx("h3",{className:"font-semibold",children:"Smart Farm AI Assistant"})}),p.jsx(rL,{className:"flex-1 p-4",children:p.jsxs("div",{className:"space-y-4",children:[s.map((f,g)=>p.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:p.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${f.role==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:f.content})},g)),l&&p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"bg-muted p-3 rounded-lg",children:p.jsxs("div",{className:"flex gap-1",children:[p.jsx(K.div,{className:"w-2 h-2 bg-foreground/50 rounded-full",animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:0}}),p.jsx(K.div,{className:"w-2 h-2 bg-foreground/50 rounded-full",animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.2}}),p.jsx(K.div,{className:"w-2 h-2 bg-foreground/50 rounded-full",animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.4}})]})})})]})}),p.jsx("div",{className:"p-4 border-t border-border",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx(no,{value:o,onChange:f=>a(f.target.value),onKeyPress:f=>f.key==="Enter"&&h(),placeholder:"Ask about your farm...",disabled:l,className:"bg-background"}),p.jsx(Xe,{onClick:h,disabled:l,size:"icon",children:p.jsx(w$,{className:"w-4 h-4"})})]})})]})})})]})},ZX=({sensorData:t,onPrediction:e})=>{const[n,r]=y.useState(!1),[s,i]=y.useState(null),{toast:o}=lo(),{t:a,i18n:l}=gr(),c=async()=>{r(!0);try{const{data:u,error:d}=await so.functions.invoke("crop-prediction",{body:{sensorData:t,language:l.language}});if(d)throw d;i(u),e(u.cropName),o({title:a("predictionComplete"),description:`${a("recommendedCrop")}: ${u.cropName}`})}catch(u){console.error("Prediction error:",u),o({title:a("error"),description:a("predictionFailed"),variant:"destructive"})}finally{r(!1)}};return p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"md:col-span-2",children:p.jsx(Dt,{className:"p-6 bg-gradient-to-br from-primary/10 via-card to-accent/10 border-border shadow-[var(--shadow-glow)]",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[p.jsxs("div",{className:"flex-1 text-center md:text-left",children:[p.jsxs("h3",{className:"text-2xl font-bold text-foreground mb-2 flex items-center gap-2 justify-center md:justify-start",children:[p.jsx(Xl,{className:"w-6 h-6 text-primary"}),a("cropPrediction")]}),p.jsx("p",{className:"text-muted-foreground mb-4",children:a("cropPredictionDesc")}),s&&p.jsxs(K.div,{initial:{scale:0},animate:{scale:1},className:"mt-4 p-4 bg-card rounded-lg border border-primary/20",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(bu,{className:"w-8 h-8 text-primary"}),p.jsxs("div",{className:"text-left",children:[p.jsx("h4",{className:"text-xl font-bold text-primary",children:s.cropName}),p.jsx("p",{className:"text-sm text-muted-foreground",children:a("aiRecommended")})]})]}),p.jsx("p",{className:"text-sm text-foreground mb-2",children:s.reason}),p.jsx("p",{className:"text-xs text-muted-foreground",children:s.recommendations})]})]}),p.jsx(Xe,{onClick:c,disabled:n,size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-[var(--shadow-glow)] min-w-[200px]",children:n?p.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:p.jsx(Xl,{className:"w-5 h-5"})}):p.jsxs(p.Fragment,{children:[p.jsx(Xl,{className:"w-5 h-5 mr-2"}),a("predictCrop")]})})]})})})},eZ=()=>p.jsx("div",{className:"fixed inset-0 bg-background/95 backdrop-blur-sm flex items-center justify-center z-50",children:p.jsxs("div",{className:"flex flex-col items-center gap-6",children:[p.jsx(K.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:p.jsx(bu,{className:"w-16 h-16 text-primary"})}),p.jsx("div",{className:"flex gap-3",children:[0,1,2].map(t=>p.jsx(K.div,{animate:{y:[0,-20,0],opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,delay:t*.3,ease:"easeInOut"},children:p.jsx(Lr,{className:"w-6 h-6 text-primary"})},t))}),p.jsx(K.p,{className:"text-muted-foreground text-lg",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"Loading Smart Farm Dashboard..."}),p.jsx("div",{className:"w-64 h-2 bg-muted rounded-full overflow-hidden",children:p.jsx(K.div,{className:"h-full bg-gradient-to-r from-primary to-accent",animate:{x:[-256,256]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},style:{width:"50%"}})})]})}),tZ=["Wheat","Rice","Soybean","Cotton","Maize","Sugarcane","Potato","Onion","Tomato","Groundnut","Mustard","Pulses"],nZ=["Andhra Pradesh","Bihar","Gujarat","Haryana","Karnataka","Madhya Pradesh","Maharashtra","Punjab","Rajasthan","Tamil Nadu","Telangana","Uttar Pradesh","West Bengal"],rZ=["Kharif","Rabi","Zaid"],sZ=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(""),[l,c]=y.useState(!1),[u,d]=y.useState(!0),{toast:h}=lo(),{t:f,i18n:g}=gr();y.useEffect(()=>{(async()=>{try{const w=en(Wt,"insurancePreferences"),v=await SA(w);if(v.exists()){const b=v.val();e(b.cropType||""),r(b.location||""),i(b.season||"")}}catch(w){console.error("Error loading preferences:",w)}})()},[]);const m=async()=>{if(!t||!n||!s){h({title:f("insurance.error"),description:f("insurance.fillAllFields"),variant:"destructive"});return}c(!0);try{const _=en(Wt,"insurancePreferences");await Mi(_,{cropType:t,location:n,season:s,lastUpdated:new Date().toISOString()});const{data:w,error:v}=await so.functions.invoke("insurance-advice",{body:{cropType:t,location:n,season:s,language:g.language}});if(v)throw v;a(w.advice),h({title:f("insurance.success"),description:f("insurance.adviceGenerated")})}catch(_){console.error("Error getting insurance advice:",_),h({title:f("insurance.error"),description:f("insurance.failed"),variant:"destructive"})}finally{c(!1)}};return p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full",children:p.jsxs(Dt,{className:"w-full",children:[p.jsxs(Fa,{children:[p.jsxs(ju,{className:"flex items-center gap-2",children:[p.jsx(_$,{className:"h-5 w-5"}),f("insurance.title")]}),p.jsx($u,{children:f("insurance.description")})]}),p.jsxs(Ua,{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:f("insurance.cropType")}),p.jsxs(Ui,{value:t,onValueChange:e,children:[p.jsx(js,{children:p.jsx(Vi,{placeholder:f("insurance.selectCrop")})}),p.jsx($s,{children:tZ.map(_=>p.jsx(Fs,{value:_,children:_},_))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:f("insurance.location")}),p.jsxs(Ui,{value:n,onValueChange:r,children:[p.jsx(js,{children:p.jsx(Vi,{placeholder:f("insurance.selectState")})}),p.jsx($s,{children:nZ.map(_=>p.jsx(Fs,{value:_,children:_},_))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:f("insurance.season")}),p.jsxs(Ui,{value:s,onValueChange:i,children:[p.jsx(js,{children:p.jsx(Vi,{placeholder:f("insurance.selectSeason")})}),p.jsx($s,{children:rZ.map(_=>p.jsx(Fs,{value:_,children:_},_))})]})]})]}),p.jsx(Xe,{onClick:m,disabled:l,className:"w-full",children:f(l?"insurance.loading":"insurance.getAdvice")}),o&&p.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-accent/50 rounded-lg space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[p.jsx(l$,{className:"h-4 w-4"}),f("insurance.aiRecommendations")]}),p.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>d(!u),className:"h-8",children:u?p.jsxs(p.Fragment,{children:[p.jsx(_u,{className:"h-4 w-4 mr-1"}),"Hide"]}):p.jsxs(p.Fragment,{children:[p.jsx(Ka,{className:"h-4 w-4 mr-1"}),"Show"]})})]}),u&&p.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"prose prose-sm max-w-none whitespace-pre-wrap",children:o})]})]})]})})},iZ=["Wheat","Rice","Soybean","Cotton","Maize","Sugarcane","Potato","Onion","Tomato","Groundnut","Mustard","Pulses","Bajra","Jowar","Barley","Chickpea","Lentils"],oZ=["Andhra Pradesh","Bihar","Gujarat","Haryana","Karnataka","Madhya Pradesh","Maharashtra","Punjab","Rajasthan","Tamil Nadu","Telangana","Uttar Pradesh","West Bengal"],aZ=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(!1),[l,c]=y.useState(!0),{toast:u}=lo(),{t:d,i18n:h}=gr();y.useEffect(()=>{(async()=>{try{const m=en(Wt,"cropPriceQueries/last"),_=await SA(m);if(_.exists()){const w=_.val();e(w.cropName||""),r(w.location||"")}}catch(m){console.error("Error loading last query:",m)}})()},[]);const f=async()=>{if(!t||!n){u({title:d("prices.error"),description:d("prices.fillAllFields"),variant:"destructive"});return}a(!0);try{const g=en(Wt,"cropPriceQueries/history");await LH(g,{cropName:t,location:n,timestamp:new Date().toISOString()});const m=en(Wt,"cropPriceQueries/last");await Mi(m,{cropName:t,location:n});const{data:_,error:w}=await so.functions.invoke("crop-prices",{body:{cropName:t,location:n,language:h.language}});if(w)throw w;i(_.priceInfo),u({title:d("prices.success"),description:d("prices.infoRetrieved")})}catch(g){console.error("Error getting crop prices:",g),u({title:d("prices.error"),description:d("prices.failed"),variant:"destructive"})}finally{a(!1)}};return p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"w-full",children:p.jsxs(Dt,{className:"w-full",children:[p.jsxs(Fa,{children:[p.jsxs(ju,{className:"flex items-center gap-2",children:[p.jsx(ZP,{className:"h-5 w-5"}),d("prices.title")]}),p.jsx($u,{children:d("prices.description")})]}),p.jsxs(Ua,{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:d("prices.cropName")}),p.jsxs(Ui,{value:t,onValueChange:e,children:[p.jsx(js,{children:p.jsx(Vi,{placeholder:d("prices.selectCrop")})}),p.jsx($s,{children:iZ.map(g=>p.jsx(Fs,{value:g,children:g},g))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:d("prices.location")}),p.jsxs(Ui,{value:n,onValueChange:r,children:[p.jsx(js,{children:p.jsx(Vi,{placeholder:d("prices.selectState")})}),p.jsx($s,{children:oZ.map(g=>p.jsx(Fs,{value:g,children:g},g))})]})]})]}),p.jsx(Xe,{onClick:f,disabled:o,className:"w-full",children:d(o?"prices.loading":"prices.getPrices")}),s&&p.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-accent/50 rounded-lg space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[p.jsx(a$,{className:"h-4 w-4"}),d("prices.marketInsights")]}),p.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"h-8",children:l?p.jsxs(p.Fragment,{children:[p.jsx(_u,{className:"h-4 w-4 mr-1"}),"Hide"]}):p.jsxs(p.Fragment,{children:[p.jsx(Ka,{className:"h-4 w-4 mr-1"}),"Show"]})})]}),l&&p.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"prose prose-sm max-w-none whitespace-pre-wrap",children:s})]})]})]})})};var iL=["PageUp","PageDown"],oL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],aL={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},hl="Slider",[xv,lZ,cZ]=_w(hl),[lL,Eae]=zr(hl,[cZ]),[uZ,kp]=lL(hl),cL=y.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:g,...m}=t,_=y.useRef(new Set),w=y.useRef(0),b=o==="horizontal"?dZ:hZ,[x=[],S]=Oc({prop:u,defaultProp:c,onChange:O=>{var B;(B=[..._.current][w.current])==null||B.focus(),d(O)}}),E=y.useRef(x);function C(O){const L=yZ(x,O);I(O,L)}function T(O){I(O,w.current)}function P(){const O=E.current[w.current];x[w.current]!==O&&h(x)}function I(O,L,{commit:B}={commit:!1}){const N=bZ(i),G=xZ(Math.round((O-r)/i)*i+r,N),U=cu(G,[r,s]);S((M=[])=>{const k=mZ(M,U,L);if(_Z(k,l*i)){w.current=k.indexOf(U);const R=String(k)!==String(M);return R&&B&&h(k),R?k:M}else return M})}return p.jsx(uZ,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:w,thumbs:_.current,values:x,orientation:o,form:g,children:p.jsx(xv.Provider,{scope:t.__scopeSlider,children:p.jsx(xv.Slot,{scope:t.__scopeSlider,children:p.jsx(b,{"aria-disabled":a,"data-disabled":a?"":void 0,...m,ref:e,onPointerDown:Y(m.onPointerDown,()=>{a||(E.current=x)}),min:r,max:s,inverted:f,onSlideStart:a?void 0:C,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&I(r,0,{commit:!0}),onEndKeyDown:()=>!a&&I(s,x.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:L})=>{if(!a){const G=iL.includes(O.key)||O.shiftKey&&oL.includes(O.key)?10:1,U=w.current,M=x[U],k=i*G*L;I(M+k,U,{commit:!0})}}})})})})});cL.displayName=hl;var[uL,dL]=lL(hl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),dZ=y.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,[d,h]=y.useState(null),f=de(e,b=>h(b)),g=y.useRef(void 0),m=g_(s),_=m==="ltr",w=_&&!i||!_&&i;function v(b){const x=g.current||d.getBoundingClientRect(),S=[0,x.width],C=R_(S,w?[n,r]:[r,n]);return g.current=x,C(b-x.left)}return p.jsx(uL,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:p.jsx(hL,{dir:m,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const x=v(b.clientX);o==null||o(x)},onSlideMove:b=>{const x=v(b.clientX);a==null||a(x)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:b=>{const S=aL[w?"from-left":"from-right"].includes(b.key);c==null||c({event:b,direction:S?-1:1})}})})}),hZ=y.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,u=y.useRef(null),d=de(e,u),h=y.useRef(void 0),f=!s;function g(m){const _=h.current||u.current.getBoundingClientRect(),w=[0,_.height],b=R_(w,f?[r,n]:[n,r]);return h.current=_,b(m-_.top)}return p.jsx(uL,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:p.jsx(hL,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const _=g(m.clientY);i==null||i(_)},onSlideMove:m=>{const _=g(m.clientY);o==null||o(_)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:m=>{const w=aL[f?"from-bottom":"from-top"].includes(m.key);l==null||l({event:m,direction:w?-1:1})}})})}),hL=y.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,u=kp(hl,n);return p.jsx(ie.span,{...c,ref:e,onKeyDown:Y(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):iL.concat(oL).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:Y(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(h)?h.focus():r(d)}),onPointerMove:Y(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&s(d)}),onPointerUp:Y(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),i(d))})})}),fL="SliderTrack",pL=y.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=kp(fL,n);return p.jsx(ie.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});pL.displayName=fL;var Sv="SliderRange",mL=y.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=kp(Sv,n),i=dL(Sv,n),o=y.useRef(null),a=de(e,o),l=s.values.length,c=s.values.map(h=>vL(h,s.min,s.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return p.jsx(ie.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:u+"%",[i.endEdge]:d+"%"}})});mL.displayName=Sv;var Ev="SliderThumb",gL=y.forwardRef((t,e)=>{const n=lZ(t.__scopeSlider),[r,s]=y.useState(null),i=de(e,a=>s(a)),o=y.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(fZ,{...t,ref:i,index:o})}),fZ=y.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=kp(Ev,n),a=dL(Ev,n),[l,c]=y.useState(null),u=de(e,v=>c(v)),d=l?o.form||!!l.closest("form"):!0,h=Mw(l),f=o.values[r],g=f===void 0?0:vL(f,o.min,o.max),m=gZ(r,o.values.length),_=h==null?void 0:h[a.size],w=_?vZ(_,g,a.direction):0;return y.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${g}% + ${w}px)`},children:[p.jsx(xv.ItemSlot,{scope:t.__scopeSlider,children:p.jsx(ie.span,{role:"slider","aria-label":t["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:f===void 0?{display:"none"}:t.style,onFocus:Y(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),d&&p.jsx(yL,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},r)]})});gL.displayName=Ev;var pZ="RadioBubbleInput",yL=y.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=y.useRef(null),i=de(s,r),o=y_(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("input",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),p.jsx(ie.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});yL.displayName=pZ;function mZ(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function vL(t,e,n){const i=100/(n-e)*(t-e);return cu(i,[0,100])}function gZ(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function yZ(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function vZ(t,e,n){const r=t/2,i=R_([0,50],[0,r]);return(r-i(e)*n)*n}function wZ(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function _Z(t,e){if(e>0){const n=wZ(t);return Math.min(...n)>=e}return!0}function R_(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function bZ(t){return(String(t).split(".")[1]||"").length}function xZ(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var wL=cL,SZ=pL,EZ=mL,CZ=gL;const _L=y.forwardRef(({className:t,...e},n)=>p.jsxs(wL,{ref:n,className:we("relative flex w-full touch-none select-none items-center",t),...e,children:[p.jsx(SZ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(EZ,{className:"absolute h-full bg-primary"})}),p.jsx(CZ,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));_L.displayName=wL.displayName;const TZ=({label:t,description:e,value:n,onChange:r,min:s=0,max:i=100,step:o=1,unit:a="%"})=>p.jsx(K.div,{whileHover:{scale:1.02},transition:{duration:.2},children:p.jsx(Dt,{className:"p-6 bg-card border-border shadow-[var(--shadow-card)] hover:shadow-[var(--shadow-glow)] transition-all duration-300",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Lr,{className:"w-5 h-5 text-primary"}),p.jsxs("div",{children:[p.jsx(ro,{className:"text-lg font-semibold text-foreground",children:t}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e})]})]}),p.jsxs("div",{className:"text-2xl font-bold text-primary",children:[n,a]})]}),p.jsx(_L,{value:[n],onValueChange:l=>r(l[0]),min:s,max:i,step:o,className:"w-full"})]})})}),PZ=()=>{const[t,e]=y.useState({autoMode:!0,laserSystem:!1,pump:!1,startTime:"20:17",stopDuration:"00:01",solarTracker:!1,soilLimit:45}),[n,r]=y.useState({temperature:28.5,humidity:65,soilMoisture:45}),[s,i]=y.useState(""),[o,a]=y.useState(!0),l=Hw(),{toast:c}=lo(),{t:u}=gr();y.useEffect(()=>{const f=KI(eu,g=>{if(!g)l("/");else{a(!1);const m=en(Wt,"SMART_FARM/controls"),_=en(Wt,"SMART_FARM/sensors");ef(m,w=>{const v=w.val();v&&e(v)}),ef(_,w=>{const v=w.val();v&&r(b=>({temperature:v.temperature??b.temperature,humidity:v.humidity??b.humidity,soilMoisture:v.soilMoisture??b.soilMoisture}))})}});return()=>f()},[l]);const d=async(f,g)=>{try{let m={...t,[f]:g};f==="autoMode"&&g===!0?m.pump=!1:f==="pump"&&g===!0&&(m.autoMode=!1),e(m),await Mi(en(Wt,"SMART_FARM/controls"),m),c({title:u("changesSaved"),description:`${f} updated successfully`})}catch{c({title:u("error"),description:"Failed to update control",variant:"destructive"})}},h=async()=>{try{await E5(eu),l("/")}catch{c({title:u("error"),description:"Logout failed",variant:"destructive"})}};return o?p.jsx(eZ,{}):p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[p.jsx(K.header,{initial:{y:-100},animate:{y:0},className:"bg-card border-b border-border shadow-[var(--shadow-card)] sticky top-0 z-50 backdrop-blur-sm bg-card/95",children:p.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(K.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:p.jsx(bu,{className:"w-8 h-8 text-primary"})}),p.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:u("appTitle")})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(w_,{}),p.jsxs(Xe,{onClick:h,variant:"outline",className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[p.jsx(f$,{className:"w-4 h-4 mr-2"}),u("logout")]})]})]})}),p.jsxs("main",{className:"container mx-auto px-4 py-8",children:[p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("sensorData")}),p.jsx("p",{className:"text-muted-foreground",children:"Real-time monitoring"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[p.jsx(Jm,{label:u("temperature"),value:n.temperature,max:50,unit:"C",icon:p.jsx(b$,{}),color:"hsl(var(--primary))"}),p.jsx(Jm,{label:u("humidity"),value:n.humidity,max:100,unit:"%",icon:p.jsx(o$,{}),color:"hsl(var(--accent))"}),p.jsx(Jm,{label:u("soilMoisture"),value:n.soilMoisture,max:100,unit:"%",icon:p.jsx(Lr,{}),color:"#10b981"})]}),p.jsx(ZX,{sensorData:n,onPrediction:i}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("controls")}),p.jsx("p",{className:"text-muted-foreground",children:"Manage your farm systems"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-6xl mb-12",children:[p.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:p.jsx(Ed,{label:"Solar Tracker",description:"Manually control solar panel tracking",checked:t.solarTracker,onChange:f=>d("solarTracker",f),icon:p.jsx(Dc,{className:"w-6 h-6"})})}),p.jsx(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:p.jsx(TZ,{label:"Soil Moisture Limit",description:"Set threshold for field irrigation",value:t.soilLimit,onChange:f=>d("soilLimit",f),min:0,max:100,step:1,unit:"%"})}),p.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:p.jsx(Ed,{label:u("autoMode"),description:u("autoModeDesc"),checked:t.autoMode,onChange:f=>d("autoMode",f),icon:p.jsx(XP,{className:"w-6 h-6"})})}),p.jsx(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:p.jsx(Ed,{label:u("laserSystem"),description:u("laserSystemDesc"),checked:t.laserSystem,onChange:f=>d("laserSystem",f),icon:p.jsx(ek,{className:"w-6 h-6"})})}),p.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:p.jsx(Ed,{label:u("pump"),description:u("pumpDesc"),checked:t.pump,onChange:f=>d("pump",f),icon:p.jsx(Lr,{className:"w-6 h-6"})})}),p.jsx(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:p.jsx(KY,{label:u("startTime"),description:u("startTimeDesc"),value:t.startTime,onChange:f=>d("startTime",f)})}),p.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"md:col-span-2",children:p.jsx(GY,{label:u("stopDuration"),description:u("stopDurationDesc"),value:t.stopDuration,onChange:f=>d("stopDuration",f)})})]}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Web Viewer"}),p.jsx("p",{className:"text-muted-foreground",children:"Browse external resources"})]}),p.jsx($X,{}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("smartFarmGuide")}),p.jsx("p",{className:"text-muted-foreground",children:u("aiPoweredGuidance")})]}),p.jsx(MX,{sensorData:n,predictedCrop:s}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("insurance.title")}),p.jsx("p",{className:"text-muted-foreground",children:u("insurance.description")})]}),p.jsx(sZ,{}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("prices.title")}),p.jsx("p",{className:"text-muted-foreground",children:u("prices.description")})]}),p.jsx(aZ,{}),p.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-12 mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u("weatherForecast")}),p.jsx("p",{className:"text-muted-foreground",children:"Real-time weather updates"})]}),p.jsx(jX,{})]}),p.jsx(XX,{sensorData:n,predictedCrop:s})]})},kZ=()=>{const t=zw();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},IZ="Smart Farm Dashboard",RZ="Dashboard",AZ="Controls",NZ="Auto Mode",OZ="Enable automatic farm management",DZ="Laser System",LZ="Control laser bird deterrent system",MZ="Water Pump",jZ="Control irrigation pump",$Z="Start Time",FZ="Set operation start time",UZ="Stop Duration",VZ="Set pause duration (HH:MM)",BZ="Login",WZ="Logout",zZ="Email",HZ="Password",KZ="Sign In",GZ="Status",qZ="Active",YZ="Inactive",QZ="Last Updated",JZ="Welcome Back",XZ="Manage your smart farm system",ZZ="Language",eee="Save Changes",tee="Changes saved successfully",nee="Error",ree="Login failed. Please check your credentials.",see="Sensor Data",iee="Temperature",oee="Humidity",aee="Soil Moisture",lee="pH Level",cee="Light Intensity",uee="AI Crop Prediction",dee="Get AI-powered crop recommendations based on current conditions",hee="Predict Crop",fee="Prediction Complete",pee="Recommended Crop",mee="Failed to get crop prediction",gee="AI Recommended",yee="Weather Forecast",vee="Search city...",wee="Feels like",_ee="Wind Speed",bee="5-Day Forecast",xee="Smart Farm Guide",See="AI-powered daily farming guidance",Eee="Select Crop",Cee="Choose a crop",Tee="days",Pee="AI Predicted",kee="Start Guide",Iee="Starting...",Ree="Current Crop",Aee="Stop Guide",Nee="Growth Progress",Oee="complete",Dee="Today's Instructions",Lee="Refresh",Mee="Generating...",jee="Generated",$ee="No instructions for today yet",Fee="Generate Now",Uee="Low Moisture",Vee="High Temp",Bee="Rain Detected",Wee="Please select a crop first",zee="Smart Farm Guide started successfully!",Hee="Failed to start guide",Kee="Daily instructions generated!",Gee="Failed to generate instructions",qee="Guide stopped",Yee="Failed to stop guide",Qee={title:"AI Assistant",askQuestion:"Ask me anything about farming...",send:"Send",error:"Failed to get response. Please try again."},Jee={title:"Insurance Advice",description:"Get AI-powered insurance recommendations for your crops",cropType:"Crop Type",selectCrop:"Select a crop",location:"State",selectState:"Select your state",season:"Season",selectSeason:"Select season",getAdvice:"Get Insurance Advice",loading:"Loading...",success:"Success",error:"Error",adviceGenerated:"Insurance advice generated successfully",fillAllFields:"Please fill all fields",failed:"Failed to get insurance advice",aiRecommendations:"AI Recommendations"},Xee={title:"Crop Prices",description:"Check latest market prices and trends for your crops",cropName:"Crop Name",selectCrop:"Select a crop",location:"State/District",selectState:"Select location",getPrices:"Get Price Information",loading:"Loading...",success:"Success",error:"Error",infoRetrieved:"Price information retrieved successfully",fillAllFields:"Please select crop and location",failed:"Failed to get price information",marketInsights:"Market Insights"},Zee={rice:"Rice",wheat:"Wheat",corn:"Corn",tomato:"Tomato",potato:"Potato",cotton:"Cotton",sugarcane:"Sugarcane",beans:"Beans"},ete={appTitle:IZ,dashboard:RZ,controls:AZ,autoMode:NZ,autoModeDesc:OZ,laserSystem:DZ,laserSystemDesc:LZ,pump:MZ,pumpDesc:jZ,startTime:$Z,startTimeDesc:FZ,stopDuration:UZ,stopDurationDesc:VZ,login:BZ,logout:WZ,email:zZ,password:HZ,signIn:KZ,status:GZ,active:qZ,inactive:YZ,lastUpdated:QZ,welcomeBack:JZ,manageYourFarm:XZ,language:ZZ,saveChanges:eee,changesSaved:tee,error:nee,loginError:ree,sensorData:see,temperature:iee,humidity:oee,soilMoisture:aee,phLevel:lee,lightIntensity:cee,cropPrediction:uee,cropPredictionDesc:dee,predictCrop:hee,predictionComplete:fee,recommendedCrop:pee,predictionFailed:mee,aiRecommended:gee,weatherForecast:yee,searchCity:vee,feelsLike:wee,windSpeed:_ee,fiveDayForecast:bee,smartFarmGuide:xee,aiPoweredGuidance:See,selectCrop:Eee,chooseCrop:Cee,days:Tee,aiPredicted:Pee,startGuide:kee,starting:Iee,currentCrop:Ree,stopGuide:Aee,growthProgress:Nee,complete:Oee,todayInstructions:Dee,refresh:Lee,generating:Mee,generated:jee,noInstructions:$ee,generateNow:Fee,lowMoisture:Uee,highTemp:Vee,rainDetected:Bee,selectCropFirst:Wee,guideStarted:zee,guideFailed:Hee,instructionsGenerated:Kee,instructionsFailed:Gee,guideStopped:qee,guideStopFailed:Yee,chatbot:Qee,insurance:Jee,prices:Xee,crops:Zee},tte="  ",nte="",rte="",ste=" ",ite="    ",ote=" ",ate="      ",lte=" ",cte="    ",ute=" ",dte="    ",hte="  ",fte="    (HH:MM)",pte="  ",mte=" ",gte="",yte="",vte="  ",wte="",_te="",bte="",xte=" ",Ste="   ",Ete="      ",Cte="",Tte=" ",Pte="   ",kte="",Ite="       ",Rte=" ",Ate="",Nte="",Ote="  ",Dte=" ",Lte="  ",Mte="  ",jte="     -    ",$te="   ",Fte=" ",Ute=" ",Vte="      ",Bte=" ",Wte=" ",zte=" ...",Hte="   ",Kte="  ",Gte="5-  ",qte="  ",Yte="-   ",Qte=" ",Jte="  ",Xte="",Zte=" ",ene="  ",tne="   ...",nne=" ",rne="  ",sne=" ",ine="",one="  ",ane=" ",lne="   ...",cne="",une="       ",dne="  ",hne=" ",fne=" ",pne="   ",mne="    ",gne="     !",yne="    ",vne="  !",wne="    ",_ne=" ",bne="    ",xne={title:" ",askQuestion:"       ...",send:"",error:"        "},Sne={title:" ",description:"    -    ",cropType:"  ",selectCrop:"  ",location:"",selectState:"  ",season:"",selectSeason:" ",getAdvice:"   ",loading:"   ...",success:"",error:"",adviceGenerated:"   ",fillAllFields:"   ",failed:"     ",aiRecommendations:" "},Ene={title:" ",description:"         ",cropName:"  ",selectCrop:"  ",location:"/",selectState:" ",getPrices:"   ",loading:"   ...",success:"",error:"",infoRetrieved:"   ",fillAllFields:"    ",failed:"     ",marketInsights:" "},Cne={rice:"",wheat:"",corn:"",tomato:"",potato:"",cotton:"",sugarcane:"",beans:""},Tne={appTitle:tte,dashboard:nte,controls:rte,autoMode:ste,autoModeDesc:ite,laserSystem:ote,laserSystemDesc:ate,pump:lte,pumpDesc:cte,startTime:ute,startTimeDesc:dte,stopDuration:hte,stopDurationDesc:fte,login:pte,logout:mte,email:gte,password:yte,signIn:vte,status:wte,active:_te,inactive:bte,lastUpdated:xte,welcomeBack:Ste,manageYourFarm:Ete,language:Cte,saveChanges:Tte,changesSaved:Pte,error:kte,loginError:Ite,sensorData:Rte,temperature:Ate,humidity:Nte,soilMoisture:Ote,phLevel:Dte,lightIntensity:Lte,cropPrediction:Mte,cropPredictionDesc:jte,predictCrop:$te,predictionComplete:Fte,recommendedCrop:Ute,predictionFailed:Vte,aiRecommended:Bte,weatherForecast:Wte,searchCity:zte,feelsLike:Hte,windSpeed:Kte,fiveDayForecast:Gte,smartFarmGuide:qte,aiPoweredGuidance:Yte,selectCrop:Qte,chooseCrop:Jte,days:Xte,aiPredicted:Zte,startGuide:ene,starting:tne,currentCrop:nne,stopGuide:rne,growthProgress:sne,complete:ine,todayInstructions:one,refresh:ane,generating:lne,generated:cne,noInstructions:une,generateNow:dne,lowMoisture:hne,highTemp:fne,rainDetected:pne,selectCropFirst:mne,guideStarted:gne,guideFailed:yne,instructionsGenerated:vne,instructionsFailed:wne,guideStopped:_ne,guideStopFailed:bne,chatbot:xne,insurance:Sne,prices:Ene,crops:Cne},Pne="  ",kne="",Ine="",Rne=" ",Ane="    ",Nne=" ",One="     ",Dne=" ",Lne="   ",Mne=" ",jne="    ",$ne=" ",Fne="    (HH:MM)",Une=" ",Vne="",Bne="",Wne="",zne="  ",Hne="",Kne="",Gne="",qne=" ",Yne="  ",Qne="     ",Jne="",Xne="  ",Zne="   ",ere="",tre=" .    .",nre=" ",rre="",sre="",ire=" ",ore=" ",are=" ",lre="  ",cre="   -   ",ure="  ",dre=" ",hre="  ",fre="   ",pre="  ",mre=" ",gre=" ...",yre=" ",vre=" ",wre="5- ",_re="  ",bre="-   ",xre=" ",Sre="  ",Ere="",Cre=" ",Tre="  ",Pre="  ...",kre=" ",Ire=" ",Rre=" ",Are="",Nre=" ",Ore=" ",Dre="  ...",Lre=" ",Mre="    ",jre="  ",$re=" ",Fre=" ",Ure=" ",Vre="    ",Bre="     !",Wre="   ",zre="   !",Hre="   ",Kre=" ",Gre="  ",qre={title:" ",askQuestion:"   ...",send:"",error:"  .    ."},Yre={title:" ",description:"  -   ",cropType:" ",selectCrop:"  ",location:"",selectState:"  ",season:"",selectSeason:" ",getAdvice:"  ",loading:"  ...",success:"",error:"",adviceGenerated:"    ",fillAllFields:"   ",failed:"   ",aiRecommendations:" "},Qre={title:" ",description:"       ",cropName:" ",selectCrop:"  ",location:"/",selectState:" ",getPrices:"  ",loading:"  ...",success:"",error:"",infoRetrieved:"   ",fillAllFields:"    ",failed:"   ",marketInsights:" "},Jre={rice:"",wheat:"",corn:"",tomato:"",potato:"",cotton:"",sugarcane:"",beans:""},Xre={appTitle:Pne,dashboard:kne,controls:Ine,autoMode:Rne,autoModeDesc:Ane,laserSystem:Nne,laserSystemDesc:One,pump:Dne,pumpDesc:Lne,startTime:Mne,startTimeDesc:jne,stopDuration:$ne,stopDurationDesc:Fne,login:Une,logout:Vne,email:Bne,password:Wne,signIn:zne,status:Hne,active:Kne,inactive:Gne,lastUpdated:qne,welcomeBack:Yne,manageYourFarm:Qne,language:Jne,saveChanges:Xne,changesSaved:Zne,error:ere,loginError:tre,sensorData:nre,temperature:rre,humidity:sre,soilMoisture:ire,phLevel:ore,lightIntensity:are,cropPrediction:lre,cropPredictionDesc:cre,predictCrop:ure,predictionComplete:dre,recommendedCrop:hre,predictionFailed:fre,aiRecommended:pre,weatherForecast:mre,searchCity:gre,feelsLike:yre,windSpeed:vre,fiveDayForecast:wre,smartFarmGuide:_re,aiPoweredGuidance:bre,selectCrop:xre,chooseCrop:Sre,days:Ere,aiPredicted:Cre,startGuide:Tre,starting:Pre,currentCrop:kre,stopGuide:Ire,growthProgress:Rre,complete:Are,todayInstructions:Nre,refresh:Ore,generating:Dre,generated:Lre,noInstructions:Mre,generateNow:jre,lowMoisture:$re,highTemp:Fre,rainDetected:Ure,selectCropFirst:Vre,guideStarted:Bre,guideFailed:Wre,instructionsGenerated:zre,instructionsFailed:Hre,guideStopped:Kre,guideStopFailed:Gre,chatbot:qre,insurance:Yre,prices:Qre,crops:Jre},Zre="  ",ese="",tse="",nse=" ",rse="   ",sse=" ",ise="    ",ose=" ",ase="  ",lse=" ",cse="   ",use=" ",dse="   (HH:MM)",hse="",fse="",pse="",mse="",gse="",yse="",vse="",wse="",_se=" ",bse=" ",xse="    ",Sse="",Ese=" ",Cse="  ",Tse="",Pse=" .   .",kse=" ",Ise="",Rse="",Ase=" ",Nse="pH ",Ose=" ",Dse="AI  ",Lse="   AI-   ",Mse=" ",jse=" ",$se=" ",Fse="   ",Use="AI ",Vse=" ",Bse=" ...",Wse=" ",zse=" ",Hse="5  ",Kse="  ",Gse="AI-   ",qse=" ",Yse="   ",Qse="",Jse="AI ",Xse=" ",Zse="...",eie=" ",tie=" ",nie=" ",rie="",sie=" ",iie="",oie="...",aie="",lie="   ",cie=" ",uie=" ",die=" ",hie=" ",fie="    ",pie="    !",mie="  ",gie="  !",yie="  ",vie=" ",wie="  ",_ie={title:"AI ",askQuestion:"    ...",send:"",error:"  .  ."},bie={title:" ",description:"  AI-   ",cropType:" ",selectCrop:"  ",location:"",selectState:"  ",season:"",selectSeason:" ",getAdvice:"  ",loading:"...",success:"",error:"",adviceGenerated:"   ",fillAllFields:"   ",failed:"   ",aiRecommendations:"AI "},xie={title:" ",description:"       ",cropName:" ",selectCrop:"  ",location:"/",selectState:" ",getPrices:"  ",loading:"...",success:"",error:"",infoRetrieved:"   ",fillAllFields:"    ",failed:"   ",marketInsights:" "},Sie={rice:"",wheat:"",corn:"",tomato:"",potato:"",cotton:"",sugarcane:"",beans:""},Eie={appTitle:Zre,dashboard:ese,controls:tse,autoMode:nse,autoModeDesc:rse,laserSystem:sse,laserSystemDesc:ise,pump:ose,pumpDesc:ase,startTime:lse,startTimeDesc:cse,stopDuration:use,stopDurationDesc:dse,login:hse,logout:fse,email:pse,password:mse,signIn:gse,status:yse,active:vse,inactive:wse,lastUpdated:_se,welcomeBack:bse,manageYourFarm:xse,language:Sse,saveChanges:Ese,changesSaved:Cse,error:Tse,loginError:Pse,sensorData:kse,temperature:Ise,humidity:Rse,soilMoisture:Ase,phLevel:Nse,lightIntensity:Ose,cropPrediction:Dse,cropPredictionDesc:Lse,predictCrop:Mse,predictionComplete:jse,recommendedCrop:$se,predictionFailed:Fse,aiRecommended:Use,weatherForecast:Vse,searchCity:Bse,feelsLike:Wse,windSpeed:zse,fiveDayForecast:Hse,smartFarmGuide:Kse,aiPoweredGuidance:Gse,selectCrop:qse,chooseCrop:Yse,days:Qse,aiPredicted:Jse,startGuide:Xse,starting:Zse,currentCrop:eie,stopGuide:tie,growthProgress:nie,complete:rie,todayInstructions:sie,refresh:iie,generating:oie,generated:aie,noInstructions:lie,generateNow:cie,lowMoisture:uie,highTemp:die,rainDetected:hie,selectCropFirst:fie,guideStarted:pie,guideFailed:mie,instructionsGenerated:gie,instructionsFailed:yie,guideStopped:vie,guideStopFailed:wie,chatbot:_ie,insurance:bie,prices:xie,crops:Sie},Cie="  ",Tie="",Pie="",kie=" ",Iie="   ",Rie=" ",Aie="    ",Nie=" ",Oie="  ",Die=" ",Lie="    ",Mie=" ",jie="    (HH:MM)",$ie="",Fie="",Uie="",Vie="",Bie="  ",Wie="",zie="",Hie="",Kie=" ",Gie=" ",qie="    ",Yie="",Qie="  ",Jie="   ",Xie="",Zie=" .     .",eoe=" ",toe="",noe="",roe=" ",soe="pH ",ioe=" ",ooe="AI  ",aoe="   AI-   ",loe="  ",coe=" ",uoe="  ",doe="   ",hoe="AI  ",foe=" ",poe=" ...",moe="",goe=" ",yoe="5- ",voe="  ",woe="AI-   ",_oe=" ",boe="  ",xoe="",Soe="AI ",Eoe=" ",Coe="...",Toe=" ",Poe=" ",koe=" ",Ioe="",Roe=" ",Aoe="",Noe="...",Ooe="",Doe="   ",Loe=" ",Moe=" ",joe=" ",$oe=" ",Foe="    ",Uoe="    !",Voe="  ",Boe="  !",Woe="  ",zoe=" ",Hoe="  ",Koe={title:"AI ",askQuestion:"    ...",send:"",error:"  .   ."},Goe={title:" ",description:"  AI-   ",cropType:" ",selectCrop:"  ",location:"",selectState:"  ",season:"",selectSeason:" ",getAdvice:"  ",loading:" ...",success:"",error:"",adviceGenerated:"   ",fillAllFields:"   ",failed:"   ",aiRecommendations:"AI "},qoe={title:" ",description:"         ",cropName:" ",selectCrop:"  ",location:"/",selectState:" ",getPrices:"  ",loading:" ...",success:"",error:"",infoRetrieved:"    ",fillAllFields:"    ",failed:"   ",marketInsights:" "},Yoe={rice:"",wheat:"",corn:"",tomato:"",potato:"",cotton:"",sugarcane:"",beans:""},Qoe={appTitle:Cie,dashboard:Tie,controls:Pie,autoMode:kie,autoModeDesc:Iie,laserSystem:Rie,laserSystemDesc:Aie,pump:Nie,pumpDesc:Oie,startTime:Die,startTimeDesc:Lie,stopDuration:Mie,stopDurationDesc:jie,login:$ie,logout:Fie,email:Uie,password:Vie,signIn:Bie,status:Wie,active:zie,inactive:Hie,lastUpdated:Kie,welcomeBack:Gie,manageYourFarm:qie,language:Yie,saveChanges:Qie,changesSaved:Jie,error:Xie,loginError:Zie,sensorData:eoe,temperature:toe,humidity:noe,soilMoisture:roe,phLevel:soe,lightIntensity:ioe,cropPrediction:ooe,cropPredictionDesc:aoe,predictCrop:loe,predictionComplete:coe,recommendedCrop:uoe,predictionFailed:doe,aiRecommended:hoe,weatherForecast:foe,searchCity:poe,feelsLike:moe,windSpeed:goe,fiveDayForecast:yoe,smartFarmGuide:voe,aiPoweredGuidance:woe,selectCrop:_oe,chooseCrop:boe,days:xoe,aiPredicted:Soe,startGuide:Eoe,starting:Coe,currentCrop:Toe,stopGuide:Poe,growthProgress:koe,complete:Ioe,todayInstructions:Roe,refresh:Aoe,generating:Noe,generated:Ooe,noInstructions:Doe,generateNow:Loe,lowMoisture:Moe,highTemp:joe,rainDetected:$oe,selectCropFirst:Foe,guideStarted:Uoe,guideFailed:Voe,instructionsGenerated:Boe,instructionsFailed:Woe,guideStopped:zoe,guideStopFailed:Hoe,chatbot:Koe,insurance:Goe,prices:qoe,crops:Yoe};Tt.use(T8).init({resources:{en:{translation:ete},hi:{translation:Tne},mr:{translation:Xre},ta:{translation:Eie},te:{translation:Qoe}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const Joe=new K4,Xoe=()=>p.jsx(q4,{client:Joe,children:p.jsxs(x4,{children:[p.jsx(iF,{}),p.jsx(jF,{}),p.jsxs(V3,{children:[" ",p.jsxs($3,{children:[p.jsx(Ml,{path:"/",element:p.jsx(MY,{})}),p.jsx(Ml,{path:"/auth",element:p.jsx(UY,{})}),p.jsx(Ml,{path:"/dashboard",element:p.jsx(PZ,{})}),p.jsx(Ml,{path:"*",element:p.jsx(kZ,{})})]})]})]})});xP(document.getElementById("root")).render(p.jsx(Xoe,{}));
